/*! For license information please see main.d727bf1b.js.LICENSE.txt */
(()=>{var e={3:(e,t,n)=>{"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(325).default,e.exports.ResizableBox=n(276).default},4:(e,t,n)=>{"use strict";var r=n(853),a=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(i(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var P=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case h:return"Portal";case w:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var L=Array.isArray,_=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},M=[],I=-1;function F(e){return{current:e}}function U(e){0>I||(e.current=M[I],M[I]=null,I--)}function W(e,t){I++,M[I]=e.current,e.current=t}var B=F(null),H=F(null),q=F(null),V=F(null);function K(e,t){switch(W(q,t),W(H,e),W(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),W(B,e)}function $(){U(B),U(H),U(q)}function Y(e){null!==e.memoizedState&&W(V,e);var t=B.current,n=sd(t,e.type);t!==n&&(W(H,e),W(B,n))}function G(e){H.current===e&&(U(B),U(H)),V.current===e&&(U(V),Yd._currentValue=z)}var X=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,oe=r.unstable_LowPriority,le=r.unstable_IdlePriority,ie=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function me(e){if("function"===typeof ie&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/he|0)|0},fe=Math.log,he=Math.LN2;var ge=256,xe=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=134217727&r;return 0!==l?0!==(r=l&~s)?a=be(r):0!==(o&=l)?a=be(o):n||0!==(n=l&~e)&&(a=be(n)):0!==(l=r&~s)?a=be(l):0!==o?a=be(o):n||0!==(n=r&~e)&&(a=be(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:a}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ne(){var e=xe;return 0===(62914560&(xe<<=1))&&(xe=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Re(){var e=A.p;return 0!==e?e:void 0===(e=window.event)?32:cm(e.type)}var Oe=Math.random().toString(36).slice(2),De="__reactFiber$"+Oe,Le="__reactProps$"+Oe,_e="__reactContainer$"+Oe,Ae="__reactEvents$"+Oe,ze="__reactListeners$"+Oe,Me="__reactHandles$"+Oe,Ie="__reactResources$"+Oe,Fe="__reactMarker$"+Oe;function Ue(e){delete e[De],delete e[Le],delete e[Ae],delete e[ze],delete e[Me]}function We(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_e]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yd(e);null!==e;){if(n=e[De])return n;e=yd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[De]||e[_e]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function qe(e){var t=e[Ie];return t||(t=e[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Fe]=!0}var Ke=new Set,$e={};function Ye(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for($e[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,Qe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,X.call(et,a)||!X.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Qe}var st=!1;function ot(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&r&&"string"===typeof l.stack)return[l.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],l=s[1];if(o&&l){var i=o.split("\n"),c=l.split("\n");for(a=r=0;r<i.length&&!i[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===i.length||a===c.length)for(r=i.length-1,a=c.length-1;1<=r&&0<=a&&i[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(i[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||i[r]!==c[a]){var u="\n"+i[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function lt(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return at("Activity");default:return""}}function it(e){try{var t="";do{t+=lt(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function ht(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,s,o,l){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,ct(t)):null!=n?bt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.name=""+ct(l):e.removeAttribute("name")}function xt(e,t,n,r,a,s,o,l){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function bt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(L(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&kt(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Lt=null;function _t(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ht(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Le]||null;if(!a)throw Error(o(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var At=!1;function zt(e,t,n){if(At)return e(t,n);At=!0;try{return e(t)}finally{if(At=!1,(null!==Dt||null!==Lt)&&(Wc(),Dt&&(t=Dt,e=Lt,Lt=Dt=null,_t(t),e)))for(t=0;t<e.length;t++)_t(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Le]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var It=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(It)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Lm){Ft=!1}var Wt=null,Bt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Bt,r=n.length,a="value"in Wt?Wt.value:Wt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return Ht=a.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function $t(){return!1}function Yt(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:$t,this.isPropagationStopped=$t,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Gt,Xt,Qt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Yt(Jt),en=m({},Jt,{view:0,detail:0}),tn=Yt(en),nn=m({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Gt=e.screenX-Qt.screenX,Xt=e.screenY-Qt.screenY):Xt=Gt=0,Qt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Yt(nn),an=Yt(m({},nn,{dataTransfer:0})),sn=Yt(m({},en,{relatedTarget:0})),on=Yt(m({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(m({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(m({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function fn(){return pn}var hn=Yt(m({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(m({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Yt(m({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),bn=Yt(m({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Yt(m({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Yt(m({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=It&&"CompositionEvent"in window,Nn=null;It&&"documentMode"in document&&(Nn=document.documentMode);var kn=It&&"TextEvent"in window&&!Nn,Sn=It&&(!jn||Nn&&8<Nn&&11>=Nn),Cn=String.fromCharCode(32),En=!1;function Pn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Ln(e,t,n,r){Dt?Lt?Lt.push(r):Lt=[r]:Dt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _n=null,An=null;function zn(e){zu(e,0)}function Mn(e){if(mt(He(e)))return e}function In(e,t){if("change"===e)return t}var Fn=!1;if(It){var Un;if(It){var Wn="oninput"in document;if(!Wn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Wn="function"===typeof Bn.oninput}Un=Wn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){_n&&(_n.detachEvent("onpropertychange",qn),An=_n=null)}function qn(e){if("value"===e.propertyName&&Mn(An)){var t=[];Ln(t,An,e,Ot(e)),zt(zn,t)}}function Vn(e,t,n){"focusin"===e?(Hn(),An=n,(_n=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(An)}function $n(e,t){if("click"===e)return Mn(t)}function Yn(e,t){if("input"===e||"change"===e)return Mn(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!X.call(t,a)||!Gn(e[a],t[a]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=It&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,sr=null,or=!1;function lr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Xn(sr,r)||(sr=r,0<(r=qu(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},ur={},dr={};function mr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}It&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=mr("animationend"),fr=mr("animationiteration"),hr=mr("animationstart"),gr=mr("transitionrun"),xr=mr("transitionstart"),br=mr("transitioncancel"),yr=mr("transitionend"),vr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){vr.set(e,t),Ye(t,[e])}wr.push("scrollEnd");var Nr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:it(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:it(t)}}var Sr=[],Cr=0,Er=0;function Pr(){for(var e=Cr,t=Er=Cr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var a=Sr[t];Sr[t++]=null;var s=Sr[t];if(Sr[t++]=null,null!==r&&null!==a){var o=r.pending;null===o?a.next=a:(a.next=o.next,o.next=a),r.pending=a}0!==s&&Dr(n,a,s)}}function Tr(e,t,n,r){Sr[Cr++]=e,Sr[Cr++]=t,Sr[Cr++]=n,Sr[Cr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Tr(e,t,n,r),Lr(e)}function Or(e,t){return Tr(e,null,null,t),Lr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-pe(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Lr(e){if(50<Dc)throw Dc=0,Lc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var _r={};function Ar(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Ar(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ir(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,a,s){var l=0;if(r=e,"function"===typeof e)Mr(e)&&(l=1);else if("string"===typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=zr(31,n,t,a)).elementType=E,e.lanes=s,e;case g:return Wr(n.children,a,s,t);case x:l=8,a|=24;break;case b:return(e=zr(12,n,t,2|a)).elementType=b,e.lanes=s,e;case N:return(e=zr(13,n,t,a)).elementType=N,e.lanes=s,e;case k:return(e=zr(19,n,t,a)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case w:l=10;break e;case v:l=9;break e;case j:l=11;break e;case S:l=14;break e;case C:l=16,r=null;break e}l=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=zr(l,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Wr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Vr=0,Kr=null,$r=0,Yr=[],Gr=0,Xr=null,Qr=1,Jr="";function Zr(e,t){qr[Vr++]=$r,qr[Vr++]=Kr,Kr=e,$r=t}function ea(e,t,n){Yr[Gr++]=Qr,Yr[Gr++]=Jr,Yr[Gr++]=Xr,Xr=e;var r=Qr;e=Jr;var a=32-pe(r)-1;r&=~(1<<a),n+=1;var s=32-pe(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Qr=1<<32-pe(t)+a|n<<a|r,Jr=s+e}else Qr=1<<s|n<<a|r,Jr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Kr;)Kr=qr[--Vr],qr[Vr]=null,$r=qr[--Vr],qr[Vr]=null;for(;e===Xr;)Xr=Yr[--Gr],Yr[Gr]=null,Jr=Yr[--Gr],Yr[Gr]=null,Qr=Yr[--Gr],Yr[Gr]=null}var ra=null,aa=null,sa=!1,oa=null,la=!1,ia=Error(o(519));function ca(e){throw ha(kr(Error(o(418,"")),e)),ia}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Le]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<_u.length;n++)Mu(_u[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=Qu),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(la=!1);case 27:case 3:return void(la=!0);default:ra=ra.return}}function ma(e){if(e!==ra)return!1;if(!sa)return da(e),sa=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=xd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,pd(e.type)?(e=bd,bd=null,aa=e):aa=n):aa=ra?xd(e.stateNode.nextSibling):null;return!0}function pa(){aa=ra=null,sa=!1}function fa(){var e=oa;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),oa=null),e}function ha(e){null===oa?oa=[e]:oa.push(e)}var ga=F(null),xa=null,ba=null;function ya(e,t,n){W(ga,t._currentValue),t._currentValue=n}function va(e){e._currentValue=ga.current,U(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var l=a.child;s=s.firstContext;e:for(;null!==s;){var i=s;s=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),wa(s.return,n,e),r||(l=null);break e}s=i.next}}else if(18===a.tag){if(null===(l=a.return))throw Error(o(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),wa(l,n,e),l=null}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}function Na(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var l=a.alternate;if(null===l)throw Error(o(387));if(null!==(l=l.memoizedProps)){var i=a.type;Gn(a.pendingProps.value,l.value)||(null!==e?e.push(i):e=[i])}}else if(a===V.current){if(null===(l=a.alternate))throw Error(o(387));l.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}a=a.return}null!==e&&ja(t,e,n,r),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){xa=e,ba=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ca(e){return Pa(xa,e)}function Ea(e,t){return null===xa&&Sa(e),Pa(e,t)}function Pa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ba){if(null===e)throw Error(o(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return n}var Ta="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ra=r.unstable_scheduleCallback,Oa=r.unstable_NormalPriority,Da={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function La(){return{controller:new Ta,data:new Map,refCount:0}}function _a(e){e.refCount--,0===e.refCount&&Ra(Oa,function(){e.controller.abort()})}var Aa=null,za=0,Ma=0,Ia=null;function Fa(){if(0===--za&&null!==Aa){null!==Ia&&(Ia.status="fulfilled");var e=Aa;Aa=null,Ma=0,Ia=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ua=_.S;_.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Aa){var n=Aa=[];za=0,Ma=Tu(),Ia={status:"pending",value:void 0,then:function(e){n.push(e)}}}za++,t.then(Fa,Fa)}(0,t),null!==Ua&&Ua(e,t)};var Wa=F(null);function Ba(){var e=Wa.current;return null!==e?e:rc.pooledCache}function Ha(e,t){W(Wa,null===t?Wa.current:t.pool)}function qa(){var e=Ba();return null===e?null:{parent:Da._currentValue,pool:e}}var Va=Error(o(460)),Ka=Error(o(474)),$a=Error(o(542)),Ya={then:function(){}};function Ga(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Qa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xa,Xa);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Ja=t,Va}}var Ja=null;function Za(){if(null===Ja)throw Error(o(459));var e=Ja;return Ja=null,e}function es(e){if(e===Va||e===$a)throw Error(o(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Lr(e),Dr(e,null,n),t}return Tr(e,r,t,n),Lr(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var is=!1;function cs(){if(is){if(null!==Ia)throw Ia}}function us(e,t,n,r){is=!1;var a=e.updateQueue;ts=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var i=l,c=i.next;i.next=null,null===o?s=c:o.next=c,o=i;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=i))}if(null!==s){var d=a.baseState;for(o=0,u=c=i=null,l=s;;){var p=-536870913&l.lane,f=p!==l.lane;if(f?(sc&p)===p:(r&p)===p){0!==p&&p===Ma&&(is=!0),null!==u&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var h=e,g=l;p=t;var x=n;switch(g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(x,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=g.payload)?h.call(x,d,p):h)||void 0===p)break e;d=m({},d,p);break e;case 2:ts=!0}}null!==(p=l.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[p]:f.push(p))}else f={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=f,i=d):u=u.next=f,o|=p;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===u&&(i=d),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),pc|=o,e.lanes=o,e.memoizedState=d}}function ds(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ms(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ds(n[e],t)}var ps=F(null),fs=F(0);function hs(e,t){W(fs,e=dc),W(ps,t),dc=e|t.baseLanes}function gs(){W(fs,dc),W(ps,ps.current)}function xs(){dc=fs.current,U(ps),U(fs)}var bs=0,ys=null,vs=null,ws=null,js=!1,Ns=!1,ks=!1,Ss=0,Cs=0,Es=null,Ps=0;function Ts(){throw Error(o(321))}function Rs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function Os(e,t,n,r,a,s){return bs=s,ys=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=null===e||null===e.memoizedState?Ko:$o,ks=!1,s=n(r,a),ks=!1,Ns&&(s=Ls(t,n,r,a)),Ds(e),s}function Ds(e){_.H=Vo;var t=null!==vs&&null!==vs.next;if(bs=0,ws=vs=ys=null,js=!1,Cs=0,Es=null,t)throw Error(o(300));null===e||El||null!==(e=e.dependencies)&&ka(e)&&(El=!0)}function Ls(e,t,n,r){ys=e;var a=0;do{if(Ns&&(Es=null),Cs=0,Ns=!1,25<=a)throw Error(o(301));if(a+=1,ws=vs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}_.H=Yo,s=t(n,r)}while(Ns);return s}function _s(){var e=_.H,t=e.useState()[0];return t="function"===typeof t.then?Us(t):t,e=e.useState()[0],(null!==vs?vs.memoizedState:null)!==e&&(ys.flags|=1024),t}function As(){var e=0!==Ss;return Ss=0,e}function zs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ms(e){if(js){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}js=!1}bs=0,ws=vs=ys=null,Ns=!1,Cs=Ss=0,Es=null}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?ys.memoizedState=ws=e:ws=ws.next=e,ws}function Fs(){if(null===vs){var e=ys.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ws?ys.memoizedState:ws.next;if(null!==t)ws=t,vs=e;else{if(null===e){if(null===ys.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ws?ys.memoizedState=ws=e:ws=ws.next=e}return ws}function Us(e){var t=Cs;return Cs+=1,null===Es&&(Es=[]),e=Qa(Es,e,t),t=ys,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,_.H=null===t||null===t.memoizedState?Ko:$o),e}function Ws(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Us(e);if(e.$$typeof===w)return Ca(e)}throw Error(o(438,String(e)))}function Bs(e){var t=null,n=ys.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ys.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=P;return t.index++,n}function Hs(e,t){return"function"===typeof t?t(e):t}function qs(e){return Vs(Fs(),vs,e)}function Vs(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var i=l=null,c=null,u=t=a.next,d=!1;do{var m=-536870913&u.lane;if(m!==u.lane?(sc&m)===m:(bs&m)===m){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Ma&&(d=!0);else{if((bs&p)===p){u=u.next,p===Ma&&(d=!0);continue}m={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(i=c=m,l=s):c=c.next=m,ys.lanes|=p,pc|=p}m=u.action,ks&&n(s,m),s=u.hasEagerState?u.eagerState:n(s,m)}else p={lane:m,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(i=c=p,l=s):c=c.next=p,ys.lanes|=m,pc|=m;u=u.next}while(null!==u&&u!==t);if(null===c?l=s:c.next=i,!Gn(s,e.memoizedState)&&(El=!0,d&&null!==(n=Ia)))throw n;e.memoizedState=s,e.baseState=l,e.baseQueue=c,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ks(e){var t=Fs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{s=e(s,l.action),l=l.next}while(l!==a);Gn(s,t.memoizedState)||(El=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function $s(e,t,n){var r=ys,a=Fs(),s=sa;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var l=!Gn((vs||a).memoizedState,n);if(l&&(a.memoizedState=n,El=!0),a=a.queue,xo(2048,8,Xs.bind(null,r,a,e),[e]),a.getSnapshot!==t||l||null!==ws&&1&ws.memoizedState.tag){if(r.flags|=2048,fo(9,{destroy:void 0,resource:void 0},Gs.bind(null,r,a,n,t),null),null===rc)throw Error(o(349));s||0!==(124&bs)||Ys(r,t,n)}return n}function Ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ys.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Gs(e,t,n,r){t.value=n,t.getSnapshot=r,Qs(t)&&Js(e)}function Xs(e,t,n){return n(function(){Qs(t)&&Js(e)})}function Qs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Js(e){var t=Or(e,2);null!==t&&zc(t,e,2)}function Zs(e){var t=Is();if("function"===typeof e){var n=e;if(e=n(),ks){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Vs(e,vs,"function"===typeof r?r:Hs)}function to(e,t,n,r,a){if(Bo(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==_.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,no(t,s)):(s.next=n.next,t.pending=n.next=s)}}function no(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=_.T,o={};_.T=o;try{var l=n(a,r),i=_.S;null!==i&&i(o,l),ro(e,t,l)}catch(c){so(e,t,c)}finally{_.T=s}}else try{ro(e,t,s=n(a,r))}catch(u){so(e,t,u)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ao(e,t,n)},function(n){return so(e,t,n)}):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function so(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lo(e,t){return t}function io(e,t){if(sa){var n=rc.formState;if(null!==n){e:{var r=ys;if(sa){if(aa){t:{for(var a=aa,s=la;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=xd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){aa=xd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Is()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t},n.queue=r,n=Fo.bind(null,ys,r),r.dispatch=n,r=Zs(!1),s=Wo.bind(null,ys,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Is()).queue=a,n=to.bind(null,ys,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function co(e){return uo(Fs(),vs,e)}function uo(e,t,n){if(t=Vs(e,t,lo)[0],e=qs(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Us(t)}catch(o){if(o===Va)throw $a;throw o}else r=t;var a=(t=Fs()).queue,s=a.dispatch;return n!==t.memoizedState&&(ys.flags|=2048,fo(9,{destroy:void 0,resource:void 0},mo.bind(null,a,n),null)),[r,s,e]}function mo(e,t){e.action=t}function po(e){var t=Fs(),n=vs;if(null!==n)return uo(t,n,e);Fs(),t=t.memoizedState;var r=(n=Fs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ys.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ho(){return Fs().memoizedState}function go(e,t,n,r){var a=Is();r=void 0===r?null:r,ys.flags|=e,a.memoizedState=fo(1|t,{destroy:void 0,resource:void 0},n,r)}function xo(e,t,n,r){var a=Fs();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==vs&&null!==r&&Rs(r,vs.memoizedState.deps)?a.memoizedState=fo(t,s,n,r):(ys.flags|=e,a.memoizedState=fo(1|t,s,n,r))}function bo(e,t){go(8390656,8,e,t)}function yo(e,t){xo(2048,8,e,t)}function vo(e,t){return xo(4,2,e,t)}function wo(e,t){return xo(4,4,e,t)}function jo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function No(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,4,jo.bind(null,t,e),n)}function ko(){}function So(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Rs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Rs(t,r[1]))return r[0];if(r=e(),ks){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function Eo(e,t,n){return void 0===n||0!==(1073741824&bs)?e.memoizedState=t:(e.memoizedState=n,e=Ac(),ys.lanes|=e,pc|=e,n)}function Po(e,t,n,r){return Gn(n,t)?n:null!==ps.current?(e=Eo(e,n,r),Gn(e,t)||(El=!0),e):0===(42&bs)?(El=!0,e.memoizedState=n):(e=Ac(),ys.lanes|=e,pc|=e,t)}function To(e,t,n,r,a){var s=A.p;A.p=0!==s&&8>s?s:8;var o=_.T,l={};_.T=l,Wo(e,!1,t,n);try{var i=a(),c=_.S;if(null!==c&&c(l,i),null!==i&&"object"===typeof i&&"function"===typeof i.then)Uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(i,r),_c());else Uo(e,t,r,_c())}catch(u){Uo(e,t,{then:function(){},status:"rejected",reason:u},_c())}finally{A.p=s,_.T=o}}function Ro(){}function Oo(e,t,n,r){if(5!==e.tag)throw Error(o(476));var a=Do(e).queue;To(e,a,t,z,null===n?Ro:function(){return Lo(e),n(r)})}function Do(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:z},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Lo(e){Uo(e,Do(e).next.queue,{},_c())}function _o(){return Ca(Yd)}function Ao(){return Fs().memoizedState}function zo(){return Fs().memoizedState}function Mo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=_c(),r=ss(t,e=as(n),n);return null!==r&&(zc(r,t,n),os(r,t,n)),t={cache:La()},void(e.payload=t)}t=t.return}}function Io(e,t,n){var r=_c();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bo(e)?Ho(t,n):null!==(n=Rr(e,t,n,r))&&(zc(n,e,r),qo(n,t,r))}function Fo(e,t,n){Uo(e,t,n,_c())}function Uo(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bo(e))Ho(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=s(o,n);if(a.hasEagerState=!0,a.eagerState=l,Gn(l,o))return Tr(e,t,a,0),null===rc&&Pr(),!1}catch(i){}if(null!==(n=Rr(e,t,a,r)))return zc(n,e,r),qo(n,t,r),!0}return!1}function Wo(e,t,n,r){if(r={lane:2,revertLane:Tu(),action:r,hasEagerState:!1,eagerState:null,next:null},Bo(e)){if(t)throw Error(o(479))}else null!==(t=Rr(e,n,r,2))&&zc(t,e,2)}function Bo(e){var t=e.alternate;return e===ys||null!==t&&t===ys}function Ho(e,t){Ns=js=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Vo={readContext:Ca,use:Ws,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useLayoutEffect:Ts,useInsertionEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useSyncExternalStore:Ts,useId:Ts,useHostTransitionStatus:Ts,useFormState:Ts,useActionState:Ts,useOptimistic:Ts,useMemoCache:Ts,useCacheRefresh:Ts},Ko={readContext:Ca,use:Ws,useCallback:function(e,t){return Is().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:bo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=Is();t=void 0===t?null:t;var r=e();if(ks){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Is();if(void 0!==n){var a=n(t);if(ks){me(!0);try{n(t)}finally{me(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Io.bind(null,ys,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Is().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Fo.bind(null,ys,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ko,useDeferredValue:function(e,t){return Eo(Is(),e,t)},useTransition:function(){var e=Zs(!1);return e=To.bind(null,ys,e.queue,!0,!1),Is().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ys,a=Is();if(sa){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rc)throw Error(o(349));0!==(124&sc)||Ys(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,bo(Xs.bind(null,r,s,e),[e]),r.flags|=2048,fo(9,{destroy:void 0,resource:void 0},Gs.bind(null,r,s,n,t),null),n},useId:function(){var e=Is(),t=rc.identifierPrefix;if(sa){var n=Jr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-pe(Qr)-1)).toString(32)+n),0<(n=Ss++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ps++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:_o,useFormState:io,useActionState:io,useOptimistic:function(e){var t=Is();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Wo.bind(null,ys,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bs,useCacheRefresh:function(){return Is().memoizedState=Mo.bind(null,ys)}},$o={readContext:Ca,use:Ws,useCallback:So,useContext:Ca,useEffect:yo,useImperativeHandle:No,useInsertionEffect:vo,useLayoutEffect:wo,useMemo:Co,useReducer:qs,useRef:ho,useState:function(){return qs(Hs)},useDebugValue:ko,useDeferredValue:function(e,t){return Po(Fs(),vs.memoizedState,e,t)},useTransition:function(){var e=qs(Hs)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:$s,useId:Ao,useHostTransitionStatus:_o,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Fs(),0,e,t)},useMemoCache:Bs,useCacheRefresh:zo},Yo={readContext:Ca,use:Ws,useCallback:So,useContext:Ca,useEffect:yo,useImperativeHandle:No,useInsertionEffect:vo,useLayoutEffect:wo,useMemo:Co,useReducer:Ks,useRef:ho,useState:function(){return Ks(Hs)},useDebugValue:ko,useDeferredValue:function(e,t){var n=Fs();return null===vs?Eo(n,e,t):Po(n,vs.memoizedState,e,t)},useTransition:function(){var e=Ks(Hs)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:$s,useId:Ao,useHostTransitionStatus:_o,useFormState:po,useActionState:po,useOptimistic:function(e,t){var n=Fs();return null!==vs?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bs,useCacheRefresh:zo},Go=null,Xo=0;function Qo(e){var t=Xo;return Xo+=1,null===Go&&(Go=[]),Qa(Go,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function el(e){return(0,e._init)(e._payload)}function tl(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ir(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===C&&el(s)===t.type)?(Jo(t=a(t,n.props),n),t.return=e,t):(Jo(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Jo(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Hr(t,e.mode,n)).return=e,t;case C:return m(e,t=(0,t._init)(t._payload),n)}if(L(t)||R(t))return(t=Wr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,Qo(t),n);if(t.$$typeof===w)return m(e,Ea(e,t),n);Zo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:i(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?c(e,t,n,r):null;case h:return n.key===a?u(e,t,n,r):null;case C:return p(e,t,n=(a=n._init)(n._payload),r)}if(L(n)||R(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Qo(n),r);if(n.$$typeof===w)return p(e,t,Ea(e,n),r);Zo(e,n)}return null}function x(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return i(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return x(e,t,n,r=(0,r._init)(r._payload),a)}if(L(r)||R(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return x(e,t,n,Qo(r),a);if(r.$$typeof===w)return x(e,t,n,Ea(t,r),a);Zo(t,r)}return null}function b(i,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===g){if(7===c.tag){n(i,c.sibling),(d=a(c,u.props.children)).return=i,i=d;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===C&&el(y)===c.type){n(i,c.sibling),Jo(d=a(c,u.props),u),d.return=i,i=d;break e}n(i,c);break}t(i,c),c=c.sibling}u.type===g?((d=Wr(u.props.children,i.mode,d,u.key)).return=i,i=d):(Jo(d=Ur(u.type,u.key,u.props,null,i.mode,d),u),d.return=i,i=d)}return l(i);case h:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(i,c.sibling),(d=a(c,u.children||[])).return=i,i=d;break e}n(i,c);break}t(i,c),c=c.sibling}(d=Hr(u,i.mode,d)).return=i,i=d}return l(i);case C:return b(i,c,u=(y=u._init)(u._payload),d)}if(L(u))return function(a,o,l,i){for(var c=null,u=null,d=o,f=o=0,h=null;null!==d&&f<l.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var g=p(a,d,l[f],i);if(null===g){null===d&&(d=h);break}e&&d&&null===g.alternate&&t(a,d),o=s(g,o,f),null===u?c=g:u.sibling=g,u=g,d=h}if(f===l.length)return n(a,d),sa&&Zr(a,f),c;if(null===d){for(;f<l.length;f++)null!==(d=m(a,l[f],i))&&(o=s(d,o,f),null===u?c=d:u.sibling=d,u=d);return sa&&Zr(a,f),c}for(d=r(d);f<l.length;f++)null!==(h=x(d,a,f,l[f],i))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),o=s(h,o,f),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach(function(e){return t(a,e)}),sa&&Zr(a,f),c}(i,c,u,d);if(R(u)){if("function"!==typeof(y=R(u)))throw Error(o(150));return function(a,l,i,c){if(null==i)throw Error(o(151));for(var u=null,d=null,f=l,h=l=0,g=null,b=i.next();null!==f&&!b.done;h++,b=i.next()){f.index>h?(g=f,f=null):g=f.sibling;var y=p(a,f,b.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),l=s(y,l,h),null===d?u=y:d.sibling=y,d=y,f=g}if(b.done)return n(a,f),sa&&Zr(a,h),u;if(null===f){for(;!b.done;h++,b=i.next())null!==(b=m(a,b.value,c))&&(l=s(b,l,h),null===d?u=b:d.sibling=b,d=b);return sa&&Zr(a,h),u}for(f=r(f);!b.done;h++,b=i.next())null!==(b=x(f,a,h,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?h:b.key),l=s(b,l,h),null===d?u=b:d.sibling=b,d=b);return e&&f.forEach(function(e){return t(a,e)}),sa&&Zr(a,h),u}(i,c,u=y.call(u),d)}if("function"===typeof u.then)return b(i,c,Qo(u),d);if(u.$$typeof===w)return b(i,c,Ea(i,u),d);Zo(i,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(i,c.sibling),(d=a(c,u)).return=i,i=d):(n(i,c),(d=Br(u,i.mode,d)).return=i,i=d),l(i)):n(i,c)}return function(e,t,n,r){try{Xo=0;var a=b(e,t,n,r);return Go=null,a}catch(o){if(o===Va||o===$a)throw o;var s=zr(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var nl=tl(!0),rl=tl(!1),al=F(null),sl=null;function ol(e){var t=e.alternate;W(ul,1&ul.current),W(al,e),null===sl&&(null===t||null!==ps.current||null!==t.memoizedState)&&(sl=e)}function ll(e){if(22===e.tag){if(W(ul,ul.current),W(al,e),null===sl){var t=e.alternate;null!==t&&null!==t.memoizedState&&(sl=e)}}else il()}function il(){W(ul,ul.current),W(al,al.current)}function cl(e){U(al),sl===e&&(sl=null),U(ul)}var ul=F(0);function dl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ml(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pl={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_c(),a=as(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ss(e,a,r))&&(zc(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_c(),a=as(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ss(e,a,r))&&(zc(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_c(),r=as(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(zc(t,e,n),os(t,e,n))}};function fl(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,s))}function hl(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function gl(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=m({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var xl="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bl(e){xl(e)}function yl(e){console.error(e)}function vl(e){xl(e)}function wl(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jl(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Nl(e,t,n){return(n=as(n)).tag=3,n.payload={element:null},n.callback=function(){wl(e,t)},n}function kl(e){return(e=as(e)).tag=3,e}function Sl(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){jl(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){jl(t,n,r),"function"!==typeof a&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Cl=Error(o(461)),El=!1;function Pl(e,t,n,r){t.child=null===e?rl(t,null,n,r):nl(t,e.child,n,r)}function Tl(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var l in r)"ref"!==l&&(o[l]=r[l])}else o=r;return Sa(t),r=Os(e,t,n,o,s,a),l=As(),null===e||El?(sa&&l&&ta(t),t.flags|=1,Pl(e,t,r,a),t.child):(zs(e,t,a),Gl(e,t,a))}function Rl(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Mr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ol(e,t,s,r,a))}if(s=e.child,!Xl(e,a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(o,r)&&e.ref===t.ref)return Gl(e,t,a)}return t.flags|=1,(e=Ir(s,r)).ref=t.ref,e.return=t,t.child=e}function Ol(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(El=!1,t.pendingProps=r=s,!Xl(e,a))return t.lanes=e.lanes,Gl(e,t,a);0!==(131072&e.flags)&&(El=!0)}}return Al(e,t,n,r,a)}function Dl(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ll(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ll(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ha(0,null!==s?s.cachePool:null),null!==s?hs(t,s):gs(),ll(t)}else null!==s?(Ha(0,s.cachePool),hs(t,s),il(),t.memoizedState=null):(null!==e&&Ha(0,null),gs(),il());return Pl(e,t,a,n),t.child}function Ll(e,t,n,r){var a=Ba();return a=null===a?null:{parent:Da._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ha(0,null),gs(),ll(t),null!==e&&Na(e,t,r,!0),null}function _l(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Al(e,t,n,r,a){return Sa(t),n=Os(e,t,n,r,void 0,a),r=As(),null===e||El?(sa&&r&&ta(t),t.flags|=1,Pl(e,t,n,a),t.child):(zs(e,t,a),Gl(e,t,a))}function zl(e,t,n,r,a,s){return Sa(t),t.updateQueue=null,n=Ls(t,r,n,a),Ds(e),r=As(),null===e||El?(sa&&r&&ta(t),t.flags|=1,Pl(e,t,n,s),t.child):(zs(e,t,s),Gl(e,t,s))}function Ml(e,t,n,r,a){if(Sa(t),null===t.stateNode){var s=_r,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ca(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=pl,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ca(o):_r,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ml(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&pl.enqueueReplaceState(s,s.state,null),us(t,r,s,a),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var l=t.memoizedProps,i=gl(n,l);s.props=i;var c=s.context,u=n.contextType;o=_r,"object"===typeof u&&null!==u&&(o=Ca(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,l=t.pendingProps!==l,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l||c!==o)&&hl(t,s,r,o),ts=!1;var m=t.memoizedState;s.state=m,us(t,r,s,a),cs(),c=t.memoizedState,l||m!==c||ts?("function"===typeof d&&(ml(t,n,d,r),c=t.memoizedState),(i=ts||fl(t,n,i,r,m,c,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=gl(n,o=t.memoizedProps),s.props=u,d=t.pendingProps,m=s.context,c=n.contextType,i=_r,"object"===typeof c&&null!==c&&(i=Ca(c)),(c="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||m!==i)&&hl(t,s,r,i),ts=!1,m=t.memoizedState,s.state=m,us(t,r,s,a),cs();var p=t.memoizedState;o!==d||m!==p||ts||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"===typeof l&&(ml(t,n,l,r),p=t.memoizedState),(u=ts||fl(t,n,u,r,m,p,i)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,i),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,i)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=i,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,_l(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=nl(t,e.child,null,a),t.child=nl(t,null,n,a)):Pl(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Gl(e,t,a),e}function Il(e,t,n,r){return pa(),t.flags|=256,Pl(e,t,n,r),t.child}var Fl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ul(e){return{baseLanes:e,cachePool:qa()}}function Wl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bl(e,t,n){var r,a=t.pendingProps,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ul.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(sa){if(s?ol(t):il(),sa){var i,c=aa;if(i=c){e:{for(i=c,c=la;8!==i.nodeType;){if(!c){c=null;break e}if(null===(i=xd(i.nextSibling))){c=null;break e}}c=i}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(i=zr(18,null,null,0)).stateNode=c,i.return=t,t.child=i,ra=t,aa=null,i=!0):i=!1}i||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cl(t)}return c=a.children,a=a.fallback,s?(il(),c=ql({mode:"hidden",children:c},s=t.mode),a=Wr(a,s,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(s=t.child).memoizedState=Ul(n),s.childLanes=Wl(e,r,n),t.memoizedState=Fl,a):(ol(t),Hl(t,c))}if(null!==(i=e.memoizedState)&&null!==(c=i.dehydrated)){if(l)256&t.flags?(ol(t),t.flags&=-257,t=Vl(e,t,n)):null!==t.memoizedState?(il(),t.child=e.child,t.flags|=128,t=null):(il(),s=a.fallback,c=t.mode,a=ql({mode:"visible",children:a.children},c),(s=Wr(s,c,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,nl(t,e.child,null,n),(a=t.child).memoizedState=Ul(n),a.childLanes=Wl(e,r,n),t.memoizedState=Fl,t=s);else if(ol(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(o(419))).stack="",a.digest=r,ha({value:a,source:null,stack:null}),t=Vl(e,t,n)}else if(El||Na(e,t,n,!1),r=0!==(n&e.childLanes),El||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Pe(a))&(r.suspendedLanes|n))?0:a)&&a!==i.retryLane))throw i.retryLane=a,Or(e,a),zc(r,e,a),Cl;"$?"===c.data||$c(),t=Vl(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=i.treeContext,aa=xd(c.nextSibling),ra=t,sa=!0,oa=null,la=!1,null!==e&&(Yr[Gr++]=Qr,Yr[Gr++]=Jr,Yr[Gr++]=Xr,Qr=e.id,Jr=e.overflow,Xr=t),(t=Hl(t,a.children)).flags|=4096);return t}return s?(il(),s=a.fallback,c=t.mode,u=(i=e.child).sibling,(a=Ir(i,{mode:"hidden",children:a.children})).subtreeFlags=65011712&i.subtreeFlags,null!==u?s=Ir(u,s):(s=Wr(s,c,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(c=e.child.memoizedState)?c=Ul(n):(null!==(i=c.cachePool)?(u=Da._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=qa(),c={baseLanes:c.baseLanes|n,cachePool:i}),s.memoizedState=c,s.childLanes=Wl(e,r,n),t.memoizedState=Fl,a):(ol(t),e=(n=e.child).sibling,(n=Ir(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hl(e,t){return(t=ql({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ql(e,t){return(e=zr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vl(e,t,n){return nl(t,e.child,null,n),(e=Hl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Kl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function $l(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Yl(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Pl(e,t,r.children,n),0!==(2&(r=ul.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Kl(e,n,t);else if(19===e.tag)Kl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(W(ul,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===dl(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),$l(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===dl(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}$l(t,!0,n,null,s);break;case"together":$l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Na(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ir(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ir(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function Ql(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)El=!0;else{if(!Xl(e,n)&&0===(128&t.flags))return El=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ya(0,Da,e.memoizedState.cache),pa();break;case 27:case 5:Y(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ya(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ol(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bl(e,t,n):(ol(t),null!==(e=Gl(e,t,n))?e.sibling:null);ol(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Na(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Yl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),W(ul,ul.current),r)break;return null;case 22:case 23:return t.lanes=0,Dl(e,t,n);case 24:ya(0,Da,e.memoizedState.cache)}return Gl(e,t,n)}(e,t,n);El=0!==(131072&e.flags)}else El=!1,sa&&0!==(1048576&t.flags)&&ea(t,$r,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===j){t.tag=11,t=Tl(null,t,r,e,n);break e}if(a===S){t.tag=14,t=Rl(null,t,r,e,n);break e}}throw t=D(r)||r,Error(o(306,t,""))}Mr(r)?(e=gl(r,e),t.tag=1,t=Ml(null,t,r,e,n)):(t.tag=0,t=Al(null,t,r,e,n))}return t;case 0:return Al(e,t,t.type,t.pendingProps,n);case 1:return Ml(e,t,r=t.type,a=gl(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,rs(e,t),us(t,r,null,n);var l=t.memoizedState;if(r=l.cache,ya(0,Da,r),r!==s.cache&&ja(t,[Da],n,!0),cs(),r=l.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Il(e,t,r,n);break e}if(r!==a){ha(a=kr(Error(o(424)),t)),t=Il(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=xd(e.firstChild),ra=t,sa=!0,oa=null,la=!0,n=rl(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===a){t=Gl(e,t,n);break e}Pl(e,t,r,n)}t=t.child}return t;case 26:return _l(e,t),null===e?(n=Pd(t.type,null,t.pendingProps,null))?t.memoizedState=n:sa||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[De]=t,r[Le]=e,ed(r,n,e),Ve(r),t.stateNode=r):t.memoizedState=Pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&sa&&(r=t.stateNode=vd(t.type,t.pendingProps,q.current),ra=t,la=!0,a=aa,pd(t.type)?(bd=a,aa=xd(r.firstChild)):aa=a),Pl(e,t,t.pendingProps.children,n),_l(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sa&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=xd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,la))?(t.stateNode=r,ra=t,aa=xd(r.firstChild),la=!1,a=!0):a=!1),a||ca(t)),Y(t),a=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,r=s.children,od(a,s)?r=null:null!==l&&od(a,l)&&(t.flags|=32),null!==t.memoizedState&&(a=Os(e,t,_s,null,null,n),Yd._currentValue=a),_l(e,t),Pl(e,t,r,n),t.child;case 6:return null===e&&sa&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=xd(e.nextSibling)))return null}return e}(n,t.pendingProps,la))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Bl(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=nl(t,null,r,n):Pl(e,t,r,n),t.child;case 11:return Tl(e,t,t.type,t.pendingProps,n);case 7:return Pl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ya(0,t.type,r.value),Pl(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Sa(t),r=r(a=Ca(a)),t.flags|=1,Pl(e,t,r,n),t.child;case 14:return Rl(e,t,t.type,t.pendingProps,n);case 15:return Ol(e,t,t.type,t.pendingProps,n);case 19:return Yl(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=ql(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ir(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Dl(e,t,n);case 24:return Sa(t),r=Ca(Da),null===e?(null===(a=Ba())&&(a=rc,s=La(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},ns(t),ya(0,Da,a)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ya(0,Da,r)):(r=s.cache,ya(0,Da,r),r!==a.cache&&ja(t,[Da],n,!0))),Pl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Jl(e){e.flags|=4}function Zl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Wd(t)){if(null!==(t=al.current)&&((4194048&sc)===sc?null!==sl:(62914560&sc)!==sc&&0===(536870912&sc)||t!==sl))throw Ja=Ya,Ka;e.flags|=8192}}function ei(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,xc|=t)}function ti(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ni(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ri(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ni(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),va(Da),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ma(t)?Jl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fa())),ni(t),null;case 26:return n=t.memoizedState,null===e?(Jl(t),null!==n?(ni(t),Zl(t,n)):(ni(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jl(t),ni(t),Zl(t,n)):(ni(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jl(t),ni(t),t.flags&=-16777217),null;case 27:G(t),n=q.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ni(t),null}e=B.current,ma(t)?ua(t):(e=vd(a,r,n),t.stateNode=e,Jl(t))}return ni(t),null;case 5:if(G(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ni(t),null}if(e=B.current,ma(t))ua(t);else{switch(a=rd(q.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[De]=t,e[Le]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jl(t)}}return ni(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,ma(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[De]=t,t.stateNode=e}return ni(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ma(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[De]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ni(t),a=!1}else a=fa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(cl(t),t):(cl(t),null)}if(cl(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ei(t,t.updateQueue),ni(t),null;case 4:return $(),null===e&&Uu(t.stateNode.containerInfo),ni(t),null;case 10:return va(t.type),ni(t),null;case 19:if(U(ul),null===(a=t.memoizedState))return ni(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)ti(a,!1);else{if(0!==mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=dl(e))){for(t.flags|=128,ti(a,!1),e=s.updateQueue,t.updateQueue=e,ei(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return W(ul,1&ul.current|2),t.child}e=e.sibling}null!==a.tail&&te()>jc&&(t.flags|=128,r=!0,ti(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=dl(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ei(t,e),ti(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!sa)return ni(t),null}else 2*te()-a.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,r=!0,ti(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=ul.current,W(ul,r?1&e|2:1&e),t):(ni(t),null);case 22:case 23:return cl(t),xs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(ni(t),6&t.subtreeFlags&&(t.flags|=8192)):ni(t),null!==(n=t.updateQueue)&&ei(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Wa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),va(Da),ni(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ai(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return va(Da),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(cl(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ul),null;case 4:return $(),null;case 10:return va(t.type),null;case 22:case 23:return cl(t),xs(),null!==e&&U(Wa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return va(Da),null;default:return null}}function si(e,t){switch(na(t),t.tag){case 3:va(Da),$();break;case 26:case 27:case 5:G(t);break;case 4:$();break;case 13:cl(t);break;case 19:U(ul);break;case 10:va(t.type);break;case 22:case 23:cl(t),xs(),null!==e&&U(Wa);break;case 24:va(Da)}}function oi(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==a)}}catch(l){uu(t,t.return,l)}}function li(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var o=r.inst,l=o.destroy;if(void 0!==l){o.destroy=void 0,a=t;var i=n,c=l;try{c()}catch(u){uu(a,i,u)}}}r=r.next}while(r!==s)}}catch(u){uu(t,t.return,u)}}function ii(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ms(t,n)}catch(r){uu(e,e.return,r)}}}function ci(e,t,n){n.props=gl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ui(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function di(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function mi(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function pi(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,l=null,i=null,c=null,u=null,d=null;for(f in n){var m=n[f];if(n.hasOwnProperty(f)&&null!=m)switch(f){case"checked":case"value":break;case"defaultValue":c=m;default:r.hasOwnProperty(f)||Ju(e,t,f,null,r,m)}}for(var p in r){var f=r[p];if(m=n[p],r.hasOwnProperty(p)&&(null!=f||null!=m))switch(p){case"type":s=f;break;case"name":a=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":l=f;break;case"defaultValue":i=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:f!==m&&Ju(e,t,p,f,r,m)}}return void gt(e,l,i,c,u,d,s,a);case"select":for(s in f=l=i=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(s)||Ju(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":p=s;break;case"defaultValue":i=s;break;case"multiple":l=s;default:s!==c&&Ju(e,t,a,s,r,c)}return t=i,n=l,r=f,void(null!=p?yt(e,!!n,p,!1):!!r!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(i in f=p=null,n)if(a=n[i],n.hasOwnProperty(i)&&null!=a&&!r.hasOwnProperty(i))switch(i){case"value":case"children":break;default:Ju(e,t,i,null,r,a)}for(l in r)if(a=r[l],s=n[l],r.hasOwnProperty(l)&&(null!=a||null!=s))switch(l){case"value":p=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(o(91));break;default:a!==s&&Ju(e,t,l,a,r,s)}return void vt(e,p,f);case"option":for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&null!=p&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else Ju(e,t,h,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Ju(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:Ju(e,t,u,p,r,f)}return;default:if(Ct(t)){for(var x in n)p=n[x],n.hasOwnProperty(x)&&void 0!==p&&!r.hasOwnProperty(x)&&Zu(e,t,x,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Zu(e,t,d,p,r,f);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!r.hasOwnProperty(b)&&Ju(e,t,b,null,r,p);for(m in r)p=r[m],f=n[m],!r.hasOwnProperty(m)||p===f||null==p&&null==f||Ju(e,t,m,p,r,f)}(r,e.type,n,t),r[Le]=t}catch(a){uu(e,e.return,a)}}function fi(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function hi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gi(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gi(e,t,n),e=e.sibling;null!==e;)gi(e,t,n),e=e.sibling}function xi(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xi(e,t,n),e=e.sibling;null!==e;)xi(e,t,n),e=e.sibling}function bi(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[De]=e,t[Le]=n}catch(s){uu(e,e.return,s)}}var yi=!1,vi=!1,wi=!1,ji="function"===typeof WeakSet?WeakSet:Set,Ni=null;function ki(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Mi(e,n),4&r&&oi(5,n);break;case 1:if(Mi(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var a=gl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){uu(n,n.return,l)}}64&r&&ii(n),512&r&&ui(n,n.return);break;case 3:if(Mi(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ms(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&r&&bi(n);case 26:case 5:Mi(e,n),null===t&&4&r&&mi(n),512&r&&ui(n,n.return);break;case 12:Mi(e,n);break;case 13:Mi(e,n),4&r&&Ri(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||yi)){t=null!==t&&null!==t.memoizedState||vi,a=yi;var s=vi;yi=r,(vi=t)&&!s?Fi(e,n,0!==(8772&n.subtreeFlags)):Mi(e,n),yi=a,vi=s}break;case 30:break;default:Mi(e,n)}}function Si(e){var t=e.alternate;null!==t&&(e.alternate=null,Si(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ci=null,Ei=!1;function Pi(e,t,n){for(n=n.child;null!==n;)Ti(e,t,n),n=n.sibling}function Ti(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:vi||di(n,t),Pi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:vi||di(n,t);var r=Ci,a=Ei;pd(n.type)&&(Ci=n.stateNode,Ei=!1),Pi(e,t,n),wd(n.stateNode),Ci=r,Ei=a;break;case 5:vi||di(n,t);case 6:if(r=Ci,a=Ei,Ci=null,Pi(e,t,n),Ei=a,null!==(Ci=r))if(Ei)try{(9===Ci.nodeType?Ci.body:"HTML"===Ci.nodeName?Ci.ownerDocument.body:Ci).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{Ci.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==Ci&&(Ei?(fd(9===(e=Ci).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Em(e)):fd(Ci,n.stateNode));break;case 4:r=Ci,a=Ei,Ci=n.stateNode.containerInfo,Ei=!0,Pi(e,t,n),Ci=r,Ei=a;break;case 0:case 11:case 14:case 15:vi||li(2,n,t),vi||li(4,n,t),Pi(e,t,n);break;case 1:vi||(di(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ci(n,t,r)),Pi(e,t,n);break;case 21:Pi(e,t,n);break;case 22:vi=(r=vi)||null!==n.memoizedState,Pi(e,t,n),vi=r;break;default:Pi(e,t,n)}}function Ri(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Em(e)}catch(n){uu(t,t.return,n)}}function Oi(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ji),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ji),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=hu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Di(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,l=t,i=l;e:for(;null!==i;){switch(i.tag){case 27:if(pd(i.type)){Ci=i.stateNode,Ei=!1;break e}break;case 5:Ci=i.stateNode,Ei=!1;break e;case 3:case 4:Ci=i.stateNode.containerInfo,Ei=!0;break e}i=i.return}if(null===Ci)throw Error(o(160));Ti(s,l,a),Ci=null,Ei=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)_i(t,e),t=t.sibling}var Li=null;function _i(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Di(t,e),Ai(e),4&r&&(li(3,e,e.return),oi(3,e),li(5,e,e.return));break;case 1:Di(t,e),Ai(e),512&r&&(vi||null===n||di(n,n.return)),64&r&&yi&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Li;if(Di(t,e),Ai(e),512&r&&(vi||null===n||di(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Fe]||s[De]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),ed(s,r,n),s[De]=e,Ve(s),r=s;break e;case"link":var l=Fd("link","href",a).get(r+(n.href||""));if(l)for(var i=0;i<l.length;i++)if((s=l[i]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(i,1);break t}ed(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(l=Fd("meta","content",a).get(r+(n.content||"")))for(i=0;i<l.length;i++)if((s=l[i]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(i,1);break t}ed(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(o(468,r))}s[De]=e,Ve(s),r=s}e.stateNode=r}else Ud(a,e.type,e.stateNode);else e.stateNode=_d(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Ud(a,e.type,e.stateNode):_d(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pi(e,e.memoizedProps,n.memoizedProps)}break;case 27:Di(t,e),Ai(e),512&r&&(vi||null===n||di(n,n.return)),null!==n&&4&r&&pi(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Di(t,e),Ai(e),512&r&&(vi||null===n||di(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(f){uu(e,e.return,f)}}4&r&&null!=e.stateNode&&pi(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wi=!0);break;case 6:if(Di(t,e),Ai(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){uu(e,e.return,f)}}break;case 3:if(Id=null,a=Li,Li=kd(t.containerInfo),Di(t,e),Li=a,Ai(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Em(t.containerInfo)}catch(f){uu(e,e.return,f)}wi&&(wi=!1,zi(e));break;case 4:r=Li,Li=kd(e.stateNode.containerInfo),Di(t,e),Ai(e),Li=r;break;case 12:default:Di(t,e),Ai(e);break;case 13:Di(t,e),Ai(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Oi(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=yi,d=vi;if(yi=u||a,vi=d||c,Di(t,e),vi=d,yi=u,Ai(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||yi||vi||Ii(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"===typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{i=c.stateNode;var m=c.memoizedProps.style,p=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;i.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Oi(e,n))));break;case 19:Di(t,e),Ai(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Oi(e,r)));case 30:case 21:}}function Ai(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fi(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var a=n.stateNode;xi(e,hi(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(jt(s,""),n.flags&=-33),xi(e,hi(e),s);break;case 3:case 4:var l=n.stateNode.containerInfo;gi(e,hi(e),l);break;default:throw Error(o(161))}}catch(i){uu(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zi(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Mi(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ki(e,t.alternate,t),t=t.sibling}function Ii(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:li(4,t,t.return),Ii(t);break;case 1:di(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ci(t,t.return,n),Ii(t);break;case 27:wd(t.stateNode);case 26:case 5:di(t,t.return),Ii(t);break;case 22:null===t.memoizedState&&Ii(t);break;default:Ii(t)}e=e.sibling}}function Fi(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(a,s,n),oi(4,s);break;case 1:if(Fi(a,s,n),"function"===typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var l=r.stateNode;try{var i=a.shared.hiddenCallbacks;if(null!==i)for(a.shared.hiddenCallbacks=null,a=0;a<i.length;a++)ds(i[a],l)}catch(c){uu(r,r.return,c)}}n&&64&o&&ii(s),ui(s,s.return);break;case 27:bi(s);case 26:case 5:Fi(a,s,n),n&&null===r&&4&o&&mi(s),ui(s,s.return);break;case 12:Fi(a,s,n);break;case 13:Fi(a,s,n),n&&4&o&&Ri(a,s);break;case 22:null===s.memoizedState&&Fi(a,s,n),ui(s,s.return);break;case 30:break;default:Fi(a,s,n)}t=t.sibling}}function Ui(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&_a(n))}function Wi(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&_a(e))}function Bi(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hi(e,t,n,r),t=t.sibling}function Hi(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Bi(e,t,n,r),2048&a&&oi(9,t);break;case 1:case 13:default:Bi(e,t,n,r);break;case 3:Bi(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&_a(e)));break;case 12:if(2048&a){Bi(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,l=s.onPostCommit;"function"===typeof l&&l(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(i){uu(t,t.return,i)}}else Bi(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Bi(e,t,n,r):Vi(e,t):2&s._visibility?Bi(e,t,n,r):(s._visibility|=2,qi(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Ui(o,t);break;case 24:Bi(e,t,n,r),2048&a&&Wi(t.alternate,t)}}function qi(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,l=n,i=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:qi(s,o,l,i,a),oi(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?qi(s,o,l,i,a):Vi(s,o):(u._visibility|=2,qi(s,o,l,i,a)),a&&2048&c&&Ui(o.alternate,o);break;case 24:qi(s,o,l,i,a),a&&2048&c&&Wi(o.alternate,o);break;default:qi(s,o,l,i,a)}t=t.sibling}}function Vi(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Vi(n,r),2048&a&&Ui(r.alternate,r);break;case 24:Vi(n,r),2048&a&&Wi(r.alternate,r);break;default:Vi(n,r)}t=t.sibling}}var Ki=8192;function $i(e){if(e.subtreeFlags&Ki)for(e=e.child;null!==e;)Yi(e),e=e.sibling}function Yi(e){switch(e.tag){case 26:$i(e),e.flags&Ki&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(o(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Td(n.href),s=e.querySelector(Rd(a));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Ve(s);s=e.ownerDocument||e,n=Od(n),(a=jd.get(a))&&zd(n,a),Ve(s=s.createElement("link"));var l=s;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),ed(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Li,e.memoizedState,e.memoizedProps);break;case 5:default:$i(e);break;case 3:case 4:var t=Li;Li=kd(e.stateNode.containerInfo),$i(e),Li=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ki,Ki=16777216,$i(e),Ki=t):$i(e))}}function Gi(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xi(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ni=r,Zi(r,e)}Gi(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Qi(e),e=e.sibling}function Qi(e){switch(e.tag){case 0:case 11:case 15:Xi(e),2048&e.flags&&li(9,e,e.return);break;case 3:case 12:default:Xi(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ji(e)):Xi(e)}}function Ji(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ni=r,Zi(r,e)}Gi(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:li(8,t,t.return),Ji(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Ji(t));break;default:Ji(t)}e=e.sibling}}function Zi(e,t){for(;null!==Ni;){var n=Ni;switch(n.tag){case 0:case 11:case 15:li(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:_a(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ni=r;else e:for(n=e;null!==Ni;){var a=(r=Ni).sibling,s=r.return;if(Si(r),r===n){Ni=null;break e}if(null!==a){a.return=s,Ni=a;break e}Ni=s}}}var ec={getCacheForType:function(e){var t=Ca(Da),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,sc=0,oc=0,lc=null,ic=!1,cc=!1,uc=!1,dc=0,mc=0,pc=0,fc=0,hc=0,gc=0,xc=0,bc=null,yc=null,vc=!1,wc=0,jc=1/0,Nc=null,kc=null,Sc=0,Cc=null,Ec=null,Pc=0,Tc=0,Rc=null,Oc=null,Dc=0,Lc=null;function _c(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==_.T){return 0!==Ma?Ma:Tu()}return Re()}function Ac(){0===gc&&(gc=0===(536870912&sc)||sa?je():536870912);var e=al.current;return null!==e&&(e.flags|=32),gc}function zc(e,t,n){(e!==rc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Hc(e,0),Uc(e,sc,gc,!1)),Se(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===mc&&Uc(e,sc,gc,!1)),ju(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Vc(),a=Kc();rc!==e||sc!==t?(Nc=null,jc=te()+500,Hc(e,t)):cc=ve(e,t);e:for(;;)try{if(0!==oc&&null!==ac){t=ac;var s=lc;t:switch(oc){case 1:oc=0,lc=null,Zc(e,t,s,1);break;case 2:case 9:if(Ga(s)){oc=0,lc=null,Jc(t);break}t=function(){2!==oc&&9!==oc||rc!==e||(oc=7),ju(e)},s.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ga(s)?(oc=0,lc=null,Jc(t)):(oc=0,lc=null,Zc(e,t,s,7));break;case 5:var l=null;switch(ac.tag){case 26:l=ac.memoizedState;case 5:case 27:var i=ac;if(!l||Wd(l)){oc=0,lc=null;var c=i.sibling;if(null!==c)ac=c;else{var u=i.return;null!==u?(ac=u,eu(u)):ac=null}break t}}oc=0,lc=null,Zc(e,t,s,5);break;case 6:oc=0,lc=null,Zc(e,t,s,6);break;case 8:Bc(),mc=6;break e;default:throw Error(o(462))}}Xc();break}catch(d){qc(e,d)}return ba=xa=null,_.H=r,_.A=a,nc=n,null!==ac?0:(rc=null,sc=0,Pr(),mc)}(e,t):Yc(e,t,!0),s=r;;){if(0===a){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!s||Fc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var i=e;a=bc;var c=i.current.memoizedState.isDehydrated;if(c&&(Hc(i,l).flags|=256),2!==(l=Yc(i,l,!1))){if(uc&&!c){i.errorRecoveryDisabledLanes|=s,fc|=s,a=4;break e}s=yc,yc=a,null!==s&&(null===yc?yc=s:yc.push.apply(yc,s))}a=l}if(s=!1,2!==a)continue}}if(1===a){Hc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!ic);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Uc(r,t,gc,!ic),0!==ye(r,0,!0))break e;r.timeoutHandle=id(Ic.bind(null,r,n,yc,Nc,vc,t,gc,fc,xc,ic,s,2,-0,0),a)}else Ic(r,n,yc,Nc,vc,t,gc,fc,xc,ic,s,0,-0,0)}break}a=Yc(e,t,!1),s=!1}ju(e)}function Ic(e,t,n,r,a,s,l,i,c,u,d,m,p,f){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||16785408===(16785408&m))&&(Bd={stylesheets:null,count:0,unsuspend:Hd},Yi(t),null!==(m=function(){if(null===Bd)throw Error(o(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=m(nu.bind(null,e,t,s,n,r,a,l,i,c,d,1,p,f)),void Uc(e,s,l,!u);nu(e,t,s,n,r,a,l,i,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Gn(s(),a))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~hc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-pe(a),o=1<<s;r[s]=-1,a&=~o}0!==n&&Ce(e,n,t)}function Wc(){return 0!==(6&nc)||(Nu(0,!1),!1)}function Bc(){if(null!==ac){if(0===oc)var e=ac.return;else ba=xa=null,Ms(e=ac),Go=null,Xo=0,e=ac;for(;null!==e;)si(e.alternate,e),e=e.return;ac=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ac=n=Ir(e.current,null),sc=t,oc=0,lc=null,ic=!1,cc=ve(e,t),uc=!1,xc=gc=hc=fc=pc=mc=0,yc=bc=null,vc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-pe(r),s=1<<a;t|=e[a],r&=~s}return dc=t,Pr(),n}function qc(e,t){ys=null,_.H=Vo,t===Va||t===$a?(t=Za(),oc=3):t===Ka?(t=Za(),oc=4):oc=t===Cl?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===ac&&(mc=1,wl(e,kr(t,e.current)))}function Vc(){var e=_.H;return _.H=Vo,null===e?Vo:e}function Kc(){var e=_.A;return _.A=ec,e}function $c(){mc=4,ic||(4194048&sc)!==sc&&null!==al.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||Uc(rc,sc,gc,!1)}function Yc(e,t,n){var r=nc;nc|=2;var a=Vc(),s=Kc();rc===e&&sc===t||(Nc=null,Hc(e,t)),t=!1;var o=mc;e:for(;;)try{if(0!==oc&&null!==ac){var l=ac,i=lc;switch(oc){case 8:Bc(),o=6;break e;case 3:case 2:case 9:case 6:null===al.current&&(t=!0);var c=oc;if(oc=0,lc=null,Zc(e,l,i,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,lc=null,Zc(e,l,i,c)}}Gc(),o=mc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,ba=xa=null,nc=r,_.H=a,_.A=s,null===ac&&(rc=null,sc=0,Pr()),o}function Gc(){for(;null!==ac;)Qc(ac)}function Xc(){for(;null!==ac&&!Z();)Qc(ac)}function Qc(e){var t=Ql(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zl(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=zl(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Ms(t);default:si(n,t),t=Ql(n,t=ac=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,n,r){ba=xa=null,Ms(t),Go=null,Xo=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Na(t,n,a,!0),null!==(n=al.current)){switch(n.tag){case 13:return null===sl?$c():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ya?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===Ya?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(o(435,n.tag))}return du(e,r,a),$c(),!1}if(sa)return null!==(t=al.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ia&&ha(kr(e=Error(o(422),{cause:r}),n))):(r!==ia&&ha(kr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=kr(r,n),ls(e,a=Nl(e.stateNode,r,a)),4!==mc&&(mc=2)),!1;var s=Error(o(520),{cause:r});if(s=kr(s,n),null===bc?bc=[s]:bc.push(s),4!==mc&&(mc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ls(n,e=Nl(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===kc||!kc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Sl(a=kl(a),e,n,r),ls(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,sc))return mc=1,wl(e,kr(n,e.current)),void(ac=null)}catch(s){if(null!==a)throw ac=a,s;return mc=1,wl(e,kr(n,e.current)),void(ac=null)}32768&t.flags?(sa||1===r?e=!0:cc||0!==(536870912&sc)?e=!1:(ic=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=al.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,ic);e=t.return;var n=ri(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===mc&&(mc=5)}function tu(e,t){do{var n=ai(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);mc=6,ac=null}function nu(e,t,n,r,a,s,l,i,c){e.cancelPendingCommit=null;do{lu()}while(0!==Sc);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,i=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-pe(n),d=1<<u;l[u]=0,i[u]=-1;var m=c[u];if(null!==m)for(c[u]=null,u=0;u<m.length;u++){var p=m[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ce(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Er,l,i,c),e===rc&&(ac=rc=null,sc=0),Ec=t,Cc=e,Pc=n,Tc=s,Rc=a,Oc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(se,function(){return iu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=_.T,_.T=null,a=A.p,A.p=2,l=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nm,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var l=0,i=-1,c=-1,u=0,d=0,m=e,p=null;t:for(;;){for(var f;m!==n||0!==a&&3!==m.nodeType||(i=l+a),m!==s||0!==r&&3!==m.nodeType||(c=l+r),3===m.nodeType&&(l+=m.nodeValue.length),null!==(f=m.firstChild);)p=m,m=f;for(;;){if(m===e)break t;if(p===n&&++u===a&&(i=l),p===s&&++d===r&&(c=l),null!==(f=m.nextSibling))break;p=(m=p).parentNode}m=f}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nm=!1,Ni=t;null!==Ni;)if(e=(t=Ni).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Ni=e;else for(;null!==Ni;){switch(s=(t=Ni).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var h=gl(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(h,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){uu(n,n.return,x)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))hd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Ni=e;break}Ni=t.return}}(e,t)}finally{nc=l,A.p=a,_.T=r}}Sc=1,ru(),au(),su()}}function ru(){if(1===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=_.T,_.T=null;var r=A.p;A.p=2;var a=nc;nc|=4;try{_i(t,e);var s=nd,o=er(e.containerInfo),l=s.focusedElem,i=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Zn(l.ownerDocument.documentElement,l)){if(null!==i&&tr(l)){var c=i.start,u=i.end;if(void 0===u&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var d=l.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var p=m.getSelection(),f=l.textContent.length,h=Math.min(i.start,f),g=void 0===i.end?h:Math.min(i.end,f);!p.extend&&h>g&&(o=g,g=h,h=o);var x=Jn(l,h),b=Jn(l,g);if(x&&b&&(1!==p.rangeCount||p.anchorNode!==x.node||p.anchorOffset!==x.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var y=d.createRange();y.setStart(x.node,x.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),p.addRange(y))}}}}for(d=[],p=l;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof l.focus&&l.focus(),l=0;l<d.length;l++){var v=d[l];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nm=!!td,nd=td=null}finally{nc=a,A.p=r,_.T=n}}e.current=t,Sc=2}}function au(){if(2===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=_.T,_.T=null;var r=A.p;A.p=2;var a=nc;nc|=4;try{ki(e,t.alternate,t)}finally{nc=a,A.p=r,_.T=n}}Sc=3}}function su(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=Ec,n=Pc,r=Oc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ec=Cc=null,ou(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(kc=null),Te(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(i){}if(null!==r){t=_.T,a=A.p,A.p=2,_.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var l=r[o];s(l.value,{componentStack:l.stack})}}finally{_.T=t,A.p=a}}0!==(3&Pc)&&lu(),ju(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Lc?Dc++:(Dc=0,Lc=e):Dc=0,Nu(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,_a(t)))}function lu(e){return ru(),au(),su(),iu()}function iu(){if(5!==Sc)return!1;var e=Cc,t=Tc;Tc=0;var n=Te(Pc),r=_.T,a=A.p;try{A.p=32>n?32:n,_.T=null,n=Rc,Rc=null;var s=Cc,l=Pc;if(Sc=0,Ec=Cc=null,Pc=0,0!==(6&nc))throw Error(o(331));var i=nc;if(nc|=4,Qi(s.current),Hi(s,s.current,l,n),nc=i,Nu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{A.p=a,_.T=r,ou(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=ss(e,t=Nl(e.stateNode,t,2),2))&&(Se(e,2),ju(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=ss(t,n=kl(2),2))&&(Sl(n,r,t,e),Se(r,2),ju(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===mc||3===mc&&(62914560&sc)===sc&&300>te()-wc?0===(2&nc)&&Hc(e,0):hc|=n,xc===sc&&(xc=0)),ju(e)}function pu(e,t){0===t&&(t=Ne()),null!==(e=Or(e,t))&&(Se(e,t),ju(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function hu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),pu(e,n)}var gu=null,xu=null,bu=!1,yu=!1,vu=!1,wu=0;function ju(e){e!==xu&&null===e.next&&(null===xu?gu=xu=e:xu=xu.next=e),yu=!0,bu||(bu=!0,dd(function(){0!==(6&nc)?Q(re,ku):Su()}))}function Nu(e,t){if(!vu&&yu){vu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var o=r.suspendedLanes,l=r.pingedLanes;s=(1<<31-pe(42|e)+1)-1,s=201326741&(s&=a&~(o&~l))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Pu(r,s))}else s=sc,0===(3&(s=ye(r,r===rc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ve(r,s)||(n=!0,Pu(r,s));r=r.next}}while(n);vu=!1}}function ku(){Su()}function Su(){yu=bu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,s=Cu(r,t);0===s?(r.next=null,null===n?gu=a:n.next=a,null===a&&(xu=n)):(n=r,(0!==e||0!==(3&s))&&(yu=!0)),r=a}Nu(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-pe(s),l=1<<o,i=a[o];-1===i?0!==(l&n)&&0===(l&r)||(a[o]=we(l,t)):i<=t&&(e.expiredLanes|=l),s&=~l}if(n=sc,n=ye(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ve(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Te(n)){case 2:case 8:n=ae;break;case 32:default:n=se;break;case 268435456:n=le}return r=Eu.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=ye(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Pu(e,t){if(lu())return null;Mc(e,t,!0)}function Tu(){return 0===wu&&(wu=je()),wu}function Ru(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Ou(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<wr.length;Du++){var Lu=wr[Du];jr(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}jr(pr,"onAnimationEnd"),jr(fr,"onAnimationIteration"),jr(hr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(gr,"onTransitionRun"),jr(xr,"onTransitionStart"),jr(br,"onTransitionCancel"),jr(yr,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Au=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function zu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],i=l.instance,c=l.currentTarget;if(l=l.listener,i!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){xl(u)}a.currentTarget=null,s=i}else for(o=0;o<r.length;o++){if(i=(l=r[o]).instance,c=l.currentTarget,l=l.listener,i!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){xl(u)}a.currentTarget=null,s=i}}}}function Mu(e,t){var n=t[Ae];void 0===n&&(n=t[Ae]=new Set);var r=e+"__bubble";n.has(r)||(Wu(t,e,2,!1),n.add(r))}function Iu(e,t,n){var r=0;t&&(r|=4),Wu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Fu]){e[Fu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Au.has(t)||Iu(t,!1,e),Iu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Iu("selectionchange",!1,t))}}function Wu(e,t,n,r){switch(cm(t)){case 2:var a=rm;break;case 8:a=am;break;default:a=sm}n=a.bind(null,t,n,e),a=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==l;){if(null===(o=We(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}l=l.parentNode}}r=r.return}zt(function(){var r=s,a=Ot(n),o=[];e:{var l=vr.get(e);if(void 0!==l){var c=Zt,u=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":c=hn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case pr:case fr:case hr:c=on;break;case yr:c=bn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=yn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=vn}var d=0!==(4&t),m=!d&&("scroll"===e||"scrollend"===e),p=d?null!==l?l+"Capture":null:l;d=[];for(var f,h=r;null!==h;){var g=h;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Mt(h,p))&&d.push(Hu(h,g,f)),m)break;h=h.return}0<d.length&&(l=new c(l,u,null,n,a),o.push({event:l,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!We(u)&&!u[_e])&&(c||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?We(u):null)&&(m=i(u),d=u.tag,u!==m||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",h="pointer"),m=null==c?l:He(c),f=null==u?l:He(u),(l=new d(g,h+"leave",c,n,a)).target=m,l.relatedTarget=f,g=null,We(a)===r&&((d=new d(p,h+"enter",u,n,a)).target=f,d.relatedTarget=m,g=d),m=g,c&&u)e:{for(p=u,h=0,f=d=c;f;f=Vu(f))h++;for(f=0,g=p;g;g=Vu(g))f++;for(;0<h-f;)d=Vu(d),h--;for(;0<f-h;)p=Vu(p),f--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Vu(d),p=Vu(p)}d=null}else d=null;null!==c&&Ku(o,l,c,d,!1),null!==u&&null!==m&&Ku(o,m,u,d,!0)}if("select"===(c=(l=r?He(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var x=In;else if(Dn(l))if(Fn)x=Yn;else{x=Kn;var b=Vn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Ct(r.elementType)&&(x=In):x=$n;switch(x&&(x=x(e,r))?Ln(o,x,n,a):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&bt(l,"number",l.value)),b=r?He(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(rr=b,ar=r,sr=null);break;case"focusout":sr=ar=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,lr(o,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":lr(o,n,a)}var y;if(jn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Rn?Pn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Sn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Rn&&(y=qt()):(Bt="value"in(Wt=a)?Wt.value:Wt.textContent,Rn=!0)),0<(b=qu(r,v)).length&&(v=new cn(v,e,null,n,a),o.push({event:v,listeners:b}),y?v.data=y:null!==(y=Tn(n))&&(v.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(En=!0,Cn);case"textInput":return(e=t.data)===Cn&&En?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!jn&&Pn(e,t)?(e=qt(),Ht=Bt=Wt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=qu(r,"onBeforeInput")).length&&(b=new cn("onBeforeInput","beforeinput",null,n,a),o.push({event:b,listeners:v}),b.data=y)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Ru((a[Le]||null).action),o=r.submitter;o&&null!==(t=(t=o[Le]||null)?Ru(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var l=new Zt("action","action",null,r,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=o?Ou(a,o):new FormData(a);Oo(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(l.preventDefault(),e=o?Ou(a,o):new FormData(a),Oo(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(o,e,r,n,a)}zu(o,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Mt(e,n))&&r.unshift(Hu(e,a,s)),null!=(a=Mt(e,t))&&r.push(Hu(e,a,s))),3===e.tag)return r;e=e.return}return[]}function Vu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var l=n,i=l.alternate,c=l.stateNode;if(l=l.tag,null!==i&&i===r)break;5!==l&&26!==l&&27!==l||null===c||(i=c,a?null!=(c=Mt(n,s))&&o.unshift(Hu(n,c,i)):a||null!=(c=Mt(n,s))&&o.push(Hu(n,c,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $u=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Gu(e){return("string"===typeof e?e:""+e).replace($u,"\n").replace(Yu,"")}function Xu(e,t){return t=Gu(t),Gu(e)===t}function Qu(){}function Ju(e,t,n,r,a,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":St(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Ju(e,t,"name",a.name,a,null),Ju(e,t,"formEncType",a.formEncType,a,null),Ju(e,t,"formMethod",a.formMethod,a,null),Ju(e,t,"formTarget",a.formTarget,a,null)):(Ju(e,t,"encType",a.encType,a,null),Ju(e,t,"method",a.method,a,null),Ju(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qu);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Tt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function Zu(e,t,n,r,a,s){switch(n){case"style":St(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:$e.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Le]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,r,l,n,null)}}return s&&Ju(e,t,"srcSet",n.srcSet,n,null),void(a&&Ju(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var i=r=l=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Ju(e,t,a,d,n,null)}}return xt(e,r,i,c,u,l,s,!1),void dt(e);case"select":for(s in Mu("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(s)&&null!=(i=n[s]))switch(s){case"value":r=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:Ju(e,t,s,i,n,null)}return t=r,n=l,e.multiple=!!a,void(null!=t?yt(e,!!a,t,!1):null!=n&&yt(e,!!a,n,!0));case"textarea":for(l in Mu("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))switch(l){case"value":a=i;break;case"defaultValue":s=i;break;case"children":r=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:Ju(e,t,l,i,n,null)}return wt(e,a,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Ju(e,t,c,a,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(a=0;a<_u.length;a++)Mu(_u[a],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,u,a,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zu(e,t,d,a,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(null!=(a=n[i])&&Ju(e,t,i,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var id="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(md)}:id;function md(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function fd(e,t){var n=t,r=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&wd(o.documentElement),2&n&&wd(o.body),4&n)for(wd(n=o.head),o=n.firstChild;o;){var l=o.nextSibling,i=o.nodeName;o[Fe]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=l}}if(0===a)return e.removeChild(s),void Em(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Em(t)}function hd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hd(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function yd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var jd=new Map,Nd=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=A.d;A.d={f:function(){var e=Sd.f(),t=Wc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Lo(t):Sd.r(e)},D:function(e){Sd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var r=Cd;if(r&&e&&t){var a='link[rel="preload"][as="'+ht(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+ht(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+ht(n.imageSizes)+'"]')):a+='[href="'+ht(e)+'"]';var s=a;switch(t){case"style":s=Td(e);break;case"script":s=Dd(e)}jd.has(s)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Rd(s))||"script"===t&&r.querySelector(Ld(s))||(ed(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Cd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+ht(r)+'"][href="'+ht(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Dd(e)}if(!jd.has(s)&&(e=m({rel:"modulepreload",href:e},t),jd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(s)))return}ed(r=n.createElement("link"),"link",e),Ve(r),n.head.appendChild(r)}}},X:function(e,t){Sd.X(e,t);var n=Cd;if(n&&e){var r=qe(n).hoistableScripts,a=Dd(e),s=r.get(a);s||((s=n.querySelector(Ld(a)))||(e=m({src:e,async:!0},t),(t=jd.get(a))&&Md(e,t),Ve(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Sd.S(e,t,n);var r=Cd;if(r&&e){var a=qe(r).hoistableStyles,s=Td(e);t=t||"default";var o=a.get(s);if(!o){var l={loading:0,preload:null};if(o=r.querySelector(Rd(s)))l.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jd.get(s))&&zd(e,n);var i=o=r.createElement("link");Ve(i),ed(i,"link",e),i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),i.addEventListener("load",function(){l.loading|=1}),i.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ad(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:l},a.set(s,o)}}},M:function(e,t){Sd.M(e,t);var n=Cd;if(n&&e){var r=qe(n).hoistableScripts,a=Dd(e),s=r.get(a);s||((s=n.querySelector(Ld(a)))||(e=m({src:e,async:!0,type:"module"},t),(t=jd.get(a))&&Md(e,t),Ve(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var Cd="undefined"===typeof document?null:document;function Ed(e,t,n){var r=Cd;if(r&&"string"===typeof t&&t){var a=ht(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Nd.has(a)||(Nd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}}function Pd(e,t,n,r){var a,s,l,i,c=(c=q.current)?kd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Td(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Td(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Rd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jd.set(e,n),u||(a=c,s=e,l=n,i=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?i.loading=1:(s=a.createElement("link"),i.preload=s,s.addEventListener("load",function(){return i.loading|=1}),s.addEventListener("error",function(){return i.loading|=2}),ed(s,"link",l),Ve(s),a.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Dd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Td(e){return'href="'+ht(e)+'"'}function Rd(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+ht(e)+'"]'}function Ld(e){return"script[async]"+e}function _d(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ht(n.href)+'"]');if(r)return t.instance=r,Ve(r),r;var a=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ve(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Ad(r,n.precedence,e),t.instance=r;case"stylesheet":a=Td(n.href);var s=e.querySelector(Rd(a));if(s)return t.state.loading|=4,t.instance=s,Ve(s),s;r=Od(n),(a=jd.get(a))&&zd(r,a),Ve(s=(e.ownerDocument||e).createElement("link"));var l=s;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),ed(s,"link",r),t.state.loading|=4,Ad(s,n.precedence,e),t.instance=s;case"script":return s=Dd(n.src),(a=e.querySelector(Ld(s)))?(t.instance=a,Ve(a),a):(r=n,(a=jd.get(s))&&Md(r=m({},n),a),Ve(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ad(r,n.precedence,e));return t.instance}function Ad(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,o=0;o<r.length;o++){var l=r[o];if(l.dataset.precedence===t)s=l;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Id=null;function Fd(e,t,n){if(null===Id){var r=new Map,a=Id=new Map;a.set(n,r)}else(r=(a=Id).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Fe]||s[De]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var l=r.get(o);l?l.push(s):r.set(o,[s])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Wd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function Hd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vd=new Map,t.forEach($d,e),Vd=null,qd.call(e))}function $d(e,t){if(!(4&t.state.loading)){var n=Vd.get(e);if(n)var r=n.get(null);else{n=new Map,Vd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var o=a[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(a=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,a),n.set(o,a),this.count++,r=qd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:w,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Gd(e,t,n,r,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Xd(e,t,n,r,a,s,o,l,i,c,u,d){return e=new Gd(e,t,n,o,l,i,c,d),t=1,!0===s&&(t|=24),s=zr(3,null,null,t),e.current=s,s.stateNode=e,(t=La()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Qd(e){return e?e=_r:_r}function Jd(e,t,n,r,a,s){a=Qd(a),null===r.context?r.context=a:r.pendingContext=a,(r=as(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(zc(n,0,t),os(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function em(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tm(e){if(13===e.tag){var t=Or(e,67108864);null!==t&&zc(t,0,67108864),em(e,67108864)}}var nm=!0;function rm(e,t,n,r){var a=_.T;_.T=null;var s=A.p;try{A.p=2,sm(e,t,n,r)}finally{A.p=s,_.T=a}}function am(e,t,n,r){var a=_.T;_.T=null;var s=A.p;try{A.p=8,sm(e,t,n,r)}finally{A.p=s,_.T=a}}function sm(e,t,n,r){if(nm){var a=om(r);if(null===a)Bu(e,t,r,lm,n),bm(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dm=ym(dm,e,t,n,r,a),!0;case"dragenter":return mm=ym(mm,e,t,n,r,a),!0;case"mouseover":return pm=ym(pm,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return fm.set(s,ym(fm.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,hm.set(s,ym(hm.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(bm(e,r),4&t&&-1<xm.indexOf(e)){for(;null!==a;){var s=Be(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=be(s.pendingLanes);if(0!==o){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var i=1<<31-pe(o);l.entanglements[1]|=i,o&=~i}ju(s),0===(6&nc)&&(jc=te()+500,Nu(0,!1))}}break;case 13:null!==(l=Or(s,2))&&zc(l,0,2),Wc(),em(s,2)}if(null===(s=om(r))&&Bu(e,t,r,lm,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function om(e){return im(e=Ot(e))}var lm=null;function im(e){if(lm=null,null!==(e=We(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lm=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case se:case oe:return 32;case le:return 268435456;default:return 32}default:return 32}}var um=!1,dm=null,mm=null,pm=null,fm=new Map,hm=new Map,gm=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bm(e,t){switch(e){case"focusin":case"focusout":dm=null;break;case"dragenter":case"dragleave":mm=null;break;case"mouseover":case"mouseout":pm=null;break;case"pointerover":case"pointerout":fm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hm.delete(t.pointerId)}}function ym(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Be(t))&&tm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function vm(e){var t=We(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}(e.priority,function(){if(13===n.tag){var e=_c();e=Pe(e);var t=Or(n,e);null!==t&&zc(t,0,e),em(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=om(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&tm(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function jm(e,t,n){wm(e)&&n.delete(t)}function Nm(){um=!1,null!==dm&&wm(dm)&&(dm=null),null!==mm&&wm(mm)&&(mm=null),null!==pm&&wm(pm)&&(pm=null),fm.forEach(jm),hm.forEach(jm)}function km(e,t){e.blockedOn===t&&(e.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nm)))}var Sm=null;function Cm(e){Sm!==e&&(Sm=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sm===e&&(Sm=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===im(r||n))continue;break}var s=Be(n);null!==s&&(e.splice(t,3),t-=3,Oo(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Em(e){function t(t){return km(t,e)}null!==dm&&km(dm,e),null!==mm&&km(mm,e),null!==pm&&km(pm,e),fm.forEach(t),hm.forEach(t);for(var n=0;n<gm.length;n++){var r=gm[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gm.length&&null===(n=gm[0]).blockedOn;)vm(n),null===n.blockedOn&&gm.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],o=a[Le]||null;if("function"===typeof s)o||Cm(n);else if(o){var l=null;if(s&&s.hasAttribute("formAction")){if(a=s,o=s[Le]||null)l=o.formAction;else if(null!==im(a))continue}else l=o.action;"function"===typeof l?n[r+1]=l:(n.splice(r,3),r-=3),Cm(n)}}}function Pm(e){this._internalRoot=e}function Tm(e){this._internalRoot=e}Tm.prototype.render=Pm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jd(t.current,_c(),e,t,null,null)},Tm.prototype.unmount=Pm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Wc(),t[_e]=null}},Tm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gm.length&&0!==t&&t<gm[n].priority;n++);gm.splice(n,0,e),0===n&&vm(e)}};var Rm=a.version;if("19.1.0"!==Rm)throw Error(o(527,Rm,"19.1.0"));A.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return u(a),e;if(s===r)return u(a),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=s;else{for(var l=!1,c=a.child;c;){if(c===n){l=!0,n=a,r=s;break}if(c===r){l=!0,r=a,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,r=a;break}if(c===r){l=!0,r=s,n=a;break}c=c.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Om={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dm.isDisabled&&Dm.supportsFiber)try{ue=Dm.inject(Om),de=Dm}catch(_m){}}t.createRoot=function(e,t){if(!l(e))throw Error(o(299));var n=!1,r="",a=bl,s=yl,i=vl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,a,s,i,0,null),e[_e]=t.current,Uu(e),new Pm(t)},t.hydrateRoot=function(e,t,n){if(!l(e))throw Error(o(299));var r=!1,a="",s=bl,i=yl,c=vl,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(i=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,a,s,i,c,0,u)).context=Qd(null),n=t.current,(a=as(r=Pe(r=_c()))).callback=null,ss(n,a,r),n=r,t.current.lanes=n,Se(t,n),ju(t),e[_e]=t.current,Uu(e),new Tm(t)},t.version="19.1.0"},13:e=>{e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},35:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandleAxesType=t.default=void 0;var r=s(n(173)),a=s(n(43));function s(e){return e&&e.__esModule?e:{default:e}}const o=t.resizeHandleAxesType=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),l=t.resizeHandleType=r.default.oneOfType([r.default.node,r.default.func]);t.default={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n(381).validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:o,resizeHandle:l,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){const n=e[t],r={};a.default.Children.forEach(n,function(e){if(null!=(null===e||void 0===e?void 0:e.key)){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}})},innerRef:r.default.any}},43:(e,t,n)=>{"use strict";e.exports=n(288)},45:(e,t,n)=>{var r=n(738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},136:(e,t,n)=>{"use strict";var r=n(847).default,a=n(897).default;const s=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return p.default}}),t.default=void 0;var o=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(s.get||s.set)?a(o,n,s):o[n]=e[n]);return o}(e,t)}(n(43)),l=h(n(173)),i=h(n(950)),c=n(949),u=n(212),d=n(777),m=n(447),p=h(n(935)),f=h(n(387));function h(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(null,arguments)}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:a({},n)})}constructor(e){super(e),x(this,"onDragStart",(e,t)=>{(0,f.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,d.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",t);const n=(0,d.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[a,s]=(0,d.getBoundPosition)(this,r.x,r.y);r.x=a,r.y=s,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)}),x(this,"onDragStop",(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,d.createDraggableData)(this,t)))return!1;(0,f.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:a({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:i.default.findDOMNode(this)}render(){const e=this.props,{axis:t,bounds:n,children:l,defaultPosition:i,defaultClassName:m,defaultClassNameDragging:f,defaultClassNameDragged:h,position:x,positionOffset:b,scale:y}=e,v=r(e,s);let w={},j=null;const N=!Boolean(x)||this.state.dragging,k=x||i,S={x:(0,d.canDragX)(this)&&N?this.state.x:k.x,y:(0,d.canDragY)(this)&&N?this.state.y:k.y};this.state.isElementSVG?j=(0,u.createSVGTransform)(S,b):w=(0,u.createCSSTransform)(S,b);const C=(0,c.clsx)(l.props.className||"",m,{[f]:this.state.dragging,[h]:this.state.dragged});return o.createElement(p.default,g({},v,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(l),{className:C,style:a(a({},l.props.style),w),transform:j}))}}t.default=b,x(b,"displayName","Draggable"),x(b,"propTypes",a(a({},p.default.propTypes),{},{axis:l.default.oneOf(["both","x","y","none"]),bounds:l.default.oneOfType([l.default.shape({left:l.default.number,right:l.default.number,top:l.default.number,bottom:l.default.number}),l.default.string,l.default.oneOf([!1])]),defaultClassName:l.default.string,defaultClassNameDragging:l.default.string,defaultClassNameDragged:l.default.string,defaultPosition:l.default.shape({x:l.default.number,y:l.default.number}),positionOffset:l.default.shape({x:l.default.oneOfType([l.default.number,l.default.string]),y:l.default.oneOfType([l.default.number,l.default.string])}),position:l.default.shape({x:l.default.number,y:l.default.number}),className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe})),x(b,"defaultProps",a(a({},p.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOrGenerateResponsiveLayout=function(e,t,n,s,o,l){if(e[n])return(0,r.cloneLayout)(e[n]);let i=e[s];const c=a(t),u=c.slice(c.indexOf(n));for(let r=0,a=u.length;r<a;r++){const t=u[r];if(e[t]){i=e[t];break}}return i=(0,r.cloneLayout)(i||[]),(0,r.compact)((0,r.correctBounds)(i,{cols:o}),l,o)},t.getBreakpointFromWidth=function(e,t){const n=a(e);let r=n[0];for(let a=1,s=n.length;a<s;a++){const s=n[a];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.sortBreakpoints=a;var r=n(381);function a(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}},163:(e,t,n)=>{"use strict";var r=n(847).default,a=n(897).default;const s=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];t.default=void 0;var o=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(s.get||s.set)?a(o,n,s):o[n]=e[n]);return o}(e,t)}(n(43)),l=m(n(173)),i=n(765),c=n(381),u=n(159),d=m(n(361));function m(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=e=>Object.prototype.toString.call(e);function g(e,t){return null==e?null:Array.isArray(e)?e:e[t]}class x extends o.Component{constructor(){super(...arguments),f(this,"state",this.generateInitialState()),f(this,"onLayoutChange",e=>{this.props.onLayoutChange(e,a(a({},this.props.layouts),{},{[this.state.breakpoint]:e}))})}generateInitialState(){const{width:e,breakpoints:t,layouts:n,cols:r}=this.props,a=(0,u.getBreakpointFromWidth)(t,e),s=(0,u.getColsFromBreakpoint)(a,r),o=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,u.findOrGenerateResponsiveLayout)(n,t,a,a,s,o),breakpoint:a,cols:s}}static getDerivedStateFromProps(e,t){if(!(0,i.deepEqual)(e.layouts,t.layouts)){const{breakpoint:n,cols:r}=t;return{layout:(0,u.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}componentDidUpdate(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,i.deepEqual)(this.props.breakpoints,e.breakpoints)&&(0,i.deepEqual)(this.props.cols,e.cols)||this.onWidthChange(e)}onWidthChange(e){const{breakpoints:t,cols:n,layouts:r,compactType:s}=this.props,o=this.props.breakpoint||(0,u.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,i=(0,u.getColsFromBreakpoint)(o,n),d=a({},r);if(l!==o||e.breakpoints!==t||e.cols!==n){l in d||(d[l]=(0,c.cloneLayout)(this.state.layout));let e=(0,u.findOrGenerateResponsiveLayout)(d,t,o,l,i,s);e=(0,c.synchronizeLayoutWithChildren)(e,this.props.children,i,s,this.props.allowOverlap),d[o]=e,this.props.onBreakpointChange(o,i),this.props.onLayoutChange(e,d),this.setState({breakpoint:o,layout:e,cols:i})}const m=g(this.props.margin,o),p=g(this.props.containerPadding,o);this.props.onWidthChange(this.props.width,m,i,p)}render(){const e=this.props,{breakpoint:t,breakpoints:n,cols:a,layouts:l,margin:i,containerPadding:c,onBreakpointChange:u,onLayoutChange:m,onWidthChange:f}=e,h=r(e,s);return o.createElement(d.default,p({},h,{margin:g(i,this.state.breakpoint),containerPadding:g(c,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}t.default=x,f(x,"propTypes",{breakpoint:l.default.string,breakpoints:l.default.object,allowOverlap:l.default.bool,cols:l.default.object,margin:l.default.oneOfType([l.default.array,l.default.object]),containerPadding:l.default.oneOfType([l.default.array,l.default.object]),layouts(e,t){if("[object Object]"!==h(e[t]))throw new Error("Layout property must be an object. Received: "+h(e[t]));Object.keys(e[t]).forEach(t=>{if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,c.validateLayout)(e.layouts[t],"layouts."+t)})},width:l.default.number.isRequired,onBreakpointChange:l.default.func,onLayoutChange:l.default.func,onWidthChange:l.default.func}),f(x,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:c.noop,onLayoutChange:c.noop,onWidthChange:c.noop})},173:(e,t,n)=>{e.exports=n(497)()},212:(e,t,n)=>{"use strict";var r=n(897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,n,a){if(!e)return;const s=r({capture:!0},a);e.addEventListener?e.addEventListener(t,n,s):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=i(e,t,"px");return{[(0,s.browserPrefixToKey)("transform",s.default)]:n}},t.createSVGTransform=function(e,t){return i(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,a.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,a.findInArray)(e.changedTouches,e=>t===e.identifier)},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=i,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingTop),t-=(0,a.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingLeft),t-=(0,a.int)(n.paddingRight),t},t.matchesSelector=l,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(l(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,s=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:s}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderTopWidth),t+=(0,a.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderLeftWidth),t+=(0,a.int)(n.borderRightWidth),t},t.removeClassName=d,t.removeEvent=function(e,t,n,a){if(!e)return;const s=r({capture:!0},a);e.removeEventListener?e.removeEventListener(t,n,s):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{c(e)}):c(e)};var a=n(447),s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(s.get||s.set)?a(o,n,s):o[n]=e[n]);return o}(e,t)}(n(561));let o="";function l(e,t){return o||(o=(0,a.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,a.isFunction)(e[t])})),!!(0,a.isFunction)(e[o])&&e[o](t)}function i(e,t,n){let{x:r,y:a}=e,s="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){const e="".concat("string"===typeof t.x?t.x:t.x+n),r="".concat("string"===typeof t.y?t.y:t.y+n);s="translate(".concat(e,", ").concat(r,")")+s}return s}function c(e){if(e)try{if(e.body&&d(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(t){}}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function d(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},276:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(43)),a=i(n(173)),s=i(n(325)),o=n(394),l=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var h=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var r=n.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(r,function(){return t.props.onResize&&t.props.onResize(e,n)})):t.setState(r)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),a.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},a.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,a=(e.onResize,e.onResizeStart),o=e.onResizeStop,i=e.draggableOpts,c=e.minConstraints,d=e.maxConstraints,p=e.lockAspectRatio,f=e.axis,h=(e.width,e.height,e.resizeHandles),g=e.style,x=e.transformScale,b=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,l);return r.createElement(s.default,{axis:f,draggableOpts:i,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:p,maxConstraints:d,minConstraints:c,onResizeStart:a,onResize:this.onResize,onResizeStop:o,resizeHandles:h,transformScale:x,width:this.state.width},r.createElement("div",u({},b,{style:m(m({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},a}(r.Component);t.default=h,h.propTypes=m(m({},o.resizableProps),{},{children:a.default.element})},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var v=y.prototype=new b;v.constructor=y,h(v,x.prototype),v.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(e,t,r,a,s,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(){}function T(e,t,a,s,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var i,c,u=!1;if(null===e)u=!0;else switch(l){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case m:return T((u=e._init)(e._payload),t,a,s,o)}}if(u)return o=o(e),u=""===s?"."+E(e,0):s,w(o)?(a="",null!=u&&(a=u.replace(C,"$&/")+"/"),T(o,t,a,"",function(e){return e})):null!=o&&(S(o)&&(i=o,c=a+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+u,o=k(i.type,c,void 0,0,0,i.props)),t.push(o)),1;u=0;var d,f=""===s?".":s+":";if(w(e))for(var h=0;h<e.length;h++)u+=T(s=e[h],t,a,l=f+E(s,h),o);else if("function"===typeof(h=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=h.call(e),h=0;!(s=e.next()).done;)u+=T(s=s.value,t,a,l=f+E(s,h++),o);else if("object"===l){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(P,P):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=o,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=h({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!N.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}return k(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)N.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var o=arguments.length-2;if(1===o)a.children=n;else if(1<o){for(var l=Array(o),i=0;i<o;i++)l[i]=arguments[i+2];a.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===a[r]&&(a[r]=o[r]);return k(e,s,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(L,D)}catch(s){D(s)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.0"},325:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(43)),a=n(929),s=n(769),o=n(394),l=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var f=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var i=o.prototype;return i.componentWillUnmount=function(){this.resetData()},i.resetData=function(){this.lastHandleRect=this.slack=null},i.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,a=n.maxConstraints,s=n.lockAspectRatio;if(!r&&!a&&!s)return[e,t];if(s){var o=this.props.width/this.props.height,l=e-this.props.width,i=t-this.props.height;Math.abs(l)>Math.abs(i*o)?t=e/o:e=t*o}var c=e,u=t,d=this.slack||[0,0],m=d[0],p=d[1];return e+=m,t+=p,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),a&&(e=Math.min(a[0],e),t=Math.min(a[1],t)),this.slack=[m+(c-e),p+(u-t)],[e,t]},i.resizeHandler=function(e,t){var n=this;return function(r,a){var s=a.node,o=a.deltaX,l=a.deltaY;"onResizeStart"===e&&n.resetData();var i=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(i||c){var u=t[0],d=t[t.length-1],m=s.getBoundingClientRect();if(null!=n.lastHandleRect){if("w"===d)o+=m.left-n.lastHandleRect.left;if("n"===u)l+=m.top-n.lastHandleRect.top}n.lastHandleRect=m,"w"===d&&(o=-o),"n"===u&&(l=-l);var p=n.props.width+(i?o/n.props.transformScale:0),f=n.props.height+(c?l/n.props.transformScale:0),h=n.runConstraints(p,f);p=h[0],f=h[1];var g=p!==n.props.width||f!==n.props.height,x="function"===typeof n.props[e]?n.props[e]:null;x&&!("onResize"===e&&!g)&&(null==r.persist||r.persist(),x(r,{node:s,size:{width:p,height:f},handle:t})),"onResizeStop"===e&&n.resetData()}}},i.renderResizeHandle=function(e,t){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"===typeof n)return n(e,t);var a=d({ref:t},"string"===typeof n.type?{}:{handleAxis:e});return r.cloneElement(n,a)},i.render=function(){var e=this,t=this.props,n=t.children,o=t.className,i=t.draggableOpts,u=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),m=(t.transformScale,function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,l));return(0,s.cloneElement)(n,d(d({},m),{},{className:(o?o+" ":"")+"react-resizable",children:[].concat(n.props.children,u.map(function(t){var n,s=null!=(n=e.handleRefs[t])?n:e.handleRefs[t]=r.createRef();return r.createElement(a.DraggableCore,c({},i,{nodeRef:s,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,s))}))}))},o}(r.Component);t.default=f,f.propTypes=o.resizableProps,f.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function i(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},361:(e,t,n)=>{"use strict";var r=n(897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(s.get||s.set)?a(o,n,s):o[n]=e[n]);return o}(e,t)}(n(43)),s=n(765),o=d(n(949)),l=n(381),i=n(875),c=d(n(393)),u=d(n(35));function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p="react-grid-layout";let f=!1;try{f=/firefox/i.test(navigator.userAgent)}catch(g){}class h extends a.Component{constructor(){super(...arguments),m(this,"state",{activeDrag:null,layout:(0,l.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,l.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),m(this,"dragEnterCounter",0),m(this,"onDragStart",(e,t,n,r)=>{let{e:a,node:s}=r;const{layout:o}=this.state,i=(0,l.getLayoutItem)(o,e);if(!i)return;const c={w:i.w,h:i.h,x:i.x,y:i.y,placeholder:!0,i:e};return this.setState({oldDragItem:(0,l.cloneLayoutItem)(i),oldLayout:o,activeDrag:c}),this.props.onDragStart(o,i,i,null,a,s)}),m(this,"onDrag",(e,t,n,r)=>{let{e:a,node:s}=r;const{oldDragItem:o}=this.state;let{layout:i}=this.state;const{cols:c,allowOverlap:u,preventCollision:d}=this.props,m=(0,l.getLayoutItem)(i,e);if(!m)return;const p={w:m.w,h:m.h,x:m.x,y:m.y,placeholder:!0,i:e};i=(0,l.moveElement)(i,m,t,n,!0,d,(0,l.compactType)(this.props),c,u),this.props.onDrag(i,o,m,p,a,s),this.setState({layout:u?i:(0,l.compact)(i,(0,l.compactType)(this.props),c),activeDrag:p})}),m(this,"onDragStop",(e,t,n,r)=>{let{e:a,node:s}=r;if(!this.state.activeDrag)return;const{oldDragItem:o}=this.state;let{layout:i}=this.state;const{cols:c,preventCollision:u,allowOverlap:d}=this.props,m=(0,l.getLayoutItem)(i,e);if(!m)return;i=(0,l.moveElement)(i,m,t,n,!0,u,(0,l.compactType)(this.props),c,d);const p=d?i:(0,l.compact)(i,(0,l.compactType)(this.props),c);this.props.onDragStop(p,o,m,null,a,s);const{oldLayout:f}=this.state;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,f)}),m(this,"onResizeStart",(e,t,n,r)=>{let{e:a,node:s}=r;const{layout:o}=this.state,i=(0,l.getLayoutItem)(o,e);i&&(this.setState({oldResizeItem:(0,l.cloneLayoutItem)(i),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(o,i,i,null,a,s))}),m(this,"onResize",(e,t,n,a)=>{let{e:s,node:o,size:i,handle:c}=a;const{oldResizeItem:u}=this.state,{layout:d}=this.state,{cols:m,preventCollision:p,allowOverlap:f}=this.props;let h,g,x,b=!1;const[y,v]=(0,l.withLayoutItem)(d,e,e=>{let a;if(g=e.x,x=e.y,-1!==["sw","w","nw","n","ne"].indexOf(c)&&(-1!==["sw","nw","w"].indexOf(c)&&(g=e.x+(e.w-t),t=e.x!==g&&g<0?e.w:t,g=g<0?0:g),-1!==["ne","n","nw"].indexOf(c)&&(x=e.y+(e.h-n),n=e.y!==x&&x<0?e.h:n,x=x<0?0:x),b=!0),p&&!f){a=(0,l.getAllCollisions)(d,r(r({},e),{},{w:t,h:n,x:g,y:x})).filter(t=>t.i!==e.i).length>0,a&&(x=e.y,n=e.h,g=e.x,t=e.w,b=!1)}return e.w=t,e.h=n,e});if(!v)return;if(h=y,b){const e=!0;h=(0,l.moveElement)(y,v,g,x,e,this.props.preventCollision,(0,l.compactType)(this.props),m,f)}const w={w:v.w,h:v.h,x:v.x,y:v.y,static:!0,i:e};this.props.onResize(h,u,v,w,s,o),this.setState({layout:f?h:(0,l.compact)(h,(0,l.compactType)(this.props),m),activeDrag:w})}),m(this,"onResizeStop",(e,t,n,r)=>{let{e:a,node:s}=r;const{layout:o,oldResizeItem:i}=this.state,{cols:c,allowOverlap:u}=this.props,d=(0,l.getLayoutItem)(o,e),m=u?o:(0,l.compact)(o,(0,l.compactType)(this.props),c);this.props.onResizeStop(m,i,d,null,a,s);const{oldLayout:p}=this.state;this.setState({activeDrag:null,layout:m,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(m,p)}),m(this,"onDragOver",e=>{var t;if(e.preventDefault(),e.stopPropagation(),f&&(null===(t=e.nativeEvent.target)||void 0===t||!t.classList.contains(p)))return!1;const{droppingItem:n,onDropDragOver:s,margin:o,cols:l,rowHeight:c,maxRows:u,width:d,containerPadding:m,transformScale:h}=this.props,g=null===s||void 0===s?void 0:s(e);if(!1===g)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const x=r(r({},n),g),{layout:b}=this.state,y=e.currentTarget.getBoundingClientRect(),v=e.clientX-y.left,w=e.clientY-y.top,j={left:v/h,top:w/h,e:e};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:e,top:t}=this.state.droppingPosition;(e!=v||t!=w)&&this.setState({droppingPosition:j})}}else{const e={cols:l,margin:o,maxRows:u,rowHeight:c,containerWidth:d,containerPadding:m||o},t=(0,i.calcXY)(e,w,v,x.w,x.h);this.setState({droppingDOMNode:a.createElement("div",{key:x.i}),droppingPosition:j,layout:[...b,r(r({},x),{},{x:t.x,y:t.y,static:!1,isDraggable:!0})]})}}),m(this,"removeDroppingPlaceholder",()=>{const{droppingItem:e,cols:t}=this.props,{layout:n}=this.state,r=(0,l.compact)(n.filter(t=>t.i!==e.i),(0,l.compactType)(this.props),t,this.props.allowOverlap);this.setState({layout:r,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),m(this,"onDragLeave",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter--,0===this.dragEnterCounter&&this.removeDroppingPlaceholder()}),m(this,"onDragEnter",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter++}),m(this,"onDrop",e=>{e.preventDefault(),e.stopPropagation();const{droppingItem:t}=this.props,{layout:n}=this.state,r=n.find(e=>e.i===t.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,r,e)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(e,t){let n;if(t.activeDrag)return null;if((0,s.deepEqual)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,l.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n){return{layout:(0,l.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,l.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}}return null}shouldComponentUpdate(e,t){return this.props.children!==e.children||!(0,l.fastRGLPropsEqual)(this.props,e,s.deepEqual)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}componentDidUpdate(e,t){if(!this.state.activeDrag){const e=this.state.layout,n=t.layout;this.onLayoutMaybeChanged(e,n)}}containerHeight(){if(!this.props.autoSize)return;const e=(0,l.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}onLayoutMaybeChanged(e,t){t||(t=this.state.layout),(0,s.deepEqual)(t,e)||this.props.onLayoutChange(e)}placeholder(){const{activeDrag:e}=this.state;if(!e)return null;const{width:t,cols:n,margin:r,containerPadding:s,rowHeight:o,maxRows:l,useCSSTransforms:i,transformScale:u}=this.props;return a.createElement(c.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder ".concat(this.state.resizing?"placeholder-resizing":""),containerWidth:t,cols:n,margin:r,containerPadding:s||r,maxRows:l,rowHeight:o,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:i,transformScale:u},a.createElement("div",null))}processGridItem(e,t){if(!e||!e.key)return;const n=(0,l.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;const{width:r,cols:s,margin:o,containerPadding:i,rowHeight:u,maxRows:d,isDraggable:m,isResizable:p,isBounded:f,useCSSTransforms:h,transformScale:g,draggableCancel:x,draggableHandle:b,resizeHandles:y,resizeHandle:v}=this.props,{mounted:w,droppingPosition:j}=this.state,N="boolean"===typeof n.isDraggable?n.isDraggable:!n.static&&m,k="boolean"===typeof n.isResizable?n.isResizable:!n.static&&p,S=n.resizeHandles||y,C=N&&f&&!1!==n.isBounded;return a.createElement(c.default,{containerWidth:r,cols:s,margin:o,containerPadding:i||o,maxRows:d,rowHeight:u,cancel:x,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:N,isResizable:k,isBounded:C,useCSSTransforms:h&&w,usePercentages:!w,transformScale:g,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?j:void 0,resizeHandles:S,resizeHandle:v},e)}render(){const{className:e,style:t,isDroppable:n,innerRef:s}=this.props,i=(0,o.default)(p,e),c=r({height:this.containerHeight()},t);return a.createElement("div",{ref:s,className:i,style:c,onDrop:n?this.onDrop:l.noop,onDragLeave:n?this.onDragLeave:l.noop,onDragEnter:n?this.onDragEnter:l.noop,onDragOver:n?this.onDragOver:l.noop},a.Children.map(this.props.children,e=>this.processGridItem(e)),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}t.default=h,m(h,"displayName","ReactGridLayout"),m(h,"propTypes",u.default),m(h,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:l.noop,onDragStart:l.noop,onDrag:l.noop,onDragStop:l.noop,onResizeStart:l.noop,onResize:l.noop,onResizeStop:l.noop,onDrop:l.noop,onDropDragOver:l.noop})},381:(e,t,n)=>{"use strict";var r=n(897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=c,t.childrenEqual=function(e,t){return(0,s.deepEqual)(o.default.Children.map(e,e=>null===e||void 0===e?void 0:e.key),o.default.Children.map(t,e=>null===e||void 0===e?void 0:e.key))&&(0,s.deepEqual)(o.default.Children.map(e,e=>null===e||void 0===e?void 0:e.props["data-grid"]),o.default.Children.map(t,e=>null===e||void 0===e?void 0:e.props["data-grid"]))},t.cloneLayout=u,t.cloneLayoutItem=m,t.collides=p,t.compact=f,t.compactItem=x,t.compactType=function(e){const{verticalCompact:t,compactType:n}=e||{};return!1===t?null:n},t.correctBounds=b,t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.fastRGLPropsEqual=void 0,t.getAllCollisions=w,t.getFirstCollision=v,t.getLayoutItem=y,t.getStatics=j,t.modifyLayout=d,t.moveElement=N,t.moveElementAwayFromCollision=k,t.noop=void 0,t.perc=function(e){return 100*e+"%"},t.resizeItemInDirection=function(e,t,n,a){const s=L[e];return s?s(t,r(r({},t),n),a):n},t.setTopLeft=function(e){let{top:t,left:n,width:r,height:a}=e;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.setTransform=function(e){let{top:t,left:n,width:r,height:a}=e;const s="translate(".concat(n,"px,").concat(t,"px)");return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.sortLayoutItems=_,t.sortLayoutItemsByColRow=z,t.sortLayoutItemsByRowCol=A,t.synchronizeLayoutWithChildren=function(e,t,n,a,s){e=e||[];const i=[];o.default.Children.forEach(t,t=>{if(null==(null===t||void 0===t?void 0:t.key))return;const n=y(e,String(t.key)),a=t.props["data-grid"];n&&null==a?i.push(m(n)):a?(l||M([a],"ReactGridLayout.children"),i.push(m(r(r({},a),{},{i:t.key})))):i.push(m({w:1,h:1,x:0,y:c(i),i:String(t.key)}))});const u=b(i,{cols:n});return s?u:f(u,a,n)},t.validateLayout=M,t.withLayoutItem=function(e,t,n){let r=y(e,t);return r?(r=n(m(r)),[e=d(e,r),r]):[e,null]};var a,s=n(765),o=(a=n(43))&&a.__esModule?a:{default:a};const l=!0,i=!1;function c(e){let t,n=0;for(let r=0,a=e.length;r<a;r++)t=e[r].y+e[r].h,t>n&&(n=t);return n}function u(e){const t=Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=m(e[n]);return t}function d(e,t){const n=Array(e.length);for(let r=0,a=e.length;r<a;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function m(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}t.fastRGLPropsEqual=n(13);function p(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function f(e,t,n,r){const a=j(e),s=_(e,t),o=Array(e.length);for(let l=0,i=s.length;l<i;l++){let i=m(s[l]);i.static||(i=x(a,i,t,n,s,r),a.push(i)),o[e.indexOf(s[l])]=i,i.moved=!1}return o}const h={x:"w",y:"h"};function g(e,t,n,r){const a=h[r];t[r]+=1;for(let s=e.map(e=>e.i).indexOf(t.i)+1;s<e.length;s++){const o=e[s];if(!o.static){if(o.y>t.y+t.h)break;p(t,o)&&g(e,o,n+t[a],r)}}t[r]=n}function x(e,t,n,r,a,s){const o="horizontal"===n;if("vertical"===n)for(t.y=Math.min(c(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(o)for(;t.x>0&&!v(e,t);)t.x--;let l;for(;(l=v(e,t))&&(null!==n||!s);)if(o?g(a,t,l.x+l.w,"x"):g(a,t,l.y+l.h,"y"),o&&t.x+t.w>r)for(t.x=r-t.w,t.y++;t.x>0&&!v(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function b(e,t){const n=j(e);for(let r=0,a=e.length;r<a;r++){const a=e[r];if(a.x+a.w>t.cols&&(a.x=t.cols-a.w),a.x<0&&(a.x=0,a.w=t.cols),a.static)for(;v(n,a);)a.y++;else n.push(a)}return e}function y(e,t){for(let n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function v(e,t){for(let n=0,r=e.length;n<r;n++)if(p(e[n],t))return e[n]}function w(e,t){return e.filter(e=>p(e,t))}function j(e){return e.filter(e=>e.static)}function N(e,t,n,r,a,s,o,l,i){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;I("Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]"));const c=t.x,d=t.y;"number"===typeof n&&(t.x=n),"number"===typeof r&&(t.y=r),t.moved=!0;let m=_(e,o);("vertical"===o&&"number"===typeof r?d>=r:"horizontal"===o&&"number"===typeof n&&c>=n)&&(m=m.reverse());const p=w(m,t),f=p.length>0;if(f&&i)return u(e);if(f&&s)return I("Collision prevented on ".concat(t.i,", reverting.")),t.x=c,t.y=d,t.moved=!1,e;for(let u=0,h=p.length;u<h;u++){const n=p[u];I("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(n.i," at [").concat(n.x,",").concat(n.y,"]")),n.moved||(e=n.static?k(e,n,t,a,o,l):k(e,t,n,a,o,l))}return e}function k(e,t,n,r,a,s){const o="horizontal"===a,l="vertical"===a,i=t.static;if(r){r=!1;const c={x:o?Math.max(t.x-n.w,0):n.x,y:l?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},u=v(e,c),d=u&&u.y+u.h>t.y,m=u&&t.x+t.w>u.x;if(!u)return I("Doing reverse collision on ".concat(n.i," up to [").concat(c.x,",").concat(c.y,"].")),N(e,n,o?c.x:void 0,l?c.y:void 0,r,i,a,s);if(d&&l)return N(e,n,void 0,t.y+1,r,i,a,s);if(d&&null==a)return t.y=n.y,n.y=n.y+n.h,e;if(m&&o)return N(e,t,n.x,void 0,r,i,a,s)}const c=o?n.x+1:void 0,u=l?n.y+1:void 0;return null==c&&null==u?e:N(e,n,o?n.x+1:void 0,l?n.y+1:void 0,r,i,a,s)}const S=(e,t,n,r)=>e+n>r?t:n,C=(e,t,n)=>e<0?t:n,E=e=>Math.max(0,e),P=e=>Math.max(0,e),T=(e,t,n)=>{let{left:r,height:a,width:s}=t;const o=e.top-(a-e.height);return{left:r,width:s,height:C(o,e.height,a),top:P(o)}},R=(e,t,n)=>{let{top:r,left:a,height:s,width:o}=t;return{top:r,height:s,width:S(e.left,e.width,o,n),left:E(a)}},O=(e,t,n)=>{let{top:r,height:a,width:s}=t;const o=e.left-(s-e.width);return{height:a,width:o<0?e.width:S(e.left,e.width,s,n),top:P(r),left:E(o)}},D=(e,t,n)=>{let{top:r,left:a,height:s,width:o}=t;return{width:o,left:a,height:C(r,e.height,s),top:P(r)}},L={n:T,ne:function(){return T(arguments.length<=0?void 0:arguments[0],R(...arguments))},e:R,se:function(){return D(arguments.length<=0?void 0:arguments[0],R(...arguments))},s:D,sw:function(){return D(arguments.length<=0?void 0:arguments[0],O(...arguments))},w:O,nw:function(){return T(arguments.length<=0?void 0:arguments[0],O(...arguments))}};function _(e,t){return"horizontal"===t?z(e):"vertical"===t?A(e):e}function A(e){return e.slice(0).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function z(e){return e.slice(0).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout";const n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let r=0,a=e.length;r<a;r++){const a=e[r];for(let e=0;e<n.length;e++){const s=n[e],o=a[s];if("number"!==typeof o||Number.isNaN(o))throw new Error("ReactGridLayout: ".concat(t,"[").concat(r,"].").concat(s," must be a number! Received: ").concat(o," (").concat(typeof o,")"))}if("undefined"!==typeof a.i&&"string"!==typeof a.i)throw new Error("ReactGridLayout: ".concat(t,"[").concat(r,"].i must be a string! Received: ").concat(a.i," (").concat(typeof a.i,")"))}}function I(){i&&console.log(...arguments)}t.noop=()=>{}},387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},393:(e,t,n)=>{"use strict";var r=n(897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(43)),s=n(950),o=p(n(173)),l=n(929),i=n(3),c=n(381),u=n(875),d=n(35),m=p(n(949));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.default.Component{constructor(){super(...arguments),f(this,"state",{resizing:null,dragging:null,className:""}),f(this,"elementRef",a.default.createRef()),f(this,"onDragStart",(e,t)=>{let{node:n}=t;const{onDragStart:r,transformScale:a}=this.props;if(!r)return;const s={top:0,left:0},{offsetParent:o}=n;if(!o)return;const l=o.getBoundingClientRect(),i=n.getBoundingClientRect(),c=i.left/a,d=l.left/a,m=i.top/a,p=l.top/a;s.left=c-d+o.scrollLeft,s.top=m-p+o.scrollTop,this.setState({dragging:s});const{x:f,y:h}=(0,u.calcXY)(this.getPositionParams(),s.top,s.left,this.props.w,this.props.h);return r.call(this,this.props.i,f,h,{e:e,node:n,newPosition:s})}),f(this,"onDrag",(e,t,n)=>{let{node:r,deltaX:a,deltaY:o}=t;const{onDrag:l}=this.props;if(!l)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let i=this.state.dragging.top+o,c=this.state.dragging.left+a;const{isBounded:d,i:m,w:p,h:f,containerWidth:h}=this.props,g=this.getPositionParams();if(d){const{offsetParent:e}=r;if(e){const{margin:t,rowHeight:n}=this.props,r=e.clientHeight-(0,u.calcGridItemWHPx)(f,n,t[1]);i=(0,u.clamp)(i,0,r);const a=(0,u.calcGridColWidth)(g),s=h-(0,u.calcGridItemWHPx)(p,a,t[0]);c=(0,u.clamp)(c,0,s)}}const x={top:i,left:c};n?this.setState({dragging:x}):(0,s.flushSync)(()=>{this.setState({dragging:x})});const{x:b,y:y}=(0,u.calcXY)(g,i,c,p,f);return l.call(this,m,b,y,{e:e,node:r,newPosition:x})}),f(this,"onDragStop",(e,t)=>{let{node:n}=t;const{onDragStop:r}=this.props;if(!r)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:a,h:s,i:o}=this.props,{left:l,top:i}=this.state.dragging,c={top:i,left:l};this.setState({dragging:null});const{x:d,y:m}=(0,u.calcXY)(this.getPositionParams(),i,l,a,s);return r.call(this,o,d,m,{e:e,node:n,newPosition:c})}),f(this,"onResizeStop",(e,t,n)=>this.onResizeHandler(e,t,n,"onResizeStop")),f(this,"onResizeStart",(e,t,n)=>this.onResizeHandler(e,t,n,"onResizeStart")),f(this,"onResize",(e,t,n)=>this.onResizeHandler(e,t,n,"onResize"))}shouldComponentUpdate(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;const n=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,u.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,c.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(e){this.moveDroppingItem(e)}moveDroppingItem(e){const{droppingPosition:t}=this.props;if(!t)return;const n=this.elementRef.current;if(!n)return;const r=e.droppingPosition||{left:0,top:0},{dragging:a}=this.state,s=a&&t.left!==r.left||t.top!==r.top;if(a){if(s){const e=t.left-a.left,r=t.top-a.top;this.onDrag(t.e,{node:n,deltaX:e,deltaY:r},!0)}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}getPositionParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}createStyle(e){const{usePercentages:t,containerWidth:n,useCSSTransforms:r}=this.props;let a;return r?a=(0,c.setTransform)(e):(a=(0,c.setTopLeft)(e),t&&(a.left=(0,c.perc)(e.left/n),a.width=(0,c.perc)(e.width/n))),a}mixinDraggable(e,t){return a.default.createElement(l.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}curryResizeHandler(e,t){return(n,r)=>t(n,r,e)}mixinResizable(e,t,n){const{cols:r,minW:s,minH:o,maxW:l,maxH:c,transformScale:d,resizeHandles:m,resizeHandle:p}=this.props,f=this.getPositionParams(),h=(0,u.calcGridItemPosition)(f,0,0,r,0).width,g=(0,u.calcGridItemPosition)(f,0,0,s,o),x=(0,u.calcGridItemPosition)(f,0,0,l,c),b=[g.width,g.height],y=[Math.min(x.width,h),Math.min(x.height,1/0)];return a.default.createElement(i.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:b,maxConstraints:y,onResizeStop:this.curryResizeHandler(t,this.onResizeStop),onResizeStart:this.curryResizeHandler(t,this.onResizeStart),onResize:this.curryResizeHandler(t,this.onResize),transformScale:d,resizeHandles:m,handle:p},e)}onResizeHandler(e,t,n,r){let{node:a,size:o,handle:l}=t;const i=this.props[r];if(!i)return;const{x:d,y:m,i:p,maxH:f,minH:h,containerWidth:g}=this.props,{minW:x,maxW:b}=this.props;let y=o;a&&(y=(0,c.resizeItemInDirection)(l,n,o,g),(0,s.flushSync)(()=>{this.setState({resizing:"onResizeStop"===r?null:y})}));let{w:v,h:w}=(0,u.calcWH)(this.getPositionParams(),y.width,y.height,d,m,l);v=(0,u.clamp)(v,Math.max(x,1),b),w=(0,u.clamp)(w,h,f),i.call(this,p,v,w,{e:e,node:a,size:y,handle:l})}render(){const{x:e,y:t,w:n,h:s,isDraggable:o,isResizable:l,droppingPosition:i,useCSSTransforms:c}=this.props,d=(0,u.calcGridItemPosition)(this.getPositionParams(),e,t,n,s,this.state),p=a.default.Children.only(this.props.children);let f=a.default.cloneElement(p,{ref:this.elementRef,className:(0,m.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":o,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(i),cssTransforms:c}),style:r(r(r({},this.props.style),p.props.style),this.createStyle(d))});return f=this.mixinResizable(f,d,l),f=this.mixinDraggable(f,o),f}}t.default=h,f(h,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){const n=e[t];return"number"!==typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){const n=e[t];return"number"!==typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){const n=e[t];return"number"!==typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){const n=e[t];return"number"!==typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:d.resizeHandleAxesType,resizeHandle:d.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),f(h,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},394:(e,t,n)=>{"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,a=(r=n(173))&&r.__esModule?r:{default:r};n(929);var s={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s=t[0];return"both"===s.axis||"y"===s.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s=t[0];return"both"===s.axis||"x"===s.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)}};t.resizableProps=s},399:(e,t,n)=>{e.exports=n(361).default,n(381),n(875),e.exports.Responsive=n(163).default,e.exports.Responsive.utils=n(159),e.exports.WidthProvider=n(700).default},447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},561:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let s=0;s<n.length;s++)if(a(t,n[s])in r)return n[s];return""}function a(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");var i=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=i.T,n=o.p;try{if(i.T=null,o.p=2,e)return e()}finally{i.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},t.useFormStatus=function(){return i.H.useHostTransitionStatus()},t.version="19.1.0"},693:(e,t,n)=>{var r=n(736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},700:(e,t,n)=>{"use strict";var r=n(847).default;const a=["measureBeforeMount"];t.default=function(e){var t;return t=class extends s.Component{constructor(){super(...arguments),d(this,"state",{width:1280}),d(this,"elementRef",s.createRef()),d(this,"mounted",!1),d(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new l.default(e=>{if(this.elementRef.current instanceof HTMLElement){const t=e[0].contentRect.width;this.setState({width:t})}});const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.observe(e)}componentWillUnmount(){this.mounted=!1;const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.unobserve(e),this.resizeObserver.disconnect()}render(){const t=this.props,{measureBeforeMount:n}=t,o=r(t,a);return n&&!this.mounted?s.createElement("div",{className:(0,i.default)(this.props.className,m),style:this.props.style,ref:this.elementRef}):s.createElement(e,u({innerRef:this.elementRef},o,this.state))}},d(t,"defaultProps",{measureBeforeMount:!1}),d(t,"propTypes",{measureBeforeMount:o.default.bool}),t};var s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(s.get||s.set)?a(o,n,s):o[n]=e[n]);return o}(e,t)}(n(43)),o=c(n(173)),l=c(n(820)),i=c(n(949));function c(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m="react-grid-layout"},736:(e,t,n)=>{var r=n(738).default,a=n(45);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},765:function(e,t){!function(e){"use strict";function t(e){return function(t,n,r,a,s,o,l){return e(t,n,l)}}function n(e){return function(t,n,r,a){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r,a);var s=a.get(t),o=a.get(n);if(s&&o)return s===n&&o===t;a.set(t,n),a.set(n,t);var l=e(t,n,r,a);return a.delete(t),a.delete(n),l}}function r(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function a(e){return e.constructor===Object||null==e.constructor}function s(e){return"function"===typeof e.then}function o(e,t){return e===t||e!==e&&t!==t}var l="[object Arguments]",i="[object Boolean]",c="[object Date]",u="[object RegExp]",d="[object Map]",m="[object Number]",p="[object Object]",f="[object Set]",h="[object String]",g=Object.prototype.toString;function x(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,x=e.areObjectsEqual,b=e.areRegExpsEqual,y=e.areSetsEqual,v=(0,e.createIsNestedEqual)(w);function w(e,w,j){if(e===w)return!0;if(!e||!w||"object"!==typeof e||"object"!==typeof w)return e!==e&&w!==w;if(a(e)&&a(w))return x(e,w,v,j);var N=Array.isArray(e),k=Array.isArray(w);if(N||k)return N===k&&t(e,w,v,j);var S=g.call(e);return S===g.call(w)&&(S===c?n(e,w,v,j):S===u?b(e,w,v,j):S===d?r(e,w,v,j):S===f?y(e,w,v,j):S===p||S===l?!s(e)&&!s(w)&&x(e,w,v,j):(S===i||S===m||S===h)&&o(e.valueOf(),w.valueOf()))}return w}function b(e,t,n,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n(e[a],t[a],a,a,e,t,r))return!1;return!0}var y=n(b);function v(e,t){return o(e.valueOf(),t.valueOf())}function w(e,t,n,r){var a=e.size===t.size;if(!a)return!1;if(!e.size)return!0;var s={},o=0;return e.forEach(function(l,i){if(a){var c=!1,u=0;t.forEach(function(a,d){c||s[u]||!(c=n(i,d,o,u,e,t,r)&&n(l,a,i,d,e,t,r))||(s[u]=!0),u++}),o++,a=c}}),a}var j=n(w),N="_owner",k=Object.prototype.hasOwnProperty;function S(e,t,n,r){var a,s=Object.keys(e),o=s.length;if(Object.keys(t).length!==o)return!1;for(;o-- >0;){if((a=s[o])===N){var l=!!e.$$typeof,i=!!t.$$typeof;if((l||i)&&l!==i)return!1}if(!k.call(t,a)||!n(e[a],t[a],a,a,e,t,r))return!1}return!0}var C=n(S);function E(e,t){return e.source===t.source&&e.flags===t.flags}function P(e,t,n,r){var a=e.size===t.size;if(!a)return!1;if(!e.size)return!0;var s={};return e.forEach(function(o,l){if(a){var i=!1,c=0;t.forEach(function(a,u){i||s[c]||!(i=n(o,a,l,u,e,t,r))||(s[c]=!0),c++}),a=i}}),a}var T=n(P),R=Object.freeze({areArraysEqual:b,areDatesEqual:v,areMapsEqual:w,areObjectsEqual:S,areRegExpsEqual:E,areSetsEqual:P,createIsNestedEqual:t}),O=Object.freeze({areArraysEqual:y,areDatesEqual:v,areMapsEqual:j,areObjectsEqual:C,areRegExpsEqual:E,areSetsEqual:T,createIsNestedEqual:t}),D=x(R);function L(e,t){return D(e,t,void 0)}var _=x(r(R,{createIsNestedEqual:function(){return o}}));function A(e,t){return _(e,t,void 0)}var z=x(O);function M(e,t){return z(e,t,new WeakMap)}var I=x(r(O,{createIsNestedEqual:function(){return o}}));function F(e,t){return I(e,t,new WeakMap)}function U(e){return x(r(R,e(R)))}function W(e){var t=x(r(O,e(O)));return function(e,n,r){return void 0===r&&(r=new WeakMap),t(e,n,r)}}e.circularDeepEqual=M,e.circularShallowEqual=F,e.createCustomCircularEqual=W,e.createCustomEqual=U,e.deepEqual=L,e.sameValueZeroEqual=o,e.shallowEqual=A,Object.defineProperty(e,"__esModule",{value:!0})}(t)},769:(e,t,n)=>{"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=o(o({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return a.default.cloneElement(e,t)};var r,a=(r=n(43))&&r.__esModule?r:{default:r};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const a=!(0,r.isNum)(e.lastX),o=s(e);return a?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:o}=e.props;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);const l=s(e);if("string"===typeof o){const{ownerDocument:e}=l,t=e.defaultView;let n;if("parent"===o)n=l.parentNode;else{n=l.getRootNode().querySelector(o)}if(!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const s=n,i=t.getComputedStyle(l),c=t.getComputedStyle(s);o={left:-l.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(i.marginLeft),top:-l.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(i.marginTop),right:(0,a.innerWidth)(s)-(0,a.outerWidth)(l)-l.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(i.marginRight),bottom:(0,a.innerHeight)(s)-(0,a.outerHeight)(l)-l.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(i.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"===typeof t?(0,a.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;const o=s(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,l,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]};var r=n(447),a=n(212);function s(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),a="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,s="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var l=["top","right","bottom","left","width","height","size","weight"],i="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function s(){n&&(n=!1,e()),r&&i()}function l(){o(s)}function i(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(l,t);a=e}return i}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),i?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;l.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s},m=b(0,0,0,0);function p(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+p(e["border-"+n+"-width"])},0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return m;var r=d(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],s=e["padding-"+a];t[a]=p(s)}return t}(r),s=a.left+a.right,o=a.top+a.bottom,l=p(r.width),i=p(r.height);if("border-box"===r.boxSizing&&(Math.round(l+s)!==t&&(l-=f(r,"left","right")+s),Math.round(i+o)!==n&&(i-=f(r,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(l+s)-t,u=Math.round(i+o)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(u)&&(i-=u)}return b(a.left,a.top,l,i)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function x(e){return a?g(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):h(e):m}function b(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=x(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,s="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(s.prototype);return u(o,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),o}(t);u(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new v(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),j="undefined"!==typeof WeakMap?new WeakMap:new r,N=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);j.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){N.prototype[e]=function(){var t;return(t=j.get(this))[e].apply(t,arguments)}});const k="undefined"!==typeof s.ResizeObserver?s.ResizeObserver:N},847:(e,t,n)=>{var r=n(893);e.exports=function(e,t){if(null==e)return{};var n,a,s=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports},853:(e,t,n)=>{"use strict";e.exports=n(896)},868:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=868,e.exports=t},875:(e,t)=>{"use strict";function n(e){const{margin:t,containerPadding:n,containerWidth:r,cols:a}=e;return(r-t[0]*(a-1)-2*n[0])/a}function r(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function a(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=n,t.calcGridItemPosition=function(e,t,a,s,o,l){const{margin:i,containerPadding:c,rowHeight:u}=e,d=n(e),m={};l&&l.resizing?(m.width=Math.round(l.resizing.width),m.height=Math.round(l.resizing.height)):(m.width=r(s,d,i[0]),m.height=r(o,u,i[1]));l&&l.dragging?(m.top=Math.round(l.dragging.top),m.left=Math.round(l.dragging.left)):l&&l.resizing&&"number"===typeof l.resizing.top&&"number"===typeof l.resizing.left?(m.top=Math.round(l.resizing.top),m.left=Math.round(l.resizing.left)):(m.top=Math.round((u+i[1])*a+c[1]),m.left=Math.round((d+i[0])*t+c[0]));return m},t.calcGridItemWHPx=r,t.calcWH=function(e,t,r,s,o,l){const{margin:i,maxRows:c,cols:u,rowHeight:d}=e,m=n(e);let p=Math.round((t+i[0])/(m+i[0])),f=Math.round((r+i[1])/(d+i[1])),h=a(p,0,u-s),g=a(f,0,c-o);-1!==["sw","w","nw"].indexOf(l)&&(h=a(p,0,u));-1!==["nw","n","ne"].indexOf(l)&&(g=a(f,0,c));return{w:h,h:g}},t.calcXY=function(e,t,r,s,o){const{margin:l,containerPadding:i,cols:c,rowHeight:u,maxRows:d}=e,m=n(e);let p=Math.round((r-i[0])/(m+l[0])),f=Math.round((t-i[1])/(u+l[1]));return p=a(p,0,c-s),f=a(f,0,d-o),{x:p,y:f}},t.clamp=a},893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var l=2*(r+1)-1,i=e[l],c=l+1,u=e[c];if(0>s(i,n))c<a&&0>s(u,i)?(e[r]=u,e[c]=n,r=c):(e[r]=i,e[l]=n,r=l);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();t.unstable_now=function(){return l.now()-i}}var c=[],u=[],d=1,m=null,p=3,f=!1,h=!1,g=!1,x=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function j(e){if(g=!1,w(e),!h)if(null!==r(c))h=!0,k||(k=!0,N());else{var t=r(u);null!==t&&D(j,t.startTime-e)}}var N,k=!1,S=-1,C=5,E=-1;function P(){return!!x||!(t.unstable_now()-E<C)}function T(){if(x=!1,k){var e=t.unstable_now();E=e;var n=!0;try{e:{h=!1,g&&(g=!1,y(S),S=-1),f=!0;var s=p;try{t:{for(w(e),m=r(c);null!==m&&!(m.expirationTime>e&&P());){var o=m.callback;if("function"===typeof o){m.callback=null,p=m.priorityLevel;var l=o(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof l){m.callback=l,w(e),n=!0;break t}m===r(c)&&a(c),w(e)}else a(c);m=r(c)}if(null!==m)n=!0;else{var i=r(u);null!==i&&D(j,i.startTime-e),n=!1}}break e}finally{m=null,p=s,f=!1}n=void 0}}finally{n?N():k=!1}}}if("function"===typeof v)N=function(){v(T)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=T,N=function(){O.postMessage(null)}}else N=function(){b(T,0)};function D(e,n){S=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,D(j,s-o))):(e.sortIndex=l,n(c,e),h||f||(h=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},897:(e,t,n)=>{var r=n(693);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},929:(e,t,n)=>{"use strict";const{default:r,DraggableCore:a}=n(136);e.exports=r,e.exports.default=r,e.exports.DraggableCore=a},935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(s.get||s.set)?a(o,n,s):o[n]=e[n]);return o}(e,t)}(n(43)),a=u(n(173)),s=u(n(950)),o=n(212),l=n(777),i=n(447),c=u(n(387));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let f=p;class h extends r.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();const r=(0,o.getTouchIdentifier)(e);this.touchIdentifier=r;const a=(0,l.getControlPosition)(e,r,this);if(null==a)return;const{x:s,y:i}=a,u=(0,l.createCoreData)(this,s,i);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart);!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=i,(0,o.addEvent)(n,f.move,this.handleDrag),(0,o.addEvent)(n,f.stop,this.handleDragStop))}),d(this,"handleDrag",e=>{const t=(0,l.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,l.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const a=(0,l.createCoreData)(this,n,r);(0,c.default)("DraggableCore: handleDrag: %j",a);if(!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(s){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}}),d(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,l.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,l.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const a=(0,l.createCoreData)(this,n,r);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(s.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,c.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(s.ownerDocument,f.move,this.handleDrag),(0,o.removeEvent)(s.ownerDocument,f.stop,this.handleDragStop))}),d(this,"onMouseDown",e=>(f=p,this.handleDragStart(e))),d(this,"onMouseUp",e=>(f=p,this.handleDragStop(e))),d(this,"onTouchStart",e=>(f=m,this.handleDragStart(e))),d(this,"onTouchEnd",e=>(f=m,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,o.addEvent)(e,m.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,o.removeEvent)(t,p.move,this.handleDrag),(0,o.removeEvent)(t,m.move,this.handleDrag),(0,o.removeEvent)(t,p.stop,this.handleDragStop),(0,o.removeEvent)(t,m.stop,this.handleDragStop),(0,o.removeEvent)(e,m.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:s.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=h,d(h,"displayName","DraggableCore"),d(h,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),d(h,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},949:e=>{function t(e){var n,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(r=t(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function n(){for(var e,n,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(n=t(e))&&(a&&(a+=" "),a+=n);return a}e.exports=n,e.exports.clsx=n},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Tn,hasStandardBrowserEnv:()=>On,hasStandardBrowserWebWorkerEnv:()=>Dn,navigator:()=>Rn,origin:()=>Ln});var t=n(43),r=n(391);function a(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(358);const u=["sri"],d=["page"],m=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function x(){return k(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return w("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:j(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function v(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function j(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function N(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,l="POP",i=null,u=d();function d(){return(o.state||{idx:null}).idx}function m(){l="POP";let e=d(),t=null==e?null:e-u;u=e,i&&i({action:l,location:f.location,delta:t})}function p(e){return S(e)}null==u&&(u=0,o.replaceState(c(c({},o.state),{},{idx:u}),""));let f={get action(){return l},get location(){return e(a,o)},listen(e){if(i)throw new Error("A history only accepts one active listener");return a.addEventListener(g,m),i=e,()=>{a.removeEventListener(g,m),i=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=w(f.location,e,t);n&&n(r,e),u=d()+1;let c=v(r,u),m=f.createHref(r);try{o.pushState(c,"",m)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(m)}s&&i&&i({action:l,location:f.location,delta:1})},replace:function(e,t){l="REPLACE";let r=w(f.location,e,t);n&&n(r,e),u=d();let a=v(r,u),c=f.createHref(r);o.replaceState(a,"",c),s&&i&&i({action:l,location:f.location,delta:0})},go:e=>o.go(e)};return f}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:j(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,r){let a=B(("string"===typeof t?N(t):t).pathname||"/",n);if(null==a)return null;let s=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let l=0;null==o&&l<s.length;++l){let e=W(a);o=I(s[l],e,r)}return o}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(b(o.relativePath.startsWith(r),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(r.length));let l=$([r,o.relativePath]),i=n.concat(o);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(l,'".')),P(e.children,t,i,l)),(null!=e.path||e.index)&&t.push({path:l,score:M(l,e.index),routesMeta:i})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of T(e.path))a(e,t,r);else a(e,t)}),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let o=T(r.join("/")),l=[];return l.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&l.push(...o),l.map(t=>e.startsWith("/")&&""===t?"/":t)}var R=/^:[\w-]+$/,O=3,D=2,L=1,_=10,A=-2,z=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(z)&&(r+=A),t&&(r+=D),n.filter(e=>!z(e)).reduce((e,t)=>e+(R.test(t)?O:""===t?L:_),r)}function I(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",o=[];for(let l=0;l<r.length;++l){let e=r[l],i=l===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},c),d=e.route;if(!u&&i&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:$([s,u.pathname]),pathnameBase:Y($([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=$([s,u.pathnameBase]))}return o}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=U(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=l[n];return e[r]=a&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function W(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e){let t=q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=N(e):(r=c({},e),b(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?N(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:G(r),hash:X(a)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return i.pathname.endsWith("/")||!u&&!d||(i.pathname+="/"),i}var $=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var J=["POST","PUT","PATCH","DELETE"],Z=(new Set(J),["GET",...J]);new Set(Z),Symbol("ResetLoaderData");var ee=t.createContext(null);ee.displayName="DataRouter";var te=t.createContext(null);te.displayName="DataRouterState";var ne=t.createContext({isTransitioning:!1});ne.displayName="ViewTransition";var re=t.createContext(new Map);re.displayName="Fetchers";var ae=t.createContext(null);ae.displayName="Await";var se=t.createContext(null);se.displayName="Navigation";var oe=t.createContext(null);oe.displayName="Location";var le=t.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ie=t.createContext(null);ie.displayName="RouteError";function ce(){return null!=t.useContext(oe)}function ue(){return b(ce(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(oe).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function me(e){t.useContext(se).static||t.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=t.useContext(le);return e?function(){let{router:e}=ke("useNavigate"),n=Ce("useNavigate"),r=t.useRef(!1);me(()=>{r.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(r.current,de),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:n},a)))},[e,n]);return a}():function(){b(ce(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(ee),{basename:n,navigator:r}=t.useContext(se),{matches:a}=t.useContext(le),{pathname:s}=ue(),o=JSON.stringify(V(a)),l=t.useRef(!1);me(()=>{l.current=!0});let i=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(l.current,de),!l.current)return;if("number"===typeof t)return void r.go(t);let i=K(t,JSON.parse(o),s,"path"===a.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:$([n,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)},[n,r,o,s,e]);return i}()}var fe=t.createContext(null);function he(){let{matches:e}=t.useContext(le),n=e[e.length-1];return n?n.params:{}}function ge(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(le),{pathname:a}=ue(),s=JSON.stringify(V(r));return t.useMemo(()=>K(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function xe(e,n,r,a){b(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=t.useContext(se),{matches:o}=t.useContext(le),l=o[o.length-1],i=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let e=m&&m.path||"";Te(u,!m||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,f=ue();if(n){var h;let e="string"===typeof n?N(n):n;b("/"===d||(null===(h=e.pathname)||void 0===h?void 0:h.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=f;let g=p.pathname||"/",x=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=C(e,{pathname:x});y(m||null!=v,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),y(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=je(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},i,e.params),pathname:$([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:$([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,a);return n&&w?t.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},w):w}function be(){let e=Ee(),n=Q(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,l)}var ye=t.createElement(be,null),ve=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(le.Provider,{value:this.props.routeContext},t.createElement(ie.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:n,match:r,children:a}=e,s=t.useContext(ee);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(le.Provider,{value:n},a)}function je(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,i,c)=>{let u,d=!1,m=null,p=null;r&&(u=s&&i.route.id?s[i.route.id]:void 0,m=i.route.errorElement||ye,o&&(l<0&&0===c?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===c&&(d=!0,p=i.route.hydrateFallbackElement||null)));let f=n.concat(a.slice(0,c+1)),h=()=>{let n;return n=u?m:d?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(we,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?t.createElement(ve,{location:r.location,revalidation:r.revalidation,component:m,error:u,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}function Ne(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ke(e){let n=t.useContext(ee);return b(n,Ne(e)),n}function Se(e){let n=t.useContext(te);return b(n,Ne(e)),n}function Ce(e){let n=function(e){let n=t.useContext(le);return b(n,Ne(e)),n}(e),r=n.matches[n.matches.length-1];return b(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ee(){var e;let n=t.useContext(ie),r=Se("useRouteError"),a=Ce("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[a]}var Pe={};function Te(e,t,n){t||Pe[e]||(Pe[e]=!0,y(!1,n))}t.memo(function(e){let{routes:t,future:n,state:r}=e;return xe(t,void 0,r,n)});function Re(e){let{to:n,replace:r,state:a,relative:s}=e;b(ce(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=t.useContext(se);y(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=t.useContext(le),{pathname:i}=ue(),c=pe(),u=K(n,V(l),i,"path"===s),d=JSON.stringify(u);return t.useEffect(()=>{c(JSON.parse(d),{replace:r,state:a,relative:s})},[c,d,s,r,a]),null}function Oe(e){return function(e){let n=t.useContext(le).outlet;return n?t.createElement(fe.Provider,{value:e},n):n}(e.context)}function De(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Le(e){let{basename:n="/",children:r=null,location:a,navigationType:s="POP",navigator:o,static:l=!1}=e;b(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:i,navigator:o,static:l,future:{}}),[i,o,l]);"string"===typeof a&&(a=N(a));let{pathname:u="/",search:d="",hash:m="",state:p=null,key:f="default"}=a,h=t.useMemo(()=>{let e=B(u,i);return null==e?null:{location:{pathname:e,search:d,hash:m,state:p,key:f},navigationType:s}},[i,u,d,m,p,f,s]);return y(null!=h,'<Router basename="'.concat(i,'"> is not able to match the URL "').concat(u).concat(d).concat(m,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==h?null:t.createElement(se.Provider,{value:c},t.createElement(oe.Provider,{children:r,value:h}))}function _e(e){let{children:t,location:n}=e;return xe(Ae(t),n)}t.Component;function Ae(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let s=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,Ae(e.props.children,s));b(e.type===De,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ae(e.props.children,s)),r.push(o)}),r}var ze="get",Me="application/x-www-form-urlencoded";function Ie(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function We(e){return null==e||Ue.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function Be(e,t){let n,r,a,s,o;if(Ie(l=e)&&"form"===l.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?B(o,t):null,n=e.getAttribute("method")||ze,a=We(e.getAttribute("enctype"))||Me,s=new FormData(e)}else if(function(e){return Ie(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ie(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(r=l?B(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||ze,a=We(e.getAttribute("formenctype"))||We(o.getAttribute("enctype"))||Me,s=new FormData(o,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Ie(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ze,r=null,a=Me,o=e}var l;return s&&"text/plain"===a&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:o}}function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ve(e){return null!=e&&"string"===typeof e.page}function Ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function $e(e,t,n,r,a,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,l=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>o(e,t)||l(e,t)):"data"===s?t.filter((t,s)=>{let i=r.routes[t.route.id];if(!i||!i.hasLoader)return!1;if(o(t,s)||l(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ye(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function Ge(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Ve(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function Xe(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Qe=new Set([100,101,204,205]);function Je(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===B(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}t.Component;function Ze(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let a,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Q(n))return t.createElement(et,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(et,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function et(e){var n;let{title:r,renderScripts:a,isOutsideRemixApp:s,children:o}=e,{routeModules:l}=st();return null!==l.root&&void 0!==n&&n.Layout&&!s?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,a?t.createElement(mt,null):null)))}function tt(e,t){return"lazy"===e.mode&&!0===t}function nt(){let e=t.useContext(ee);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rt(){let e=t.useContext(te);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var at=t.createContext(void 0);function st(){let e=t.useContext(at);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function ot(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lt(e,t,n){if(n&&!dt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}function it(e){let{page:n}=e,r=a(e,d),{router:s}=nt(),o=t.useMemo(()=>C(s.routes,n,s.basename),[s.routes,n,s.basename]);return o?t.createElement(ut,c({page:n,matches:o},r)):null}function ct(e){let{manifest:n,routeModules:r}=st(),[a,s]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return Ge((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await qe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ke).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||s(e)}),()=>{t=!0}},[e,n,r]),a}function ut(e){let{page:n,matches:r}=e,s=a(e,m),o=ue(),{manifest:l,routeModules:i}=st(),{basename:u}=nt(),{loaderData:d,matches:p}=rt(),f=t.useMemo(()=>$e(n,r,p,l,o,"data"),[n,r,p,l,o]),h=t.useMemo(()=>$e(n,r,p,l,o,"assets"),[n,r,p,l,o]),g=t.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let a=l.routes[n.route.id];a&&a.hasLoader&&(!f.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=i[n.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let a=Je(n,u);return t&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[u,d,o,l,f,r,n,i]),x=t.useMemo(()=>Ye(h,l),[h,l]),b=ct(h);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},s))),x.map(e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},s))),b.map(e=>{let{key:n,link:r}=e;return t.createElement("link",c({key:n},r))}))}at.displayName="FrameworkContext";var dt=!1;function mt(e){let{manifest:n,serverHandoffString:r,isSpaMode:s,renderMeta:o,routeDiscovery:l,ssr:i}=st(),{router:d,static:m,staticContext:p}=nt(),{matches:f}=rt(),h=tt(l,i);o&&(o.didRenderScripts=!0);let g=lt(f,null,s);t.useEffect(()=>{0},[]);let x=t.useMemo(()=>{var s;let o=p?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",l=m?"".concat(null!==n.hmr&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(h?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(g.map((e,t)=>{let r="route".concat(t),a=n.routes[e.route.id];He(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:l,hydrateFallbackModule:i,module:c}=a,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...l?[{module:l,varName:"".concat(r,"_clientMiddleware")}]:[],...i?[{module:i,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(h?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=a(e,u),s=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),l=["/"];for(o.pop();o.length>0;)l.push("/".concat(o.join("/"))),o.pop();l.forEach(e=>{let n=C(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let i=[...s].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return c(c({},r),{},{routes:i,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(o),type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(l),type:"module",async:!0})))},[]),b=dt?[]:(n.entry.imports.concat(Ye(g,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let v="object"===typeof n.sri?n.sri:{};return dt?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,h?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:v[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:v[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:v[n],suppressHydrationWarning:!0})),x)}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var ft="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ft&&(window.__reactRouterVersion="7.6.3")}catch(ui){}function ht(e){let{basename:n,children:r,window:a}=e,s=t.useRef();null==s.current&&(s.current=x({window:a,v5Compat:!0}));let o=s.current,[l,i]=t.useState({action:o.action,location:o.location}),c=t.useCallback(e=>{t.startTransition(()=>i(e))},[i]);return t.useLayoutEffect(()=>o.listen(c),[o,c]),t.createElement(Le,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=t.forwardRef(function(e,n){let r,{onClick:s,discover:o="render",prefetch:l="none",relative:i,reloadDocument:u,replace:d,state:m,target:f,to:h,preventScrollReset:g,viewTransition:x}=e,v=a(e,p),{basename:w}=t.useContext(se),N="string"===typeof h&&gt.test(h),k=!1;if("string"===typeof h&&N&&(r=h,ft))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=B(t.pathname,w);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:k=!0}catch(ui){y(!1,'<Link to="'.concat(h,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=t.useContext(se),{hash:s,pathname:o,search:l}=ge(e,{relative:n}),i=o;return"/"!==r&&(i="/"===o?r:$([r,o])),a.createHref({pathname:i,search:l,hash:s})}(h,{relative:i}),[C,E,P]=function(e,n){let r=t.useContext(at),[a,s]=t.useState(!1),[o,l]=t.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:m}=n,p=t.useRef(null);t.useEffect(()=>{if("render"===e&&l(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{l(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(e)}}},[a]);let f=()=>{s(!0)},h=()=>{s(!1),l(!1)};return r?"intent"!==e?[o,p,{}]:[o,p,{onFocus:ot(i,f),onBlur:ot(c,h),onMouseEnter:ot(u,f),onMouseLeave:ot(d,h),onTouchStart:ot(m,f)}]:[!1,p,{}]}(l,v),T=function(e){let{target:n,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=pe(),c=ue(),u=ge(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:j(c)===j(u);i(e,{replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[c,i,u,r,a,n,e,s,o,l])}(h,{replace:d,state:m,target:f,preventScrollReset:g,relative:i,viewTransition:x});let R=t.createElement("a",c(c(c({},v),P),{},{href:r||S,onClick:k||u?s:function(e){s&&s(e),e.defaultPrevented||T(e)},ref:pt(n,E),target:f,"data-discover":N||"render"!==o?void 0:"true"}));return C&&!N?t.createElement(t.Fragment,null,R,t.createElement(it,{page:S})):R});xt.displayName="Link",t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:l=!1,style:i,to:u,viewTransition:d,children:m}=e,p=a(e,f),h=ge(u,{relative:p.relative}),g=ue(),x=t.useContext(te),{navigator:y,basename:v}=t.useContext(se),w=null!=x&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(ne);b(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=vt("useViewTransitionState"),s=ge(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=B(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=B(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=F(s.pathname,l)||null!=F(s.pathname,o)}(h)&&!0===d,j=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,N=g.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(N=N.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&v&&(k=B(k,v)||k);const S="/"!==j&&j.endsWith("/")?j.length-1:j.length;let C,E=N===j||!l&&N.startsWith(j)&&"/"===N.charAt(S),P=null!=k&&(k===j||!l&&k.startsWith(j)&&"/"===k.charAt(j.length)),T={isActive:E,isPending:P,isTransitioning:w},R=E?r:void 0;C="function"===typeof o?o(T):[o,E?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof i?i(T):i;return t.createElement(xt,c(c({},p),{},{"aria-current":R,className:C,ref:n,style:O,to:u,viewTransition:d}),"function"===typeof m?m(T):m)}).displayName="NavLink";var bt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:s,navigate:o,reloadDocument:l,replace:i,state:u,method:d=ze,action:m,onSubmit:p,relative:f,preventScrollReset:g,viewTransition:x}=e,y=a(e,h),v=Nt(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(se),a=t.useContext(le);b(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o=c({},ge(e||".",{relative:n})),l=ue();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:$([r,o.pathname]));return j(o)}(m,{relative:f}),N="get"===d.toLowerCase()?"get":"post",k="string"===typeof m&&gt.test(m);return t.createElement("form",c(c({ref:n,method:N,action:w,onSubmit:l?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;v(t||e.currentTarget,{fetcherKey:s,method:n,navigate:o,replace:i,state:u,relative:f,preventScrollReset:g,viewTransition:x})}},y),{},{"data-discover":k||"render"!==r?void 0:"true"}))});function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let n=t.useContext(ee);return b(n,yt(e)),n}bt.displayName="Form";var wt=0,jt=()=>"__".concat(String(++wt),"__");function Nt(){let{router:e}=vt("useSubmit"),{basename:n}=t.useContext(se),r=Ce("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:l,formData:i,body:c}=Be(t,n);if(!1===a.navigate){let t=a.fetcherKey||jt();await e.fetch(t,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:i,body:c,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:i,body:c,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,n,r])}function kt(e,t){return function(){return e.apply(t,arguments)}}const{toString:St}=Object.prototype,{getPrototypeOf:Ct}=Object,{iterator:Et,toStringTag:Pt}=Symbol,Tt=(Rt=Object.create(null),e=>{const t=St.call(e);return Rt[t]||(Rt[t]=t.slice(8,-1).toLowerCase())});var Rt;const Ot=e=>(e=e.toLowerCase(),t=>Tt(t)===e),Dt=e=>t=>typeof t===e,{isArray:Lt}=Array,_t=Dt("undefined");const At=Ot("ArrayBuffer");const zt=Dt("string"),Mt=Dt("function"),It=Dt("number"),Ft=e=>null!==e&&"object"===typeof e,Ut=e=>{if("object"!==Tt(e))return!1;const t=Ct(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Pt in e)&&!(Et in e)},Wt=Ot("Date"),Bt=Ot("File"),Ht=Ot("Blob"),qt=Ot("FileList"),Vt=Ot("URLSearchParams"),[Kt,$t,Yt,Gt]=["ReadableStream","Request","Response","Headers"].map(Ot);function Xt(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Lt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function Qt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Jt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Zt=e=>!_t(e)&&e!==Jt;const en=(tn="undefined"!==typeof Uint8Array&&Ct(Uint8Array),e=>tn&&e instanceof tn);var tn;const nn=Ot("HTMLFormElement"),rn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),an=Ot("RegExp"),sn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Xt(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const on=Ot("AsyncFunction"),ln=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Jt.addEventListener("message",e=>{let{source:t,data:a}=e;t===Jt&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Jt.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Mt(Jt.postMessage)),cn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Jt):"undefined"!==typeof process&&process.nextTick||ln,un={isArray:Lt,isArrayBuffer:At,isBuffer:function(e){return null!==e&&!_t(e)&&null!==e.constructor&&!_t(e.constructor)&&Mt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Mt(e.append)&&("formdata"===(t=Tt(e))||"object"===t&&Mt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&At(e.buffer),t},isString:zt,isNumber:It,isBoolean:e=>!0===e||!1===e,isObject:Ft,isPlainObject:Ut,isReadableStream:Kt,isRequest:$t,isResponse:Yt,isHeaders:Gt,isUndefined:_t,isDate:Wt,isFile:Bt,isBlob:Ht,isRegExp:an,isFunction:Mt,isStream:e=>Ft(e)&&Mt(e.pipe),isURLSearchParams:Vt,isTypedArray:en,isFileList:qt,forEach:Xt,merge:function e(){const{caseless:t}=Zt(this)&&this||{},n={},r=(r,a)=>{const s=t&&Qt(n,a)||a;Ut(n[s])&&Ut(r)?n[s]=e(n[s],r):Ut(r)?n[s]=e({},r):Lt(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Xt(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Xt(t,(t,r)=>{n&&Mt(t)?e[r]=kt(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,o;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],r&&!r(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==n&&Ct(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Tt,kindOfTest:Ot,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Lt(e))return e;let t=e.length;if(!It(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Et]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:nn,hasOwnProperty:rn,hasOwnProp:rn,reduceDescriptors:sn,freezeMethods:e=>{sn(e,(t,n)=>{if(Mt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Mt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Lt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Qt,global:Jt,isContextDefined:Zt,isSpecCompliantForm:function(e){return!!(e&&Mt(e.append)&&"FormData"===e[Pt]&&e[Et])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ft(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=Lt(e)?[]:{};return Xt(e,(e,t)=>{const s=n(e,r+1);!_t(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:on,isThenable:e=>e&&(Ft(e)||Mt(e))&&Mt(e.then)&&Mt(e.catch),setImmediate:ln,asap:cn,isIterable:e=>null!=e&&Mt(e[Et])};function dn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}un.inherits(dn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.status}}});const mn=dn.prototype,pn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{pn[e]={value:e}}),Object.defineProperties(dn,pn),Object.defineProperty(mn,"isAxiosError",{value:!0}),dn.from=(e,t,n,r,a,s)=>{const o=Object.create(mn);return un.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),dn.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const fn=dn;function hn(e){return un.isPlainObject(e)||un.isArray(e)}function gn(e){return un.endsWith(e,"[]")?e.slice(0,-2):e}function xn(e,t,n){return e?e.concat(t).map(function(e,t){return e=gn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const bn=un.toFlatObject(un,{},null,function(e){return/^is[A-Z]/.test(e)});const yn=function(e,t,n){if(!un.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=un.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!un.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&un.isSpecCompliantForm(t);if(!un.isFunction(a))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(un.isDate(e))return e.toISOString();if(un.isBoolean(e))return e.toString();if(!l&&un.isBlob(e))throw new fn("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(e)||un.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let l=e;if(e&&!a&&"object"===typeof e)if(un.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(un.isArray(e)&&function(e){return un.isArray(e)&&!e.some(hn)}(e)||(un.isFileList(e)||un.endsWith(n,"[]"))&&(l=un.toArray(e)))return n=gn(n),l.forEach(function(e,r){!un.isUndefined(e)&&null!==e&&t.append(!0===o?xn([n],r,s):null===o?n:n+"[]",i(e))}),!1;return!!hn(e)||(t.append(xn(a,n,s),i(e)),!1)}const u=[],d=Object.assign(bn,{defaultVisitor:c,convertValue:i,isVisitable:hn});if(!un.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!un.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),un.forEach(n,function(n,s){!0===(!(un.isUndefined(n)||null===n)&&a.call(t,n,un.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function vn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function wn(e,t){this._pairs=[],e&&yn(e,this,t)}const jn=wn.prototype;jn.append=function(e,t){this._pairs.push([e,t])},jn.toString=function(e){const t=e?function(t){return e.call(this,t,vn)}:vn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Nn=wn;function kn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Sn(e,t,n){if(!t)return e;const r=n&&n.encode||kn;un.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):un.isURLSearchParams(t)?t.toString():new Nn(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Cn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){un.forEach(this.handlers,function(t){null!==t&&e(t)})}},En={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Nn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Tn="undefined"!==typeof window&&"undefined"!==typeof document,Rn="object"===typeof navigator&&navigator||void 0,On=Tn&&(!Rn||["ReactNative","NativeScript","NS"].indexOf(Rn.product)<0),Dn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ln=Tn&&window.location.href||"http://localhost",_n=c(c({},e),Pn);const An=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),l=a>=e.length;if(s=!s&&un.isArray(r)?r.length:s,l)return un.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&un.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&un.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(un.isFormData(e)&&un.isFunction(e.entries)){const n={};return un.forEachEntry(e,(e,r)=>{t(function(e){return un.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const zn={transitional:En,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=un.isObject(e);a&&un.isHTMLForm(e)&&(e=new FormData(e));if(un.isFormData(e))return r?JSON.stringify(An(e)):e;if(un.isArrayBuffer(e)||un.isBuffer(e)||un.isStream(e)||un.isFile(e)||un.isBlob(e)||un.isReadableStream(e))return e;if(un.isArrayBufferView(e))return e.buffer;if(un.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return yn(e,new _n.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return _n.isNode&&un.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=un.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return yn(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(un.isString(e))try{return(t||JSON.parse)(e),un.trim(e)}catch(ui){if("SyntaxError"!==ui.name)throw ui}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||zn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(un.isResponse(e)||un.isReadableStream(e))return e;if(e&&un.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(ui){if(n){if("SyntaxError"===ui.name)throw fn.from(ui,fn.ERR_BAD_RESPONSE,this,null,this.response);throw ui}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_n.classes.FormData,Blob:_n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],e=>{zn.headers[e]={}});const Mn=zn,In=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fn=Symbol("internals");function Un(e){return e&&String(e).trim().toLowerCase()}function Wn(e){return!1===e||null==e?e:un.isArray(e)?e.map(Wn):String(e)}function Bn(e,t,n,r,a){return un.isFunction(r)?r.call(this,t,n):(a&&(t=n),un.isString(t)?un.isString(r)?-1!==t.indexOf(r):un.isRegExp(r)?r.test(t):void 0:void 0)}class Hn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Un(t);if(!a)throw new Error("header name must be a non-empty string");const s=un.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Wn(e))}const s=(e,t)=>un.forEach(e,(e,n)=>a(e,n,t));if(un.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(un.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&In[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(un.isObject(e)&&un.isIterable(e)){let n,r,a={};for(const t of e){if(!un.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?un.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=Un(e)){const n=un.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(un.isFunction(t))return t.call(this,e,n);if(un.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Un(e)){const n=un.findKey(this,e);return!(!n||void 0===this[n]||t&&!Bn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Un(e)){const a=un.findKey(n,e);!a||t&&!Bn(0,n[a],a,t)||(delete n[a],r=!0)}}return un.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Bn(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return un.forEach(this,(r,a)=>{const s=un.findKey(n,a);if(s)return t[s]=Wn(r),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();o!==a&&delete t[a],t[o]=Wn(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return un.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&un.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Fn]=this[Fn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Un(e);t[r]||(!function(e,t){const n=un.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return un.isArray(e)?e.forEach(r):r(e),this}}Hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),un.reduceDescriptors(Hn.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),un.freezeMethods(Hn);const qn=Hn;function Vn(e,t){const n=this||Mn,r=t||n,a=qn.from(r.headers);let s=r.data;return un.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Kn(e){return!(!e||!e.__CANCEL__)}function $n(e,t,n){fn.call(this,null==e?"canceled":e,fn.ERR_CANCELED,t,n),this.name="CanceledError"}un.inherits($n,fn,{__CANCEL__:!0});const Yn=$n;function Gn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new fn("Request failed with status code "+n.status,[fn.ERR_BAD_REQUEST,fn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Xn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,o=0;return t=void 0!==t?t:1e3,function(l){const i=Date.now(),c=r[o];a||(a=i),n[s]=l,r[s]=i;let u=o,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),i-a<t)return;const m=c&&i-c;return m?Math.round(1e3*d/m):void 0}};const Qn=function(e,t){let n,r,a=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];t>=s?o(i,e):(n=i,r||(r=setTimeout(()=>{r=null,o(n)},s-t)))},()=>n&&o(n)]},Jn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Xn(50,250);return Qn(n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,l=s-r,i=a(l);r=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:i||void 0,estimated:i&&o&&s<=o?(o-s)/i:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},Zn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},er=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return un.asap(()=>e(...n))},tr=_n.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,_n.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(_n.origin),_n.navigator&&/(msie|trident)/i.test(_n.navigator.userAgent)):()=>!0,nr=_n.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const o=[e+"="+encodeURIComponent(t)];un.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),un.isString(r)&&o.push("path="+r),un.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function rr(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ar=e=>e instanceof qn?c({},e):e;function sr(e,t){t=t||{};const n={};function r(e,t,n,r){return un.isPlainObject(e)&&un.isPlainObject(t)?un.merge.call({caseless:r},e,t):un.isPlainObject(t)?un.merge({},t):un.isArray(t)?t.slice():t}function a(e,t,n,a){return un.isUndefined(t)?un.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!un.isUndefined(t))return r(void 0,t)}function o(e,t){return un.isUndefined(t)?un.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const i={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(e,t,n)=>a(ar(e),ar(t),0,!0)};return un.forEach(Object.keys(Object.assign({},e,t)),function(r){const s=i[r]||a,o=s(e[r],t[r],r);un.isUndefined(o)&&s!==l||(n[r]=o)}),n}const or=e=>{const t=sr({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:i}=t;if(t.headers=l=qn.from(l),t.url=Sn(rr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),un.isFormData(r))if(_n.hasStandardBrowserEnv||_n.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(n=l.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(_n.hasStandardBrowserEnv&&(a&&un.isFunction(a)&&(a=a(t)),a||!1!==a&&tr(t.url))){const e=s&&o&&nr.read(o);e&&l.set(s,e)}return t},lr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=or(e);let a=r.data;const s=qn.from(r.headers).normalize();let o,l,i,c,u,{responseType:d,onUploadProgress:m,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let h=new XMLHttpRequest;function g(){if(!h)return;const r=qn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Gn(function(e){t(e),f()},function(e){n(e),f()},{data:d&&"text"!==d&&"json"!==d?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(n(new fn("Request aborted",fn.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new fn("Network Error",fn.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||En;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new fn(t,a.clarifyTimeoutError?fn.ETIMEDOUT:fn.ECONNABORTED,e,h)),h=null},void 0===a&&s.setContentType(null),"setRequestHeader"in h&&un.forEach(s.toJSON(),function(e,t){h.setRequestHeader(t,e)}),un.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),d&&"json"!==d&&(h.responseType=r.responseType),p&&([i,u]=Jn(p,!0),h.addEventListener("progress",i)),m&&h.upload&&([l,c]=Jn(m),h.upload.addEventListener("progress",l),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{h&&(n(!t||t.type?new Yn(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===_n.protocols.indexOf(x)?n(new fn("Unsupported protocol "+x+":",fn.ERR_BAD_REQUEST,e)):h.send(a||null)})},ir=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof fn?t:new Yn(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new fn("timeout ".concat(t," of ms exceeded"),fn.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>un.asap(o),l}};function cr(e,t){this.v=e,this.k=t}function ur(e){return function(){return new dr(e.apply(this,arguments))}}function dr(e){var t,n;function r(t,n){try{var s=e[t](n),o=s.value,l=o instanceof cr;Promise.resolve(l?o.v:o).then(function(n){if(l){var i="return"===t?"return":"next";if(!o.k||n.done)return r(i,n);n=e[i](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,o){var l={key:e,arg:a,resolve:s,reject:o,next:null};n?n=n.next=l:(t=n=l,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function mr(e){return new cr(e,0)}function pr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new cr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function fr(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new hr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function hr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return hr=function(e){this.s=e,this.n=e.next},hr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new hr(e)}dr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},dr.prototype.next=function(e){return this._invoke("next",e)},dr.prototype.throw=function(e){return this._invoke("throw",e)},dr.prototype.return=function(e){return this._invoke("return",e)};const gr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},xr=function(){var e=ur(function*(e,t){var n,r=!1,a=!1;try{for(var s,o=fr(br(e));r=!(s=yield mr(o.next())).done;r=!1){const e=s.value;yield*pr(fr(gr(e,t)))}}catch(l){a=!0,n=l}finally{try{r&&null!=o.return&&(yield mr(o.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),br=function(){var e=ur(function*(e){if(e[Symbol.asyncIterator])return void(yield*pr(fr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield mr(t.read());if(e)break;yield n}}finally{yield mr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),yr=(e,t,n,r)=>{const a=xr(e,t);let s,o=0,l=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return l(),void e.close();let s=r.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},vr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,wr=vr&&"function"===typeof ReadableStream,jr=vr&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Nr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(ui){return!1}},kr=wr&&Nr(()=>{let e=!1;const t=new Request(_n.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Sr=wr&&Nr(()=>un.isReadableStream(new Response("").body)),Cr={stream:Sr&&(e=>e.body)};var Er;vr&&(Er=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Cr[e]&&(Cr[e]=un.isFunction(Er[e])?t=>t[e]():(t,n)=>{throw new fn("Response type '".concat(e,"' is not supported"),fn.ERR_NOT_SUPPORT,n)})}));const Pr=async(e,t)=>{const n=un.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(un.isBlob(e))return e.size;if(un.isSpecCompliantForm(e)){const t=new Request(_n.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return un.isArrayBufferView(e)||un.isArrayBuffer(e)?e.byteLength:(un.isURLSearchParams(e)&&(e+=""),un.isString(e)?(await jr(e)).byteLength:void 0)})(t):n},Tr=vr&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:i,responseType:u,headers:d,withCredentials:m="same-origin",fetchOptions:p}=or(e);u=u?(u+"").toLowerCase():"text";let f,h=ir([a,s&&s.toAbortSignal()],o);const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let x;try{if(i&&kr&&"get"!==n&&"head"!==n&&0!==(x=await Pr(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(un.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Zn(x,Jn(er(i)));r=yr(n.body,65536,e,t)}}un.isString(m)||(m=m?"include":"omit");const a="credentials"in Request.prototype;f=new Request(t,c(c({},p),{},{signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?m:void 0}));let s=await fetch(f,p);const o=Sr&&("stream"===u||"response"===u);if(Sr&&(l||o&&g)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=un.toFiniteNumber(s.headers.get("content-length")),[n,r]=l&&Zn(t,Jn(er(l),!0))||[];s=new Response(yr(s.body,65536,n,()=>{r&&r(),g&&g()}),e)}u=u||"text";let b=await Cr[un.findKey(Cr,u)||"text"](s,e);return!o&&g&&g(),await new Promise((t,n)=>{Gn(t,n,{data:b,headers:qn.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})})}catch(b){if(g&&g(),b&&"TypeError"===b.name&&/Load failed|fetch/i.test(b.message))throw Object.assign(new fn("Network Error",fn.ERR_NETWORK,e,f),{cause:b.cause||b});throw fn.from(b,b&&b.code,e,f)}}),Rr={http:null,xhr:lr,fetch:Tr};un.forEach(Rr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ui){}Object.defineProperty(e,"adapterName",{value:t})}});const Or=e=>"- ".concat(e),Dr=e=>un.isFunction(e)||null===e||!1===e,Lr=e=>{e=un.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!Dr(n)&&(r=Rr[(t=String(n)).toLowerCase()],void 0===r))throw new fn("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Or).join("\n"):" "+Or(e[0]):"as no adapter specified";throw new fn("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function _r(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yn(null,e)}function Ar(e){_r(e),e.headers=qn.from(e.headers),e.data=Vn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Lr(e.adapter||Mn.adapter)(e).then(function(t){return _r(e),t.data=Vn.call(e,e.transformResponse,t),t.headers=qn.from(t.headers),t},function(t){return Kn(t)||(_r(e),t&&t.response&&(t.response.data=Vn.call(e,e.transformResponse,t.response),t.response.headers=qn.from(t.response.headers))),Promise.reject(t)})}const zr="1.10.0",Mr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ir={};Mr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+zr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new fn(r(a," has been removed"+(t?" in "+t:"")),fn.ERR_DEPRECATED);return t&&!Ir[a]&&(Ir[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},Mr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Fr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new fn("options must be an object",fn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new fn("option "+s+" must be "+n,fn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new fn("Unknown option "+s,fn.ERR_BAD_OPTION)}},validators:Mr},Ur=Fr.validators;class Wr{constructor(e){this.defaults=e||{},this.interceptors={request:new Cn,response:new Cn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(ui){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=sr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&Fr.assertOptions(n,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),null!=r&&(un.isFunction(r)?t.paramsSerializer={serialize:r}:Fr.assertOptions(r,{encode:Ur.function,serialize:Ur.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Fr.assertOptions(t,{baseUrl:Ur.spelling("baseURL"),withXsrfToken:Ur.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&un.merge(a.common,a[t.method]);a&&un.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=qn.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let u,d=0;if(!l){const e=[Ar.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,i),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let m=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=Ar.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,u=i.length;d<u;)c=c.then(i[d++],i[d++]);return c}getUri(e){return Sn(rr((e=sr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}un.forEach(["delete","get","head","options"],function(e){Wr.prototype[e]=function(t,n){return this.request(sr(n||{},{method:e,url:t,data:(n||{}).data}))}}),un.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(sr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Wr.prototype[e]=t(),Wr.prototype[e+"Form"]=t(!0)});const Br=Wr;class Hr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Yn(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Hr(function(t){e=t}),cancel:e}}}const qr=Hr;const Vr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vr).forEach(e=>{let[t,n]=e;Vr[n]=t});const Kr=Vr;const $r=function e(t){const n=new Br(t),r=kt(Br.prototype.request,n);return un.extend(r,Br.prototype,n,{allOwnKeys:!0}),un.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(sr(t,n))},r}(Mn);$r.Axios=Br,$r.CanceledError=Yn,$r.CancelToken=qr,$r.isCancel=Kn,$r.VERSION=zr,$r.toFormData=yn,$r.AxiosError=fn,$r.Cancel=$r.CanceledError,$r.all=function(e){return Promise.all(e)},$r.spread=function(e){return function(t){return e.apply(null,t)}},$r.isAxiosError=function(e){return un.isObject(e)&&!0===e.isAxiosError},$r.mergeConfig=sr,$r.AxiosHeaders=qn,$r.formToJSON=e=>An(un.isHTMLForm(e)?new FormData(e):e),$r.getAdapter=Lr,$r.HttpStatusCode=Kr,$r.default=$r;const Yr=$r;var Gr=n(579);const Xr=(0,t.createContext)(null),Qr=()=>(0,t.useContext)(Xr),Jr=e=>{let{children:n}=e;const[r,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(!0),l=(0,t.useCallback)(async()=>{o(!0);try{const e=await Yr.get("https://backend.svnikolaturs.mk/api/auth/me",{withCredentials:!0});200===e.status?a(e.data):a(null)}catch(e){console.error("User not logged in:",e),a(null)}finally{o(!1)}},[]);(0,t.useEffect)(()=>{l()},[l]);const i={user:r,setUser:a,loading:s,login:async(e,t)=>{const n=await Yr.post("https://backend.svnikolaturs.mk/api/auth/login",{email:e,password:t},{withCredentials:!0});return await l(),n},logout:async()=>{a(null)},completeMicrosoftLogin:async e=>{const t=await Yr.post("https://backend.svnikolaturs.mk/api/auth/microsoft/complete",{mscode:e},{withCredentials:!0});return await l(),t},checkUserLoggedIn:l};return(0,Gr.jsx)(Xr.Provider,{value:i,children:!s&&n})},Zr=()=>(0,Gr.jsxs)("svg",{width:"21",height:"21",viewBox:"0 0 21 21",children:[(0,Gr.jsx)("title",{children:"MS-SymbolLockup"}),(0,Gr.jsx)("rect",{x:"1",y:"1",width:"9.5",height:"9.5",fill:"#f25022"}),(0,Gr.jsx)("rect",{x:"1",y:"11.5",width:"9.5",height:"9.5",fill:"#00a4ef"}),(0,Gr.jsx)("rect",{x:"11.5",y:"1",width:"9.5",height:"9.5",fill:"#7fba00"}),(0,Gr.jsx)("rect",{x:"11.5",y:"11.5",width:"9.5",height:"9.5",fill:"#ffb900"})]}),ea={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,ta=()=>{const{setUser:e}=Qr(),n=pe(),r=ue(),[a,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),[i,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[f,h]=(0,t.useState)("");(0,t.useEffect)(()=>{var e;null!==(e=r.state)&&void 0!==e&&e.message&&(c(r.state.message),n(r.pathname,{replace:!0}))},[r.state,n,r.pathname]);return(0,Gr.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center",children:(0,Gr.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-sm",children:[(0,Gr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:a?"Create Account":"Welcome Back"}),(0,Gr.jsxs)("button",{onClick:()=>{window.location.href="".concat(ea,"/api/auth/microsoft/login")},className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,Gr.jsx)(Zr,{}),(0,Gr.jsx)("span",{className:"ml-3",children:"Sign in with Microsoft"})]}),(0,Gr.jsxs)("div",{className:"relative my-4",children:[(0,Gr.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Gr.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Gr.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Gr.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,Gr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l("");const r="".concat(ea,a?"/api/auth/register":"/api/auth/login"),o=a?{companyName:f,email:u,password:m}:{email:u,password:m};try{const t=await Yr.post(r,o,{withCredentials:!0});a?(alert("Registration successful! Please log in."),s(!1),d(""),p(""),h("")):(e(t.data),n("/dashboard"))}catch(g){var i,c;l((null===(i=g.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.message)||"An unexpected error occurred.")}},children:[o&&(0,Gr.jsx)("p",{className:"text-red-500 text-sm mb-4 text-center",children:o}),i&&(0,Gr.jsx)("p",{className:"text-green-500 text-sm mb-4 text-center",children:i}),a&&(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"companyName",children:"Company Name"}),(0,Gr.jsx)("input",{id:"companyName",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",value:f,onChange:e=>h(e.target.value),required:!0})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,Gr.jsx)("input",{id:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"email",value:u,onChange:e=>d(e.target.value),required:!0})]}),(0,Gr.jsxs)("div",{className:"mb-6",children:[(0,Gr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,Gr.jsx)("input",{id:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",type:"password",value:m,onChange:e=>p(e.target.value),required:!0})]}),(0,Gr.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",type:"submit",children:a?"Register":"Sign In"})]}),(0,Gr.jsx)("p",{className:"text-center text-gray-500 text-xs mt-4",children:(0,Gr.jsx)("button",{onClick:()=>s(!a),className:"font-semibold text-blue-500 hover:text-blue-800 bg-transparent p-0",children:a?"Already have an account? Login":"Don't have an account? Register"})})]})})},na={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,ra=()=>{const{setUser:e}=Qr(),n=pe(),r=ue(),[a,s]=(0,t.useState)(null);return(0,t.useEffect)(()=>{const t=new URLSearchParams(r.search).get("mscode");t?(async t=>{try{const r=(await Yr.post("".concat(na,"/api/auth/microsoft/complete"),{mscode:t},{withCredentials:!0})).data;e(r),r&&r.companyId?n("/dashboard"):n("/create-company")}catch(o){var r,a;const e=(null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"An error occurred during login.";s(e),setTimeout(()=>n("/login"),3e3)}})(t):(s("Invalid login attempt. Redirecting..."),setTimeout(()=>n("/login"),2e3))},[]),a?(0,Gr.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,Gr.jsx)("h2",{children:"Login Failed"}),(0,Gr.jsx)("p",{style:{color:"red"},children:a})]}):(0,Gr.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,Gr.jsx)("h2",{children:"Finalizing login..."})})};var aa=n(950);const sa="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function oa(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function la(e){return"nodeType"in e}function ia(e){var t,n;return e?oa(e)?e:la(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function ca(e){const{Document:t}=ia(e);return e instanceof t}function ua(e){return!oa(e)&&e instanceof ia(e).HTMLElement}function da(e){return e instanceof ia(e).SVGElement}function ma(e){return e?oa(e)?e.document:la(e)?ca(e)?e:ua(e)||da(e)?e.ownerDocument:document:document:document}const pa=sa?t.useLayoutEffect:t.useEffect;function fa(e){const n=(0,t.useRef)(e);return pa(()=>{n.current=e}),(0,t.useCallback)(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}function ha(e,n){void 0===n&&(n=[e]);const r=(0,t.useRef)(e);return pa(()=>{r.current!==e&&(r.current=e)},n),r}function ga(e,n){const r=(0,t.useRef)();return(0,t.useMemo)(()=>{const t=e(r.current);return r.current=t,t},[...n])}function xa(e){const n=fa(e),r=(0,t.useRef)(null),a=(0,t.useCallback)(e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e},[]);return[r,a]}function ba(e){const n=(0,t.useRef)();return(0,t.useEffect)(()=>{n.current=e},[e]),n.current}let ya={};function va(e,n){return(0,t.useMemo)(()=>{if(n)return n;const t=null==ya[e]?0:ya[e]+1;return ya[e]=t,e+"-"+t},[e,n])}function wa(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[a,s]of r){const n=t[a];null!=n&&(t[a]=n+e*s)}return t},c({},t))}}const ja=wa(1),Na=wa(-1);function ka(e){if(!e)return!1;const{KeyboardEvent:t}=ia(e.target);return t&&e instanceof t}function Sa(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=ia(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Ca=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ca.Translate.toString(e),Ca.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Ea="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Pa(e){return e.matches(Ea)?e:e.querySelector(Ea)}const Ta={display:"none"};function Ra(e){let{id:n,value:r}=e;return t.createElement("div",{id:n,style:Ta},r)}function Oa(e){let{id:n,announcement:r,ariaLiveType:a="assertive"}=e;return t.createElement("div",{id:n,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":a,"aria-atomic":!0},r)}const Da=["transform"],La=["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"],_a=(0,t.createContext)(null);const Aa={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},za={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ma(e){let{announcements:n=za,container:r,hiddenTextDescribedById:a,screenReaderInstructions:s=Aa}=e;const{announce:o,announcement:l}=function(){const[e,n]=(0,t.useState)("");return{announce:(0,t.useCallback)(e=>{null!=e&&n(e)},[]),announcement:e}}(),i=va("DndLiveRegion"),[c,u]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{u(!0)},[]),function(e){const n=(0,t.useContext)(_a);(0,t.useEffect)(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}((0,t.useMemo)(()=>({onDragStart(e){let{active:t}=e;o(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&o(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;o(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;o(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;o(n.onDragCancel({active:t,over:r}))}}),[o,n])),!c)return null;const d=t.createElement(t.Fragment,null,t.createElement(Ra,{id:a,value:s.draggable}),t.createElement(Oa,{id:i,announcement:l}));return r?(0,aa.createPortal)(d,r):d}var Ia;function Fa(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Ia||(Ia={}));const Ua=Object.freeze({x:0,y:0});function Wa(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ba(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ha(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function qa(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Va=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=qa(t,t.left,t.top),s=[];for(const o of r){const{id:e}=o,t=n.get(e);if(t){const n=Wa(qa(t),a);s.push({id:e,data:{droppableContainer:o,value:n}})}}return s.sort(Ba)};function Ka(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=a-r,l=s-n;if(r<a&&n<s){const n=t.width*t.height,r=e.width*e.height,a=o*l;return Number((a/(n+r-a)).toFixed(4))}return 0}const $a=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const s of r){const{id:e}=s,r=n.get(e);if(r){const n=Ka(r,t);n>0&&a.push({id:e,data:{droppableContainer:s,value:n}})}}return a.sort(Ha)};function Ya(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ua}function Ga(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>c(c({},t),{},{top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),c({},t))}}const Xa=Ga(1);function Qa(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const Ja={ignoreTransform:!1};function Za(e,t){void 0===t&&(t=Ja);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=ia(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=Qa(t);if(!r)return e;const{scaleX:a,scaleY:s,x:o,y:l}=r,i=e.left-o-(1-a)*parseFloat(n),c=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,d=s?e.height/s:e.height;return{width:u,height:d,top:c,right:i+u,bottom:c+d,left:i}}(n,t,r))}const{top:r,left:a,width:s,height:o,bottom:l,right:i}=n;return{top:r,left:a,width:s,height:o,bottom:l,right:i}}function es(e){return Za(e,{ignoreTransform:!0})}function ts(e,t){const n=[];return e?function r(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if(ca(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!ua(a)||da(a))return n;if(n.includes(a))return n;const s=ia(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=ia(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"===typeof r&&n.test(r)})}(a,s)&&n.push(a),function(e,t){return void 0===t&&(t=ia(e).getComputedStyle(e)),"fixed"===t.position}(a,s)?n:r(a.parentNode)}(e):n}function ns(e){const[t]=ts(e,1);return null!=t?t:null}function rs(e){return sa&&e?oa(e)?e:la(e)?ca(e)||e===ma(e).scrollingElement?window:ua(e)?e:null:null:null}function as(e){return oa(e)?e.scrollX:e.scrollLeft}function ss(e){return oa(e)?e.scrollY:e.scrollTop}function os(e){return{x:as(e),y:ss(e)}}var ls;function is(e){return!(!sa||!e)&&e===document.scrollingElement}function cs(e){const t={x:0,y:0},n=is(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(ls||(ls={}));const us={x:.2,y:.2};function ds(e,t,n,r,a){let{top:s,left:o,right:l,bottom:i}=n;void 0===r&&(r=10),void 0===a&&(a=us);const{isTop:c,isBottom:u,isLeft:d,isRight:m}=cs(e),p={x:0,y:0},f={x:0,y:0},h=t.height*a.y,g=t.width*a.x;return!c&&s<=t.top+h?(p.y=ls.Backward,f.y=r*Math.abs((t.top+h-s)/h)):!u&&i>=t.bottom-h&&(p.y=ls.Forward,f.y=r*Math.abs((t.bottom-h-i)/h)),!m&&l>=t.right-g?(p.x=ls.Forward,f.x=r*Math.abs((t.right-g-l)/g)):!d&&o<=t.left+g&&(p.x=ls.Backward,f.x=r*Math.abs((t.left+g-o)/g)),{direction:p,speed:f}}function ms(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function ps(e){return e.reduce((e,t)=>ja(e,os(t)),Ua)}function fs(e,t){if(void 0===t&&(t=Za),!e)return;const{top:n,left:r,bottom:a,right:s}=t(e);ns(e)&&(a<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const hs=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+as(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+ss(t),0)}]];class gs{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=ts(t),r=ps(n);this.rect=c({},e),this.width=e.width,this.height=e.height;for(const[a,s,o]of hs)for(const e of s)Object.defineProperty(this,e,{get:()=>{const t=o(n),s=r[a]-t;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class xs{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function bs(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var ys,vs;function ws(e){e.preventDefault()}function js(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(ys||(ys={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(vs||(vs={}));const Ns={start:[vs.Space,vs.Enter],cancel:[vs.Esc],end:[vs.Space,vs.Enter,vs.Tab]},ks=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case vs.Right:return c(c({},n),{},{x:n.x+25});case vs.Left:return c(c({},n),{},{x:n.x-25});case vs.Down:return c(c({},n),{},{y:n.y+25});case vs.Up:return c(c({},n),{},{y:n.y-25})}};class Ss{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new xs(ma(t)),this.windowListeners=new xs(ia(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ys.Resize,this.handleCancel),this.windowListeners.add(ys.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ys.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&fs(n),t(Ua)}handleKeyDown(e){if(ka(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:a=Ns,coordinateGetter:s=ks,scrollBehavior:o="smooth"}=r,{code:l}=e;if(a.end.includes(l))return void this.handleEnd(e);if(a.cancel.includes(l))return void this.handleCancel(e);const{collisionRect:i}=n.current,c=i?{x:i.left,y:i.top}:Ua;this.referenceCoordinates||(this.referenceCoordinates=c);const u=s(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=Na(u,c),r={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:s,isRight:l,isLeft:i,isBottom:c,maxScroll:d,minScroll:m}=cs(n),p=ms(n),f={x:Math.min(a===vs.Right?p.right-p.width/2:p.right,Math.max(a===vs.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(a===vs.Down?p.bottom-p.height/2:p.bottom,Math.max(a===vs.Down?p.top:p.top+p.height/2,u.y))},h=a===vs.Right&&!l||a===vs.Left&&!i,g=a===vs.Down&&!c||a===vs.Up&&!s;if(h&&f.x!==u.x){const e=n.scrollLeft+t.x,s=a===vs.Right&&e<=d.x||a===vs.Left&&e>=m.x;if(s&&!t.y)return void n.scrollTo({left:e,behavior:o});r.x=s?n.scrollLeft-e:a===vs.Right?n.scrollLeft-d.x:n.scrollLeft-m.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(g&&f.y!==u.y){const e=n.scrollTop+t.y,s=a===vs.Down&&e<=d.y||a===vs.Up&&e>=m.y;if(s&&!t.x)return void n.scrollTo({top:e,behavior:o});r.y=s?n.scrollTop-e:a===vs.Down?n.scrollTop-d.y:n.scrollTop-m.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,ja(Na(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Cs(e){return Boolean(e&&"distance"in e)}function Es(e){return Boolean(e&&"delay"in e)}Ss.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Ns,onActivation:a}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class Ps{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=ia(e);return e instanceof t?e:ma(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:s}=a;this.props=e,this.events=t,this.document=ma(s),this.documentListeners=new xs(this.document),this.listeners=new xs(n),this.windowListeners=new xs(ia(s)),this.initialCoordinates=null!=(r=Sa(a))?r:Ua,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ys.Resize,this.handleCancel),this.windowListeners.add(ys.DragStart,ws),this.windowListeners.add(ys.VisibilityChange,this.handleCancel),this.windowListeners.add(ys.ContextMenu,ws),this.documentListeners.add(ys.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Es(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Cs(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ys.Click,js,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ys.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:a}=this,{onMove:s,options:{activationConstraint:o}}=a;if(!r)return;const l=null!=(t=Sa(e))?t:Ua,i=Na(r,l);if(!n&&o){if(Cs(o)){if(null!=o.tolerance&&bs(i,o.tolerance))return this.handleCancel();if(bs(i,o.distance))return this.handleStart()}return Es(o)&&bs(i,o.tolerance)?this.handleCancel():void this.handlePending(o,i)}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===vs.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Ts={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Rs extends Ps{constructor(e){const{event:t}=e,n=ma(t.target);super(e,Ts,n)}}Rs.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Os={move:{name:"mousemove"},end:{name:"mouseup"}};var Ds;!function(e){e[e.RightClick=2]="RightClick"}(Ds||(Ds={}));(class extends Ps{constructor(e){super(e,Os,ma(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Ds.RightClick&&(null==r||r({event:n}),!0)}}];const Ls={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var _s,As;function zs(e){let{acceleration:n,activator:r=_s.Pointer,canScroll:a,draggingRect:s,enabled:o,interval:l=5,order:i=As.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:m,threshold:p}=e;const f=function(e){let{delta:t,disabled:n}=e;const r=ba(t);return ga(e=>{if(n||!r||!e)return Ms;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ls.Backward]:e.x[ls.Backward]||-1===a.x,[ls.Forward]:e.x[ls.Forward]||1===a.x},y:{[ls.Backward]:e.y[ls.Backward]||-1===a.y,[ls.Forward]:e.y[ls.Forward]||1===a.y}}},[n,t,r])}({delta:m,disabled:!o}),[h,g]=function(){const e=(0,t.useRef)(null);return[(0,t.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,t.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),x=(0,t.useRef)({x:0,y:0}),b=(0,t.useRef)({x:0,y:0}),y=(0,t.useMemo)(()=>{switch(r){case _s.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case _s.DraggableRect:return s}},[r,s,c]),v=(0,t.useRef)(null),w=(0,t.useCallback)(()=>{const e=v.current;if(!e)return;const t=x.current.x*b.current.x,n=x.current.y*b.current.y;e.scrollBy(t,n)},[]),j=(0,t.useMemo)(()=>i===As.TreeOrder?[...u].reverse():u,[i,u]);(0,t.useEffect)(()=>{if(o&&u.length&&y){for(const e of j){if(!1===(null==a?void 0:a(e)))continue;const t=u.indexOf(e),r=d[t];if(!r)continue;const{direction:s,speed:o}=ds(e,r,y,n,p);for(const e of["x","y"])f[e][s[e]]||(o[e]=0,s[e]=0);if(o.x>0||o.y>0)return g(),v.current=e,h(w,l),x.current=o,void(b.current=s)}x.current={x:0,y:0},b.current={x:0,y:0},g()}else g()},[n,w,a,g,o,l,JSON.stringify(y),JSON.stringify(f),h,u,j,d,JSON.stringify(p)])}(class extends Ps{constructor(e){super(e,Ls)}static setup(){return window.addEventListener(Ls.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ls.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return!(a.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(_s||(_s={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(As||(As={}));const Ms={x:{[ls.Backward]:!1,[ls.Forward]:!1},y:{[ls.Backward]:!1,[ls.Forward]:!1}};var Is,Fs;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Is||(Is={})),function(e){e.Optimized="optimized"}(Fs||(Fs={}));const Us=new Map;function Ws(e,t){return ga(n=>e?n||("function"===typeof t?t(e):e):null,[t,e])}function Bs(e){let{callback:n,disabled:r}=e;const a=fa(n),s=(0,t.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(a)},[r]);return(0,t.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}function Hs(e){return new gs(Za(e),e)}function qs(e,n,r){void 0===n&&(n=Hs);const[a,s]=(0,t.useState)(null);function o(){s(t=>{if(!e)return null;var a;if(!1===e.isConnected)return null!=(a=null!=t?t:r)?a:null;const s=n(e);return JSON.stringify(t)===JSON.stringify(s)?t:s})}const l=function(e){let{callback:n,disabled:r}=e;const a=fa(n),s=(0,t.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.MutationObserver)return;const{MutationObserver:e}=window;return new e(a)},[a,r]);return(0,t.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),i=Bs({callback:o});return pa(()=>{o(),e?(null==i||i.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==l||l.disconnect())},[e]),a}const Vs=[];function Ks(e,n){void 0===n&&(n=[]);const r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r.current=null},n),(0,t.useEffect)(()=>{const t=e!==Ua;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?Na(e,r.current):Ua}function $s(e){return(0,t.useMemo)(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const Ys=[];function Gs(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ua(t)?t:e}const Xs=[{sensor:Rs,options:{}},{sensor:Ss,options:{}}],Qs={current:{}},Js={draggable:{measure:es},droppable:{measure:es,strategy:Is.WhileDragging,frequency:Fs.Optimized},dragOverlay:{measure:Za}};class Zs extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const eo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Fa},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Js,measureDroppableContainers:Fa,windowRect:null,measuringScheduled:!1},to={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Fa,draggableNodes:new Map,over:null,measureDroppableContainers:Fa},no=(0,t.createContext)(to),ro=(0,t.createContext)(eo);function ao(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zs}}}function so(e,t){switch(t.type){case Ia.DragStart:return c(c({},e),{},{draggable:c(c({},e.draggable),{},{initialCoordinates:t.initialCoordinates,active:t.active})});case Ia.DragMove:return null==e.draggable.active?e:c(c({},e),{},{draggable:c(c({},e.draggable),{},{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case Ia.DragEnd:case Ia.DragCancel:return c(c({},e),{},{draggable:c(c({},e.draggable),{},{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case Ia.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Zs(e.droppable.containers);return a.set(r,n),c(c({},e),{},{droppable:c(c({},e.droppable),{},{containers:a})})}case Ia.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new Zs(e.droppable.containers);return o.set(n,c(c({},s),{},{disabled:a})),c(c({},e),{},{droppable:c(c({},e.droppable),{},{containers:o})})}case Ia.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const s=new Zs(e.droppable.containers);return s.delete(n),c(c({},e),{},{droppable:c(c({},e.droppable),{},{containers:s})})}default:return e}}function oo(e){let{disabled:n}=e;const{active:r,activatorEvent:a,draggableNodes:s}=(0,t.useContext)(no),o=ba(a),l=ba(null==r?void 0:r.id);return(0,t.useEffect)(()=>{if(!n&&!a&&o&&null!=l){if(!ka(o))return;if(document.activeElement===o.target)return;const e=s.get(l);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Pa(e);if(t){t.focus();break}}})}},[a,n,s,l,o]),null}function lo(e,t){let{transform:n}=t,r=a(t,Da);return null!=e&&e.length?e.reduce((e,t)=>t(c({transform:e},r)),n):n}const io=(0,t.createContext)(c(c({},Ua),{},{scaleX:1,scaleY:1}));var co;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(co||(co={}));const uo=(0,t.memo)(function(e){var n,r,s,o;let{id:l,accessibility:i,autoScroll:u=!0,children:d,sensors:m=Xs,collisionDetection:p=$a,measuring:f,modifiers:h}=e,g=a(e,La);const x=(0,t.useReducer)(so,void 0,ao),[b,y]=x,[v,w]=function(){const[e]=(0,t.useState)(()=>new Set),n=(0,t.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,t.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),n]}(),[j,N]=(0,t.useState)(co.Uninitialized),k=j===co.Initialized,{draggable:{active:S,nodes:C,translate:E},droppable:{containers:P}}=b,T=null!=S?C.get(S):null,R=(0,t.useRef)({initial:null,translated:null}),O=(0,t.useMemo)(()=>{var e;return null!=S?{id:S,data:null!=(e=null==T?void 0:T.data)?e:Qs,rect:R}:null},[S,T]),D=(0,t.useRef)(null),[L,_]=(0,t.useState)(null),[A,z]=(0,t.useState)(null),M=ha(g,Object.values(g)),I=va("DndDescribedBy",l),F=(0,t.useMemo)(()=>P.getEnabled(),[P]),U=(W=f,(0,t.useMemo)(()=>({draggable:c(c({},Js.draggable),null==W?void 0:W.draggable),droppable:c(c({},Js.droppable),null==W?void 0:W.droppable),dragOverlay:c(c({},Js.dragOverlay),null==W?void 0:W.dragOverlay)}),[null==W?void 0:W.draggable,null==W?void 0:W.droppable,null==W?void 0:W.dragOverlay]));var W;const{droppableRects:B,measureDroppableContainers:H,measuringScheduled:q}=function(e,n){let{dragging:r,dependencies:a,config:s}=n;const[o,l]=(0,t.useState)(null),{frequency:i,measure:c,strategy:u}=s,d=(0,t.useRef)(e),m=function(){switch(u){case Is.Always:return!1;case Is.BeforeDragging:return r;default:return!r}}(),p=ha(m),f=(0,t.useCallback)(function(e){void 0===e&&(e=[]),p.current||l(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[p]),h=(0,t.useRef)(null),g=ga(t=>{if(m&&!r)return Us;if(!t||t===Us||d.current!==e||null!=o){const t=new Map;for(let n of e){if(!n)continue;if(o&&o.length>0&&!o.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new gs(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,o,r,m,c]);return(0,t.useEffect)(()=>{d.current=e},[e]),(0,t.useEffect)(()=>{m||f()},[r,m]),(0,t.useEffect)(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),(0,t.useEffect)(()=>{m||"number"!==typeof i||null!==h.current||(h.current=setTimeout(()=>{f(),h.current=null},i))},[i,m,f,...a]),{droppableRects:g,measureDroppableContainers:f,measuringScheduled:null!=o}}(F,{dragging:k,dependencies:[E.x,E.y],config:U.droppable}),V=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return ga(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(C,S),K=(0,t.useMemo)(()=>A?Sa(A):null,[A]),$=function(){const e=!1===(null==L?void 0:L.autoScrollEnabled),t="object"===typeof u?!1===u.enabled:!1===u,n=k&&!e&&!t;if("object"===typeof u)return c(c({},u),{},{enabled:n});return{enabled:n}}(),Y=function(e,t){return Ws(e,t)}(V,U.draggable.measure);!function(e){let{activeNode:n,measure:r,initialRect:a,config:s=!0}=e;const o=(0,t.useRef)(!1),{x:l,y:i}="boolean"===typeof s?{x:s,y:s}:s;pa(()=>{if(!l&&!i||!n)return void(o.current=!1);if(o.current||!a)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=Ya(r(e),a);if(l||(t.x=0),i||(t.y=0),o.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=ns(e);n&&n.scrollBy({top:t.y,left:t.x})}},[n,l,i,a,r])}({activeNode:null!=S?C.get(S):null,config:$.layoutShiftCompensation,initialRect:Y,measure:U.draggable.measure});const G=qs(V,U.draggable.measure,Y),X=qs(V?V.parentElement:null),Q=(0,t.useRef)({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),J=P.getNodeFor(null==(n=Q.current.over)?void 0:n.id),Z=function(e){let{measure:n}=e;const[r,a]=(0,t.useState)(null),s=Bs({callback:(0,t.useCallback)(e=>{for(const{target:t}of e)if(ua(t)){a(e=>{const r=n(t);return e?c(c({},e),{},{width:r.width,height:r.height}):r});break}},[n])}),o=(0,t.useCallback)(e=>{const t=Gs(e);null==s||s.disconnect(),t&&(null==s||s.observe(t)),a(t?n(t):null)},[n,s]),[l,i]=xa(o);return(0,t.useMemo)(()=>({nodeRef:l,rect:r,setRef:i}),[r,l,i])}({measure:U.dragOverlay.measure}),ee=null!=(r=Z.nodeRef.current)?r:V,te=k?null!=(s=Z.rect)?s:G:null,ne=Boolean(Z.nodeRef.current&&Z.rect),re=Ya(ae=ne?null:G,Ws(ae));var ae;const se=$s(ee?ia(ee):null),oe=function(e){const n=(0,t.useRef)(e),r=ga(t=>e?t&&t!==Vs&&e&&n.current&&e.parentNode===n.current.parentNode?t:ts(e):Vs,[e]);return(0,t.useEffect)(()=>{n.current=e},[e]),r}(k?null!=J?J:V:null),le=function(e,n){void 0===n&&(n=Za);const[r]=e,a=$s(r?ia(r):null),[s,o]=(0,t.useState)(Ys);function l(){o(()=>e.length?e.map(e=>is(e)?a:new gs(n(e),e)):Ys)}const i=Bs({callback:l});return pa(()=>{null==i||i.disconnect(),l(),e.forEach(e=>null==i?void 0:i.observe(e))},[e]),s}(oe),ie=lo(h,{transform:{x:E.x-re.x,y:E.y-re.y,scaleX:1,scaleY:1},activatorEvent:A,active:O,activeNodeRect:G,containerNodeRect:X,draggingNodeRect:te,over:Q.current.over,overlayNodeRect:Z.rect,scrollableAncestors:oe,scrollableAncestorRects:le,windowRect:se}),ce=K?ja(K,E):null,ue=function(e){const[n,r]=(0,t.useState)(null),a=(0,t.useRef)(e),s=(0,t.useCallback)(e=>{const t=rs(e.target);t&&r(e=>e?(e.set(t,os(t)),new Map(e)):null)},[]);return(0,t.useEffect)(()=>{const t=a.current;if(e!==t){n(t);const o=e.map(e=>{const t=rs(e);return t?(t.addEventListener("scroll",s,{passive:!0}),[t,os(t)]):null}).filter(e=>null!=e);r(o.length?new Map(o):null),a.current=e}return()=>{n(e),n(t)};function n(e){e.forEach(e=>{const t=rs(e);null==t||t.removeEventListener("scroll",s)})}},[s,e]),(0,t.useMemo)(()=>e.length?n?Array.from(n.values()).reduce((e,t)=>ja(e,t),Ua):ps(e):Ua,[e,n])}(oe),de=Ks(ue),me=Ks(ue,[G]),pe=ja(ie,de),fe=te?Xa(te,ie):null,he=O&&fe?p({active:O,collisionRect:fe,droppableRects:B,droppableContainers:F,pointerCoordinates:ce}):null,ge=function(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}(he,"id"),[xe,be]=(0,t.useState)(null),ye=function(e,t,n){return c(c({},e),{},{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}(ne?ie:ja(ie,me),null!=(o=null==xe?void 0:xe.rect)?o:null,G),ve=(0,t.useRef)(null),we=(0,t.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==D.current)return;const a=C.get(D.current);if(!a)return;const s=e.nativeEvent,o=new n({active:D.current,activeNode:a,event:s,options:r,context:Q,onAbort(e){if(!C.get(e))return;const{onDragAbort:t}=M.current,n={id:e};null==t||t(n),v({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!C.get(e))return;const{onDragPending:a}=M.current,s={id:e,constraint:t,initialCoordinates:n,offset:r};null==a||a(s),v({type:"onDragPending",event:s})},onStart(e){const t=D.current;if(null==t)return;const n=C.get(t);if(!n)return;const{onDragStart:r}=M.current,a={activatorEvent:s,active:{id:t,data:n.data,rect:R}};(0,aa.unstable_batchedUpdates)(()=>{null==r||r(a),N(co.Initializing),y({type:Ia.DragStart,initialCoordinates:e,active:t}),v({type:"onDragStart",event:a}),_(ve.current),z(s)})},onMove(e){y({type:Ia.DragMove,coordinates:e})},onEnd:l(Ia.DragEnd),onCancel:l(Ia.DragCancel)});function l(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:a}=Q.current;let o=null;if(t&&a){const{cancelDrop:l}=M.current;if(o={activatorEvent:s,active:t,collisions:n,delta:a,over:r},e===Ia.DragEnd&&"function"===typeof l){await Promise.resolve(l(o))&&(e=Ia.DragCancel)}}D.current=null,(0,aa.unstable_batchedUpdates)(()=>{y({type:e}),N(co.Uninitialized),be(null),_(null),z(null),ve.current=null;const t=e===Ia.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=M.current[t];null==e||e(o),v({type:t,event:o})}})}}ve.current=o},[C]),je=(0,t.useCallback)((e,t)=>(n,r)=>{const a=n.nativeEvent,s=C.get(r);if(null!==D.current||!s||a.dndKit||a.defaultPrevented)return;const o={active:s};!0===e(n,t.options,o)&&(a.dndKit={capturedBy:t.sensor},D.current=r,we(n,t))},[C,we]),Ne=function(e,n){return(0,t.useMemo)(()=>e.reduce((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:n(e.handler,t)}))]},[]),[e,n])}(m,je);!function(e){(0,t.useEffect)(()=>{if(!sa)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(m),pa(()=>{G&&j===co.Initializing&&N(co.Initialized)},[G,j]),(0,t.useEffect)(()=>{const{onDragMove:e}=M.current,{active:t,activatorEvent:n,collisions:r,over:a}=Q.current;if(!t||!n)return;const s={active:t,activatorEvent:n,collisions:r,delta:{x:pe.x,y:pe.y},over:a};(0,aa.unstable_batchedUpdates)(()=>{null==e||e(s),v({type:"onDragMove",event:s})})},[pe.x,pe.y]),(0,t.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:a}=Q.current;if(!e||null==D.current||!t||!a)return;const{onDragOver:s}=M.current,o=r.get(ge),l=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,i={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:l};(0,aa.unstable_batchedUpdates)(()=>{be(l),null==s||s(i),v({type:"onDragOver",event:i})})},[ge]),pa(()=>{Q.current={activatorEvent:A,active:O,activeNode:V,collisionRect:fe,collisions:he,droppableRects:B,draggableNodes:C,draggingNode:ee,draggingNodeRect:te,droppableContainers:P,over:xe,scrollableAncestors:oe,scrollAdjustedTranslate:pe},R.current={initial:te,translated:fe}},[O,V,he,fe,C,ee,te,B,P,xe,oe,pe]),zs(c(c({},$),{},{delta:E,draggingRect:fe,pointerCoordinates:ce,scrollableAncestors:oe,scrollableAncestorRects:le}));const ke=(0,t.useMemo)(()=>({active:O,activeNode:V,activeNodeRect:G,activatorEvent:A,collisions:he,containerNodeRect:X,dragOverlay:Z,draggableNodes:C,droppableContainers:P,droppableRects:B,over:xe,measureDroppableContainers:H,scrollableAncestors:oe,scrollableAncestorRects:le,measuringConfiguration:U,measuringScheduled:q,windowRect:se}),[O,V,G,A,he,X,Z,C,P,B,xe,H,oe,le,U,q,se]),Se=(0,t.useMemo)(()=>({activatorEvent:A,activators:Ne,active:O,activeNodeRect:G,ariaDescribedById:{draggable:I},dispatch:y,draggableNodes:C,over:xe,measureDroppableContainers:H}),[A,Ne,O,G,y,I,C,xe,H]);return t.createElement(_a.Provider,{value:w},t.createElement(no.Provider,{value:Se},t.createElement(ro.Provider,{value:ke},t.createElement(io.Provider,{value:ye},d)),t.createElement(oo,{disabled:!1===(null==i?void 0:i.restoreFocus)})),t.createElement(Ma,c(c({},i),{},{hiddenTextDescribedById:I})))}),mo=(0,t.createContext)(null),po="button";function fo(e){let{id:n,data:r,disabled:a=!1,attributes:s}=e;const o=va("Draggable"),{activators:l,activatorEvent:i,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:m,over:p}=(0,t.useContext)(no),{role:f=po,roleDescription:h="draggable",tabIndex:g=0}=null!=s?s:{},x=(null==c?void 0:c.id)===n,b=(0,t.useContext)(x?io:mo),[y,v]=xa(),[w,j]=xa(),N=function(e,n){return(0,t.useMemo)(()=>e.reduce((e,t)=>{let{eventName:r,handler:a}=t;return e[r]=e=>{a(e,n)},e},{}),[e,n])}(l,n),k=ha(r);pa(()=>(m.set(n,{id:n,key:o,node:y,activatorNode:w,data:k}),()=>{const e=m.get(n);e&&e.key===o&&m.delete(n)}),[m,n]);return{active:c,activatorEvent:i,activeNodeRect:u,attributes:(0,t.useMemo)(()=>({role:f,tabIndex:g,"aria-disabled":a,"aria-pressed":!(!x||f!==po)||void 0,"aria-roledescription":h,"aria-describedby":d.draggable}),[a,f,g,x,h,d.draggable]),isDragging:x,listeners:a?void 0:N,node:y,over:p,setNodeRef:v,setActivatorNodeRef:j,transform:b}}function ho(){return(0,t.useContext)(ro)}const go={timeout:25};function xo(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function bo(e,t){return e.reduce((e,n,r)=>{const a=t.get(n);return a&&(e[r]=a),e},Array(e.length))}function yo(e){return null!==e&&e>=0}const vo={scaleX:1,scaleY:1},wo=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:a,overIndex:s,index:o}=e;const l=null!=(t=n[a])?t:r;if(!l)return null;const i=function(e,t,n){const r=e[t],a=e[t-1],s=e[t+1];if(!r||!a&&!s)return 0;if(n<t)return a?r.left-(a.left+a.width):s.left-(r.left+r.width);return s?s.left-(r.left+r.width):r.left-(a.left+a.width)}(n,o,a);if(o===a){const e=n[s];return e?c({x:a<s?e.left+e.width-(l.left+l.width):e.left-l.left,y:0},vo):null}return c(o>a&&o<=s?{x:-l.width-i,y:0}:o<a&&o>=s?{x:l.width+i,y:0}:{x:0,y:0},vo)};const jo=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const s=xo(t,r,n),o=t[a],l=s[a];return l&&o?{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}:null};const No="Sortable",ko=t.createContext({activeIndex:-1,containerId:No,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jo,disabled:{draggable:!1,droppable:!1}});function So(e){let{children:n,id:r,items:a,strategy:s=jo,disabled:o=!1}=e;const{active:l,dragOverlay:i,droppableRects:c,over:u,measureDroppableContainers:d}=ho(),m=va(No,r),p=Boolean(null!==i.rect),f=(0,t.useMemo)(()=>a.map(e=>"object"===typeof e&&"id"in e?e.id:e),[a]),h=null!=l,g=l?f.indexOf(l.id):-1,x=u?f.indexOf(u.id):-1,b=(0,t.useRef)(f),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(f,b.current),v=-1!==x&&-1===g||y,w=function(e){return"boolean"===typeof e?{draggable:e,droppable:e}:e}(o);pa(()=>{y&&h&&d(f)},[y,f,h,d]),(0,t.useEffect)(()=>{b.current=f},[f]);const j=(0,t.useMemo)(()=>({activeIndex:g,containerId:m,disabled:w,disableTransforms:v,items:f,overIndex:x,useDragOverlay:p,sortedRects:bo(f,c),strategy:s}),[g,m,w.draggable,w.droppable,v,f,x,c,p,s]);return t.createElement(ko.Provider,{value:j},n)}const Co=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return xo(n,r,a).indexOf(t)},Eo=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:s,newIndex:o,previousItems:l,previousContainerId:i,transition:c}=e;return!(!c||!r)&&((l===s||a!==o)&&(!!n||o!==a&&t===i))},Po={duration:200,easing:"ease"},To="transform",Ro=Ca.Transition.toString({property:To,duration:0,easing:"linear"}),Oo={roleDescription:"sortable"};function Do(e){let{animateLayoutChanges:n=Eo,attributes:r,disabled:a,data:s,getNewIndex:o=Co,id:l,strategy:i,resizeObserverConfig:u,transition:d=Po}=e;const{items:m,containerId:p,activeIndex:f,disabled:h,disableTransforms:g,sortedRects:x,overIndex:b,useDragOverlay:y,strategy:v}=(0,t.useContext)(ko),w=function(e,t){var n,r;if("boolean"===typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(a,h),j=m.indexOf(l),N=(0,t.useMemo)(()=>c({sortable:{containerId:p,index:j,items:m}},s),[p,s,j,m]),k=(0,t.useMemo)(()=>m.slice(m.indexOf(l)),[m,l]),{rect:S,node:C,isOver:E,setNodeRef:P}=function(e){let{data:n,disabled:r=!1,id:a,resizeObserverConfig:s}=e;const o=va("Droppable"),{active:l,dispatch:i,over:u,measureDroppableContainers:d}=(0,t.useContext)(no),m=(0,t.useRef)({disabled:r}),p=(0,t.useRef)(!1),f=(0,t.useRef)(null),h=(0,t.useRef)(null),{disabled:g,updateMeasurementsFor:x,timeout:b}=c(c({},go),s),y=ha(null!=x?x:a),v=Bs({callback:(0,t.useCallback)(()=>{p.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{d(Array.isArray(y.current)?y.current:[y.current]),h.current=null},b)):p.current=!0},[b]),disabled:g||!l}),w=(0,t.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),p.current=!1),e&&v.observe(e))},[v]),[j,N]=xa(w),k=ha(n);return(0,t.useEffect)(()=>{v&&j.current&&(v.disconnect(),p.current=!1,v.observe(j.current))},[j,v]),(0,t.useEffect)(()=>(i({type:Ia.RegisterDroppable,element:{id:a,key:o,disabled:r,node:j,rect:f,data:k}}),()=>i({type:Ia.UnregisterDroppable,key:o,id:a})),[a]),(0,t.useEffect)(()=>{r!==m.current.disabled&&(i({type:Ia.SetDroppableDisabled,id:a,key:o,disabled:r}),m.current.disabled=r)},[a,o,r,i]),{active:l,rect:f,isOver:(null==u?void 0:u.id)===a,node:j,over:u,setNodeRef:N}}({id:l,data:N,disabled:w.droppable,resizeObserverConfig:c({updateMeasurementsFor:k},u)}),{active:T,activatorEvent:R,activeNodeRect:O,attributes:D,setNodeRef:L,listeners:_,isDragging:A,over:z,setActivatorNodeRef:M,transform:I}=fo({id:l,data:N,attributes:c(c({},Oo),r),disabled:w.draggable}),F=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)(()=>e=>{n.forEach(t=>t(e))},n)}(P,L),U=Boolean(T),W=U&&!g&&yo(f)&&yo(b),B=!y&&A,H=B&&W?I:null,q=W?null!=H?H:(null!=i?i:v)({rects:x,activeNodeRect:O,activeIndex:f,overIndex:b,index:j}):null,V=yo(f)&&yo(b)?o({id:l,items:m,activeIndex:f,overIndex:b}):j,K=null==T?void 0:T.id,$=(0,t.useRef)({activeId:K,items:m,newIndex:V,containerId:p}),Y=m!==$.current.items,G=n({active:T,containerId:p,isDragging:A,isSorting:U,id:l,index:j,items:m,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:d,wasDragging:null!=$.current.activeId}),X=function(e){let{disabled:n,index:r,node:a,rect:s}=e;const[o,l]=(0,t.useState)(null),i=(0,t.useRef)(r);return pa(()=>{if(!n&&r!==i.current&&a.current){const e=s.current;if(e){const t=Za(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&l(n)}}r!==i.current&&(i.current=r)},[n,r,a,s]),(0,t.useEffect)(()=>{o&&l(null)},[o]),o}({disabled:!G,index:j,node:C,rect:S});return(0,t.useEffect)(()=>{U&&$.current.newIndex!==V&&($.current.newIndex=V),p!==$.current.containerId&&($.current.containerId=p),m!==$.current.items&&($.current.items=m)},[U,V,p,m]),(0,t.useEffect)(()=>{if(K===$.current.activeId)return;if(null!=K&&null==$.current.activeId)return void($.current.activeId=K);const e=setTimeout(()=>{$.current.activeId=K},50);return()=>clearTimeout(e)},[K]),{active:T,activeIndex:f,attributes:D,data:N,rect:S,index:j,newIndex:V,items:m,isOver:E,isSorting:U,isDragging:A,listeners:_,node:C,overIndex:b,over:z,setNodeRef:F,setActivatorNodeRef:M,setDroppableNodeRef:P,setDraggableNodeRef:L,transform:null!=X?X:q,transition:function(){if(X||Y&&$.current.newIndex===j)return Ro;if(B&&!ka(R)||!d)return;if(U||G)return Ca.Transition.toString(c(c({},d),{},{property:To}));return}()}}vs.Down,vs.Right,vs.Up,vs.Left;const Lo={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,_o=e=>{let{className:n="",placeholder:r="Search contacts, leads, opportunities...",onOpenResult:a}=e;const[s,o]=(0,t.useState)(""),[l,i]=(0,t.useState)([]),[u,d]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1),[f,h]=(0,t.useState)(!1),[g,x]=(0,t.useState)(-1),[b,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(null),j=(0,t.useRef)(null),N=((0,t.useRef)(null),pe()),{user:k}=Qr(),S=(0,t.useCallback)(e=>{if(console.log("\ud83d\udd0d SearchBar: debouncedSearch called with query:",e),b&&clearTimeout(b),e.length<2)return console.log("\ud83d\udd0d SearchBar: Query too short, clearing results"),d(null),void i([]);const t=setTimeout(async()=>{console.log("\ud83d\udd0d SearchBar: Executing search for:",e),p(!0);try{console.log("\ud83d\udd0d SearchBar: Fetching suggestions...");const t=await Yr.get("".concat(Lo,"/api/search/suggestions?q=").concat(encodeURIComponent(e)),{withCredentials:!0});console.log("\ud83d\udd0d SearchBar: Suggestions response:",t.data),i(t.data),console.log("\ud83d\udd0d SearchBar: Fetching search results...");const n=await Yr.get("".concat(Lo,"/api/search?q=").concat(encodeURIComponent(e),"&limit=5"),{withCredentials:!0});console.log("\ud83d\udd0d SearchBar: Search results response:",n.data),d(n.data)}catch(r){var t,n;console.error("\ud83d\udd0d SearchBar: Search error:",r),console.error("\ud83d\udd0d SearchBar: Error response:",null===(t=r.response)||void 0===t?void 0:t.data),console.error("\ud83d\udd0d SearchBar: Error status:",null===(n=r.response)||void 0===n?void 0:n.status),d(null),i([])}finally{p(!1)}},300);y(t)},[]);(0,t.useEffect)(()=>{(async()=>{try{const e=await Yr.get("".concat(Lo,"/api/search/analytics"),{withCredentials:!0});w(e.data)}catch(e){console.error("Failed to load search analytics:",e)}})()},[]),(0,t.useEffect)(()=>{console.log("\ud83d\udd0d SearchBar: useEffect triggered with query:",s),s&&s.length>=2?S(s):0===s.length&&(d(null),i([]))},[s]);const C=()=>u?Object.values(u.results||{}).reduce((e,t)=>e+t.length,0):0,E=e=>{if(!u)return null;let t=0;for(const[n,r]of Object.entries(u.results||{}))for(const a of r){if(t===e)return c({},a);t++}return null},P=e=>{if(e)if(h(!1),o(""),x(-1),a)a(e);else switch(e.type){case"contact":N("/contacts/".concat(e.id));break;case"lead":N("/leads/".concat(e.id));break;case"opportunity":N("/opportunities/".concat(e.id));break;case"company":N("/companies/".concat(e.id));break;case"user":N("/users/".concat(e.id));break;default:console.log("Unknown result type:",e.type)}},T=()=>{s.trim()&&h(!0)};(0,t.useEffect)(()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&(h(!1),x(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const R=e=>{switch(e){case"contact":return(0,Gr.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})});case"lead":return(0,Gr.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});case"opportunity":return(0,Gr.jsx)("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"company":return(0,Gr.jsx)("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});case"user":return(0,Gr.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,Gr.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}},O=e=>{if(!e.status)return null;return(0,Gr.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ".concat({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",prospect:"bg-blue-100 text-blue-800",new:"bg-yellow-100 text-yellow-800",contacted:"bg-blue-100 text-blue-800",qualified:"bg-green-100 text-green-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800",prospecting:"bg-yellow-100 text-yellow-800"}[e.status]||"bg-gray-100 text-gray-800"),children:e.status.replace("_"," ")})};return(0,Gr.jsxs)("div",{className:"relative ".concat(n),ref:j,children:[(0,Gr.jsxs)("div",{className:"relative",children:[(0,Gr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Gr.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Gr.jsx)("input",{type:"text",value:s,onChange:e=>{const t=e.target.value;console.log("\ud83d\udd0d SearchBar: Input changed to:",t),o(t),h(!0),x(-1)},onKeyDown:e=>{if(f)switch(e.key){case"ArrowDown":e.preventDefault(),x(e=>e<C()-1?e+1:e);break;case"ArrowUp":e.preventDefault(),x(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),g>=0?P(E(g)):s.trim()&&T();break;case"Escape":h(!1),x(-1)}},onFocus:()=>h(!0),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:r}),m&&(0,Gr.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,Gr.jsxs)("svg",{className:"animate-spin h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",children:[(0,Gr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),f&&(s.length>=2||l.length>0)&&(0,Gr.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white rounded-md shadow-lg border border-gray-200 max-h-96 overflow-y-auto",children:[l.length>0&&s.length>=2&&(0,Gr.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,Gr.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Suggestions"}),l.map((e,t)=>(0,Gr.jsxs)("div",{onClick:()=>(e=>{o(e),h(!0),x(-1)})(e),className:"flex items-center px-2 py-1 text-sm text-gray-700 hover:bg-gray-100 rounded cursor-pointer",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e]},t))]}),u&&C()>0&&(0,Gr.jsxs)("div",{className:"py-2",children:[(0,Gr.jsxs)("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",children:["Search Results (",u.totalResults,")"]}),Object.entries(u.results||{}).map(e=>{let[t,n]=e;return n.length>0&&(0,Gr.jsxs)("div",{className:"mb-2",children:[(0,Gr.jsxs)("div",{className:"px-4 py-1 text-xs font-medium text-gray-600 bg-gray-50",children:[t.charAt(0).toUpperCase()+t.slice(1)," (",n.length,")"]}),n.map((e,n)=>{const r=Object.values(u.results||{}).slice(0,Object.keys(u.results||{}).indexOf(t)).reduce((e,t)=>e+t.length,0)+n;return(0,Gr.jsxs)("div",{onClick:()=>P(c(c({},e),{},{type:t})),className:"flex items-center px-4 py-2 hover:bg-gray-50 cursor-pointer ".concat(g===r?"bg-blue-50":""),children:[(0,Gr.jsx)("div",{className:"flex-shrink-0 mr-3",children:R(t)}),(0,Gr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Gr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),O(e)]}),(0,Gr.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.subtitle}),e.email&&(0,Gr.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.email})]})]},"".concat(t,"-").concat(e.id))})]},t)})]}),u&&0===C()&&s.length>=2&&(0,Gr.jsxs)("div",{className:"px-4 py-8 text-center",children:[(0,Gr.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,Gr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No results found"}),(0,Gr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try searching with different keywords."})]}),v&&!u&&s.length<2&&(0,Gr.jsxs)("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[(0,Gr.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Searchable Items"}),(0,Gr.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,Gr.jsxs)("div",{className:"flex justify-between",children:[(0,Gr.jsx)("span",{className:"text-gray-600",children:"Contacts:"}),(0,Gr.jsx)("span",{className:"font-medium",children:v.totalContacts})]}),(0,Gr.jsxs)("div",{className:"flex justify-between",children:[(0,Gr.jsx)("span",{className:"text-gray-600",children:"Leads:"}),(0,Gr.jsx)("span",{className:"font-medium",children:v.totalLeads})]}),(0,Gr.jsxs)("div",{className:"flex justify-between",children:[(0,Gr.jsx)("span",{className:"text-gray-600",children:"Opportunities:"}),(0,Gr.jsx)("span",{className:"font-medium",children:v.totalOpportunities})]}),(0,Gr.jsxs)("div",{className:"flex justify-between",children:[(0,Gr.jsx)("span",{className:"text-gray-600",children:"Companies:"}),(0,Gr.jsx)("span",{className:"font-medium",children:v.totalCompanies})]})]})]})]})]})},Ao={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,zo=e=>{let{onClose:n}=e;const{user:r,setUser:a}=(0,t.useContext)(Xr),[s,o]=(0,t.useState)(""),[l,i]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{r&&(o(r.username||""),i(r.email||""))},[r]);return(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md w-full max-w-md",children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Edit Your Profile"}),(0,Gr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(""),p(!0);try{const{data:e}=await Yr.put("".concat(Ao,"/api/users/profile"),{username:s,email:l},{withCredentials:!0});a(t=>c(c({},t),e)),n()}catch(o){var t,r;d((null===(t=o.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update profile.")}finally{p(!1)}},children:[u&&(0,Gr.jsx)("p",{className:"text-red-500 text-center mb-4",children:u}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,Gr.jsx)("input",{type:"text",id:"username",value:s,onChange:e=>o(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Gr.jsx)("input",{type:"email",id:"email",value:l,onChange:e=>i(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),(0,Gr.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,Gr.jsx)("button",{type:"button",onClick:n,className:"w-auto inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",disabled:m,className:"w-auto inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400",children:m?"Saving...":"Save Changes"})]})]})]})})},Mo=e=>{let{views:n,onLoadView:r,onOpenSearchResult:a,onOpenPageTab:s,onOpenUserProfile:o,currentViewId:l}=e;console.log("Navbar render - currentViewId:",l,"type:",typeof l),console.log("Navbar render - views:",n,"type:",typeof n);const{user:i,logout:c}=(0,t.useContext)(Xr),u=pe(),[d,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[h,g]=(0,t.useState)(!1),x=(0,t.useRef)(null);t.useEffect(()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&m(!1),e.target.closest("[data-pages-menu]")||f(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);return(0,Gr.jsxs)(Gr.Fragment,{children:[h&&(0,Gr.jsx)(zo,{onClose:()=>g(!1)}),(0,Gr.jsx)("header",{className:"bg-white shadow-md w-full",children:(0,Gr.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:(0,Gr.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-gray-900 flex-shrink-0",children:"Dashboard"}),(0,Gr.jsx)("div",{className:"flex-1 flex justify-center px-8",children:(0,Gr.jsx)("div",{className:"w-full max-w-2xl",children:(0,Gr.jsx)(_o,{placeholder:"Search contacts, leads, opportunities, companies, users...",className:"w-full",onOpenResult:a})})}),(0,Gr.jsxs)("div",{className:"flex items-center space-x-4 flex-shrink-0",children:[(0,Gr.jsxs)("div",{className:"relative","data-pages-menu":!0,children:[(0,Gr.jsxs)("button",{onClick:()=>f(!p),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,Gr.jsx)("span",{children:"Pages"}),(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&(0,Gr.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 border border-gray-200",children:[(0,Gr.jsxs)("button",{onClick:()=>{s("contacts","Contacts","contacts-widget"),f(!1)},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Gr.jsx)("span",{children:"Contacts"})]}),(0,Gr.jsxs)("button",{onClick:()=>{s("leads","Leads","leads-widget"),f(!1)},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,Gr.jsx)("span",{children:"Leads"})]}),(0,Gr.jsxs)("button",{onClick:()=>{s("opportunities","Opportunities","opportunities-widget"),f(!1)},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,Gr.jsx)("span",{children:"Opportunities"})]}),(0,Gr.jsxs)("button",{onClick:()=>{s("business","Business","business-widget"),f(!1)},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,Gr.jsx)("span",{children:"Business"})]}),"Administrator"===i.role&&(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("div",{className:"border-t border-gray-200 my-1"}),(0,Gr.jsxs)("button",{onClick:()=>{s("users","Users","users-widget"),f(!1)},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,Gr.jsx)("span",{children:"Users"})]})]})]})]}),(0,Gr.jsxs)("select",{value:"",onChange:e=>{e.target.value&&r(e.target.value)},className:"px-3 py-2 border border-gray-300 rounded-md",children:[(0,Gr.jsx)("option",{value:"",children:"Open View..."}),Array.isArray(n)&&n.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Gr.jsx)("button",{onClick:()=>{l&&!String(l).includes("-page")&&(window.location.href="/edit-layout/".concat(l))},className:"px-4 py-2 rounded-md transition-colors ".concat(l&&!String(l).includes("-page")?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-400 text-gray-200 cursor-not-allowed"),disabled:!l||String(l).includes("-page"),title:l?String(l).includes("-page")?"Edit Layout is not available on main pages":"Open Edit Layout":"No view selected - a default view should be created automatically",children:"Edit Layout"}),(0,Gr.jsxs)("button",{onClick:()=>u("/my-views"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center space-x-2",title:"Manage your dashboard views",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,Gr.jsx)("span",{children:"My Views"})]}),(0,Gr.jsxs)("div",{className:"relative",ref:x,children:[(0,Gr.jsxs)("button",{onClick:()=>m(!d),className:"flex items-center space-x-2 px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300",children:[(0,Gr.jsx)("span",{children:i.username}),(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&(0,Gr.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:[(0,Gr.jsx)("button",{onClick:()=>{m(!1),o&&o(i.id,i.username)},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"View Profile"}),"Administrator"===i.role&&(0,Gr.jsx)(xt,{to:"/edit-company",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>m(!1),children:"Edit Company"}),(0,Gr.jsx)("button",{onClick:()=>{c(),u("/login")},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]})]})]})]})})})]})},Io=["id","children"];function Fo(e){let{id:t,children:n}=e,r=a(e,Io);const{attributes:s,listeners:o,setNodeRef:l,transform:i,transition:u,isDragging:d}=Do({id:t}),m={transform:Ca.Transform.toString(i),transition:u,opacity:d?.5:1,cursor:"grab",zIndex:d?100:"auto"};return(0,Gr.jsx)("div",c(c(c(c({ref:l,style:m},s),o),r),{},{children:n}))}const Uo=e=>{let{openTabs:n,activeTabId:r,onSwitchTab:a,onCloseTab:s,onTabDragEnd:o,onTabDragStart:l,isDraggingTab:i,onRefreshTab:c,isRefreshing:u=!1}=e;const d=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)(()=>[...n].filter(e=>null!=e),[...n])}((m=Rs,p={activationConstraint:{distance:5}},(0,t.useMemo)(()=>({sensor:m,options:null!=p?p:{}}),[m,p])));var m,p;return(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("style",{children:"\n                    .tab-close-button {\n                        opacity: 0;\n                        transition: opacity 0.2s;\n                    }\n                    .tab:hover .tab-close-button {\n                        opacity: 1;\n                    }\n                "}),n.length>0&&(0,Gr.jsx)("div",{className:"bg-white border-b border-gray-200 w-full",children:(0,Gr.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:(0,Gr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gr.jsx)(uo,{sensors:d,collisionDetection:Va,onDragEnd:o,onDragStart:l,children:(0,Gr.jsx)(So,{items:n.map(e=>e.id),strategy:wo,children:(0,Gr.jsx)("div",{className:"flex space-x-1 overflow-x-auto justify-start",children:n.map(e=>(0,Gr.jsx)(Fo,{id:e.id,children:(0,Gr.jsxs)("div",{className:"tab flex items-center space-x-2 px-4 py-2 border-b-2 cursor-pointer whitespace-nowrap ".concat(r===e.id?"border-blue-500 bg-blue-50 text-blue-700":"border-transparent hover:border-gray-300 hover:bg-gray-50"),onClick:()=>{i||a(e.id)},children:[(0,Gr.jsx)("span",{className:"text-sm font-medium",children:e.name}),e.isDefault&&(0,Gr.jsx)("svg",{className:"w-3 h-3 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Gr.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Gr.jsx)("button",{className:"tab-close-button ml-1 text-gray-400 hover:text-gray-600",onClick:t=>{t.stopPropagation(),s(e.id)},title:"Close tab",children:(0,Gr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},e.id))})})}),r&&!String(r).includes("-page")&&!String(r).includes("search-")&&(0,Gr.jsx)("div",{className:"flex items-center ml-4",children:(0,Gr.jsx)("button",{onClick:c,disabled:u,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 hover:border-gray-300 border border-transparent rounded-md transition-all duration-200 ".concat(u?"opacity-50 cursor-not-allowed":""),title:u?"Refreshing...":"Refresh current view",children:(0,Gr.jsx)("svg",{className:"w-4 h-4 ".concat(u?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})})]})})})]})};var Wo=n(399);const Bo={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,Ho=e=>{let{contactId:n}=e;const{user:r}=(0,t.useContext)(Xr),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[i,u]=(0,t.useState)(null),[d,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[h,g]=(0,t.useState)({}),[x,b]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),w=(0,t.useCallback)(async()=>{if(n)try{l(!0),u(null);const e=await Yr.get("".concat(Bo,"/api/contacts/").concat(n),{withCredentials:!0});s(e.data)}catch(i){console.error("Error loading contact:",i),u("Failed to load contact details")}finally{l(!1)}},[n]),j=(0,t.useCallback)(async()=>{try{const[e]=await Promise.all([Yr.get("".concat(Bo,"/api/users"),{withCredentials:!0})]);b(e.data)}catch(i){console.error("Error loading dropdown data:",i)}},[]);(0,t.useEffect)(()=>{(async()=>{try{await Promise.all([w(),j()])}catch(i){console.error("Error initializing ContactProfileWidget:",i),u("Failed to initialize contact profile widget")}})()},[w,j]);const N=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;g(e=>c(c({},e),{},{[t]:n}))},[]),k=(0,t.useCallback)(e=>{if("Enter"===e.key&&e.target.value.trim()){e.preventDefault();const t=e.target.value.trim();g(e=>c(c({},e),{},{tags:[...e.tags||[],t]})),e.target.value=""}},[]),S=(0,t.useCallback)(e=>{g(t=>c(c({},t),{},{tags:(t.tags||[]).filter(t=>t!==e)}))},[]),C=(0,t.useCallback)(()=>{a&&(f(a),g({firstName:a.firstName,lastName:a.lastName,email:a.email||"",phone:a.phone||"",mobile:a.mobile||"",jobTitle:a.jobTitle||"",department:a.department||"",address:a.address||"",city:a.city||"",state:a.state||"",zipCode:a.zipCode||"",country:a.country||"",notes:a.notes||"",status:a.status||"active",source:a.source||"",tags:a.tags||[],assignedTo:a.assignedTo||""}),m(!0))},[a]),E=(0,t.useCallback)(async e=>{e.preventDefault();try{await Yr.put("".concat(Bo,"/api/contacts/").concat(n),h,{withCredentials:!0}),m(!1),w()}catch(i){var t,r;console.error("Error updating contact:",i),alert((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update contact")}},[n,h,w]),P=(0,t.useCallback)(async()=>{if(window.confirm("Are you sure you want to delete this contact?"))try{await Yr.delete("".concat(Bo,"/api/contacts/").concat(n),{withCredentials:!0}),alert("Contact deleted successfully")}catch(i){console.error("Error deleting contact:",i),alert("Failed to delete contact")}},[n]);if(o)return(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:i}),(0,Gr.jsx)("button",{onClick:()=>w(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]});if(!a)return(0,Gr.jsx)("div",{className:"text-center py-8",children:(0,Gr.jsx)("div",{className:"text-gray-600 text-sm",children:"Contact not found"})});return(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gr.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Gr.jsxs)("span",{className:"text-xl font-bold text-blue-600",children:[a.firstName.charAt(0),a.lastName.charAt(0)]})}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[a.firstName," ",a.lastName]}),(0,Gr.jsx)("p",{className:"text-gray-600",children:a.jobTitle||"No job title"}),a.company&&(0,Gr.jsx)("p",{className:"text-sm text-gray-500",children:a.company.name})]})]}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsxs)("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,Gr.jsx)("span",{children:"Edit"})]}),(0,Gr.jsxs)("button",{onClick:P,className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Gr.jsx)("span",{children:"Delete"})]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Status"}),(T=a.status,(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat({active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800",prospect:"bg-yellow-100 text-yellow-800"}[T]||"bg-gray-100 text-gray-800"),children:T}))]}),(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Assigned To"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:a.assignedUser?"".concat(a.assignedUser.firstName," ").concat(a.assignedUser.lastName):"Not assigned"})]}),a.source&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Source"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:a.source})]}),a.department&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Department"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:a.department})]})]})]}),(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Details"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[a.email&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(0,Gr.jsx)("a",{href:"mailto:".concat(a.email),className:"text-blue-600 hover:text-blue-800",children:a.email})})]}),a.phone&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(0,Gr.jsx)("a",{href:"tel:".concat(a.phone),className:"text-blue-600 hover:text-blue-800",children:a.phone})})]}),a.mobile&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Mobile"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(0,Gr.jsx)("a",{href:"tel:".concat(a.mobile),className:"text-blue-600 hover:text-blue-800",children:a.mobile})})]})]})]}),(a.address||a.city||a.state||a.country)&&(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address"}),(0,Gr.jsxs)("div",{className:"space-y-2",children:[a.address&&(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:a.address}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:[a.city,a.state,a.zipCode].filter(Boolean).join(", ")}),a.country&&(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:a.country})]})]}),a.tags&&a.tags.length>0&&(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tags"}),(0,Gr.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.map((e,t)=>(0,Gr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:e},t))})]})]}),a.notes&&(0,Gr.jsxs)("div",{className:"mt-6 bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:a.notes})]}),d&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold",children:"Edit Contact"}),(0,Gr.jsx)("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Gr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gr.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"First Name *"}),(0,Gr.jsx)("input",{type:"text",name:"firstName",value:h.firstName||"",onChange:N,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name *"}),(0,Gr.jsx)("input",{type:"text",name:"lastName",value:h.lastName||"",onChange:N,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Gr.jsx)("input",{type:"email",name:"email",value:h.email||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,Gr.jsx)("input",{type:"tel",name:"phone",value:h.phone||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),(0,Gr.jsx)("input",{type:"tel",name:"mobile",value:h.mobile||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Job Title"}),(0,Gr.jsx)("input",{type:"text",name:"jobTitle",value:h.jobTitle||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,Gr.jsx)("input",{type:"text",name:"department",value:h.department||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Gr.jsxs)("select",{name:"status",value:h.status||"active",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"active",children:"Active"}),(0,Gr.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Gr.jsx)("option",{value:"prospect",children:"Prospect"})]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,Gr.jsx)("textarea",{name:"address",value:h.address||"",onChange:N,rows:"2",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,Gr.jsx)("input",{type:"text",name:"city",value:h.city||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,Gr.jsx)("input",{type:"text",name:"state",value:h.state||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),(0,Gr.jsx)("input",{type:"text",name:"zipCode",value:h.zipCode||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,Gr.jsx)("input",{type:"text",name:"country",value:h.country||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,Gr.jsx)("input",{type:"text",name:"source",value:h.source||"",onChange:N,placeholder:"e.g., Website, Referral, Trade Show",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,Gr.jsxs)("select",{name:"assignedTo",value:h.assignedTo||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"Select User"}),Array.isArray(x)&&x.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),(0,Gr.jsx)("input",{type:"text",placeholder:"Press Enter to add a tag",onKeyPress:k,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),(h.tags||[]).length>0&&(0,Gr.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:(h.tags||[]).map((e,t)=>(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e,(0,Gr.jsx)("button",{type:"button",onClick:()=>S(e),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:(0,Gr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,Gr.jsx)("textarea",{name:"notes",value:h.notes||"",onChange:N,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Update Contact"})]})]})]})})]});var T},qo=(0,t.memo)(Ho),Vo={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,Ko=e=>{let{leadId:n}=e;const{user:r}=(0,t.useContext)(Xr),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[i,u]=(0,t.useState)(null),[d,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[h,g]=(0,t.useState)({}),[x,b]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),w=(0,t.useCallback)(async()=>{if(n)try{l(!0),u(null);const e=await Yr.get("".concat(Vo,"/api/leads/").concat(n),{withCredentials:!0});s(e.data)}catch(i){console.error("Error loading lead:",i),u("Failed to load lead details")}finally{l(!1)}},[n]),j=(0,t.useCallback)(async()=>{try{const e=await Promise.all([Yr.get("".concat(Vo,"/api/users"),{withCredentials:!0}),Yr.get("".concat(Vo,"/api/companies"),{withCredentials:!0}),Yr.get("".concat(Vo,"/api/contacts"),{withCredentials:!0})]);b({users:e[0].data,companies:e[1].data,contacts:e[2].data})}catch(i){console.error("Error loading additional data:",i)}},[]);(0,t.useEffect)(()=>{(async()=>{try{await Promise.all([w(),j()])}catch(i){console.error("Error initializing LeadProfileWidget:",i),u("Failed to initialize lead profile widget")}})()},[w,j]);const N=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;g(e=>c(c({},e),{},{[t]:n}))},[]),k=(0,t.useCallback)(e=>{if("Enter"===e.key&&e.target.value.trim()){e.preventDefault();const t=e.target.value.trim();g(e=>c(c({},e),{},{tags:[...e.tags||[],t]})),e.target.value=""}},[]),S=(0,t.useCallback)(e=>{g(t=>c(c({},t),{},{tags:(t.tags||[]).filter(t=>t!==e)}))},[]),C=(0,t.useCallback)(()=>{a&&(f(a),g({title:a.title,description:a.description||"",status:a.status||"new",priority:a.priority||"medium",estimatedValue:a.estimatedValue||"",currency:a.currency||"USD",source:a.source||"",expectedCloseDate:a.expectedCloseDate?a.expectedCloseDate.split("T")[0]:"",actualCloseDate:a.actualCloseDate?a.actualCloseDate.split("T")[0]:"",notes:a.notes||"",tags:a.tags||[],companyId:a.companyId||"",contactId:a.contactId||"",assignedTo:a.assignedTo||""}),m(!0))},[a]),E=(0,t.useCallback)(async e=>{e.preventDefault();try{await Yr.put("".concat(Vo,"/api/leads/").concat(n),h,{withCredentials:!0}),m(!1),w()}catch(i){var t,r;console.error("Error updating lead:",i),alert((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update lead")}},[n,h,w]),P=(0,t.useCallback)(async()=>{if(window.confirm("Are you sure you want to delete this lead?"))try{await Yr.delete("".concat(Vo,"/api/leads/").concat(n),{withCredentials:!0}),alert("Lead deleted successfully")}catch(i){console.error("Error deleting lead:",i),alert("Failed to delete lead")}},[n]);if(o)return(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:i}),(0,Gr.jsx)("button",{onClick:()=>w(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]});if(!a)return(0,Gr.jsx)("div",{className:"text-center py-8",children:(0,Gr.jsx)("div",{className:"text-gray-600 text-sm",children:"Lead not found"})});const T=()=>a.title||"Untitled Lead",R=()=>a.company?a.company.name:"No company",O=e=>e?new Date(e).toLocaleDateString():"-";return(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gr.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Gr.jsx)("span",{className:"text-xl font-bold text-blue-600",children:T().charAt(0)})}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:T()}),(0,Gr.jsx)("p",{className:"text-gray-600",children:a.source||"No source"}),a.company&&(0,Gr.jsx)("p",{className:"text-sm text-gray-500",children:R()})]})]}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsxs)("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,Gr.jsx)("span",{children:"Edit"})]}),(0,Gr.jsxs)("button",{onClick:P,className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Gr.jsx)("span",{children:"Delete"})]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Status"}),(A=a.status,(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"}[A]||"bg-gray-100 text-gray-800"),children:A.replace("_"," ")}))]}),(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Priority"}),(_=a.priority,(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat({low:"bg-gray-100 text-gray-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[_]||"bg-gray-100 text-gray-800"),children:_}))]}),(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Assigned To"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:a.assignedUser?"".concat(a.assignedUser.firstName||a.assignedUser.username," ").concat(a.assignedUser.lastName||""):"Not assigned"})]}),a.source&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Source"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:a.source})]}),a.estimatedValue&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Estimated Value"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:(D=a.estimatedValue,L=a.currency,D?"".concat(L," ").concat(parseFloat(D).toLocaleString()):"-")})]})]})]}),(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Timeline"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[a.expectedCloseDate&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Expected Close Date"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O(a.expectedCloseDate)})]}),a.actualCloseDate&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Actual Close Date"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O(a.actualCloseDate)})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O(a.createdAt)})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O(a.updatedAt)})]})]})]}),a.company&&(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Company"}),(0,Gr.jsxs)("div",{className:"space-y-2",children:[(0,Gr.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:R()}),a.company.industry&&(0,Gr.jsx)("p",{className:"text-sm text-gray-600",children:a.company.industry}),a.company.website&&(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:(0,Gr.jsx)("a",{href:a.company.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:a.company.website})})]})]}),a.contact&&(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact"}),(0,Gr.jsxs)("div",{className:"space-y-2",children:[(0,Gr.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:a.contact?"".concat(a.contact.firstName," ").concat(a.contact.lastName):"No contact"}),a.contact.email&&(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:(0,Gr.jsx)("a",{href:"mailto:".concat(a.contact.email),className:"text-blue-600 hover:text-blue-800",children:a.contact.email})}),a.contact.jobTitle&&(0,Gr.jsx)("p",{className:"text-sm text-gray-600",children:a.contact.jobTitle})]})]}),a.tags&&a.tags.length>0&&(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tags"}),(0,Gr.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.map((e,t)=>(0,Gr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:e},t))})]})]}),a.description&&(0,Gr.jsxs)("div",{className:"mt-6 bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:a.notes})]}),a.notes&&(0,Gr.jsxs)("div",{className:"mt-6 bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:a.notes})]}),d&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold",children:"Edit Lead"}),(0,Gr.jsx)("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Gr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gr.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title *"}),(0,Gr.jsx)("input",{type:"text",name:"title",value:h.title||"",onChange:N,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Gr.jsxs)("select",{name:"status",value:h.status||"new",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"new",children:"New"}),(0,Gr.jsx)("option",{value:"contacted",children:"Contacted"}),(0,Gr.jsx)("option",{value:"qualified",children:"Qualified"}),(0,Gr.jsx)("option",{value:"proposal",children:"Proposal"}),(0,Gr.jsx)("option",{value:"negotiation",children:"Negotiation"}),(0,Gr.jsx)("option",{value:"closed_won",children:"Closed Won"}),(0,Gr.jsx)("option",{value:"closed_lost",children:"Closed Lost"})]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),(0,Gr.jsxs)("select",{name:"priority",value:h.priority||"medium",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"low",children:"Low"}),(0,Gr.jsx)("option",{value:"medium",children:"Medium"}),(0,Gr.jsx)("option",{value:"high",children:"High"}),(0,Gr.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Estimated Value"}),(0,Gr.jsx)("input",{type:"number",name:"estimatedValue",value:h.estimatedValue||"",onChange:N,step:"0.01",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,Gr.jsxs)("select",{name:"currency",value:h.currency||"USD",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"USD",children:"USD"}),(0,Gr.jsx)("option",{value:"EUR",children:"EUR"}),(0,Gr.jsx)("option",{value:"GBP",children:"GBP"})]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Close Date"}),(0,Gr.jsx)("input",{type:"date",name:"expectedCloseDate",value:h.expectedCloseDate||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Actual Close Date"}),(0,Gr.jsx)("input",{type:"date",name:"actualCloseDate",value:h.actualCloseDate||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,Gr.jsx)("input",{type:"text",name:"source",value:h.source||"",onChange:N,placeholder:"e.g., Website, Referral, Trade Show",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,Gr.jsxs)("select",{name:"assignedTo",value:h.assignedTo||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"Select User"}),Array.isArray(x.users)&&x.users.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),(0,Gr.jsxs)("select",{name:"companyId",value:h.companyId||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"Select Company"}),Array.isArray(x.companies)&&x.companies.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Contact"}),(0,Gr.jsxs)("select",{name:"contactId",value:h.contactId||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"Select Contact"}),Array.isArray(x.contacts)&&x.contacts.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Gr.jsx)("textarea",{name:"description",value:h.description||"",onChange:N,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),(0,Gr.jsx)("input",{type:"text",placeholder:"Press Enter to add a tag",onKeyPress:k,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),(h.tags||[]).length>0&&(0,Gr.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:(h.tags||[]).map((e,t)=>(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e,(0,Gr.jsx)("button",{type:"button",onClick:()=>S(e),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:(0,Gr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,Gr.jsx)("textarea",{name:"notes",value:h.notes||"",onChange:N,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Update Lead"})]})]})]})})]});var D,L,_,A},$o=(0,t.memo)(Ko),Yo={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,Go=e=>{let{opportunityId:n}=e;const{user:r}=(0,t.useContext)(Xr),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[i,u]=(0,t.useState)(null),[d,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[h,g]=(0,t.useState)({}),[x,b]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),w=(0,t.useCallback)(async()=>{if(n)try{l(!0),u(null);const e=await Yr.get("".concat(Yo,"/api/opportunities/").concat(n),{withCredentials:!0});s(e.data)}catch(i){console.error("Error loading opportunity:",i),u("Failed to load opportunity details")}finally{l(!1)}},[n]),j=(0,t.useCallback)(async()=>{try{const e=await Promise.all([Yr.get("".concat(Yo,"/api/users"),{withCredentials:!0}),Yr.get("".concat(Yo,"/api/companies"),{withCredentials:!0}),Yr.get("".concat(Yo,"/api/contacts"),{withCredentials:!0})]);b({users:e[0].data,companies:e[1].data,contacts:e[2].data})}catch(i){console.error("Error loading additional data:",i)}},[]);(0,t.useEffect)(()=>{(async()=>{try{await Promise.all([w(),j()])}catch(i){console.error("Error initializing OpportunityProfileWidget:",i),u("Failed to initialize opportunity profile widget")}})()},[w,j]);const N=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;g(e=>c(c({},e),{},{[t]:n}))},[]),k=((0,t.useCallback)(e=>{if("Enter"===e.key&&e.target.value.trim()){e.preventDefault();const t=e.target.value.trim();g(e=>c(c({},e),{},{tags:[...e.tags||[],t]})),e.target.value=""}},[]),(0,t.useCallback)(e=>{g(t=>c(c({},t),{},{tags:(t.tags||[]).filter(t=>t!==e)}))},[]),(0,t.useCallback)(()=>{a&&(f(a),g({name:a.name||"",description:a.description||"",stage:a.stage||"prospecting",probability:a.probability||10,amount:a.amount||"",currency:a.currency||"USD",expectedCloseDate:a.expectedCloseDate?a.expectedCloseDate.split("T")[0]:"",actualCloseDate:a.actualCloseDate?a.actualCloseDate.split("T")[0]:"",type:a.type||"",source:a.source||"",notes:a.notes||"",assignedTo:a.assignedTo||"",companyId:a.companyId||"",contactId:a.contactId||"",tags:a.tags||[]}),m(!0))},[a])),S=(0,t.useCallback)(async e=>{e.preventDefault();try{await Yr.put("".concat(Yo,"/api/opportunities/").concat(n),h,{withCredentials:!0}),m(!1),w()}catch(i){var t,r;console.error("Error updating opportunity:",i),alert((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update opportunity")}},[n,h,w]),C=(0,t.useCallback)(async()=>{if(window.confirm("Are you sure you want to delete this opportunity?"))try{await Yr.delete("".concat(Yo,"/api/opportunities/").concat(n),{withCredentials:!0}),alert("Opportunity deleted successfully")}catch(i){console.error("Error deleting opportunity:",i),alert("Failed to delete opportunity")}},[n]);if(o)return(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:i}),(0,Gr.jsx)("button",{onClick:()=>w(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]});if(!a)return(0,Gr.jsx)("div",{className:"text-center py-8",children:(0,Gr.jsx)("div",{className:"text-gray-600 text-sm",children:"Opportunity not found"})});const E=()=>a.name||"Unknown Opportunity";return(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gr.jsx)("div",{className:"w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center",children:(0,Gr.jsx)("span",{className:"text-xl font-bold text-purple-600",children:E().charAt(0)})}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:E()}),(0,Gr.jsx)("p",{className:"text-gray-600",children:a.type||"No type specified"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-500",children:a.source||"No source specified"})]})]}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsxs)("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,Gr.jsx)("span",{children:"Edit"})]}),(0,Gr.jsxs)("button",{onClick:C,className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Gr.jsx)("span",{children:"Delete"})]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[a.stage&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Stage"}),(T=a.stage,(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"}[T]||"bg-gray-100 text-gray-800"),children:T.replace("_"," ")}))]}),a.probability&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Probability"}),(0,Gr.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((P=a.probability,P>=80?"bg-green-100 text-green-800":P>=60?"bg-yellow-100 text-yellow-800":P>=40?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800")),children:[a.probability,"%"]})]}),a.assignedUser&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Assigned To"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:"".concat(a.assignedUser.firstName||""," ").concat(a.assignedUser.lastName||a.assignedUser.username)})]}),a.creator&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Created By"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:"".concat(a.creator.firstName||""," ").concat(a.creator.lastName||a.creator.username)})]}),a.amount&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Amount"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:a.currency||"USD"}).format(a.amount)})]}),a.expectedCloseDate&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Expected Close Date"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:new Date(a.expectedCloseDate).toLocaleDateString()})]}),a.actualCloseDate&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Actual Close Date"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:new Date(a.actualCloseDate).toLocaleDateString()})]})]})]}),(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Related Information"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[a.company&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Company"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(0,Gr.jsx)("span",{className:"text-blue-600 hover:text-blue-800",children:a.company.name})})]}),a.contact&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Contact"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(0,Gr.jsx)("span",{className:"text-blue-600 hover:text-blue-800",children:"".concat(a.contact.firstName," ").concat(a.contact.lastName)})}),a.contact.email&&(0,Gr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(0,Gr.jsx)("a",{href:"mailto:".concat(a.contact.email),className:"text-blue-600 hover:text-blue-800",children:a.contact.email})})]}),a.type&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Type"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:a.type})]}),a.source&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Source"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:a.source})]})]})]}),a.tags&&a.tags.length>0&&(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tags"}),(0,Gr.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.map((e,t)=>(0,Gr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:e},t))})]})]}),a.description&&(0,Gr.jsxs)("div",{className:"mt-6 bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:a.description})]}),a.notes&&(0,Gr.jsxs)("div",{className:"mt-6 bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:a.notes})]}),d&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold",children:"Edit Opportunity"}),(0,Gr.jsx)("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Gr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gr.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),(0,Gr.jsx)("input",{type:"text",name:"name",value:h.name,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Stage"}),(0,Gr.jsxs)("select",{name:"stage",value:h.stage,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"prospecting",children:"Prospecting"}),(0,Gr.jsx)("option",{value:"qualification",children:"Qualification"}),(0,Gr.jsx)("option",{value:"proposal",children:"Proposal"}),(0,Gr.jsx)("option",{value:"negotiation",children:"Negotiation"}),(0,Gr.jsx)("option",{value:"closed_won",children:"Closed Won"}),(0,Gr.jsx)("option",{value:"closed_lost",children:"Closed Lost"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Probability (%)"}),(0,Gr.jsx)("input",{type:"number",name:"probability",value:h.probability,onChange:N,min:"0",max:"100",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,Gr.jsx)("input",{type:"number",name:"amount",value:h.amount,onChange:N,step:"0.01",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,Gr.jsxs)("select",{name:"currency",value:h.currency,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"USD",children:"USD"}),(0,Gr.jsx)("option",{value:"EUR",children:"EUR"}),(0,Gr.jsx)("option",{value:"GBP",children:"GBP"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Close Date"}),(0,Gr.jsx)("input",{type:"date",name:"expectedCloseDate",value:h.expectedCloseDate,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,Gr.jsx)("input",{type:"text",name:"type",value:h.type,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,Gr.jsx)("input",{type:"text",name:"source",value:h.source,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,Gr.jsxs)("select",{name:"assignedTo",value:h.assignedTo,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"Unassigned"}),Array.isArray(x.users)&&x.users.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.username},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),(0,Gr.jsxs)("select",{name:"companyId",value:h.companyId,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"No Company"}),Array.isArray(x.companies)&&x.companies.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Contact"}),(0,Gr.jsxs)("select",{name:"contactId",value:h.contactId,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"No Contact"}),Array.isArray(x.contacts)&&x.contacts.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Gr.jsx)("textarea",{name:"description",value:h.description,onChange:N,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,Gr.jsx)("textarea",{name:"notes",value:h.notes,onChange:N,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Update Opportunity"})]})]})]})})]});var P,T},Xo=(0,t.memo)(Go),Qo={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,Jo=(0,t.memo)(e=>{let{resultData:n}=e;const[r,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(!0),[l,i]=(0,t.useState)(null),c=(0,t.useCallback)(async()=>{if(n)try{o(!0),i(null);let e="";switch(n.type){case"contact":case"contacts":e="/api/contacts/".concat(n.id);break;case"lead":case"leads":e="/api/leads/".concat(n.id);break;case"opportunity":case"opportunities":e="/api/opportunities/".concat(n.id);break;case"company":case"companies":e="/api/companies/".concat(n.id);break;case"user":case"users":e="/api/users/".concat(n.id);break;default:throw new Error("Unknown result type")}const t=await Yr.get("".concat(Qo).concat(e),{withCredentials:!0});a(t.data)}catch(e){console.error("Failed to fetch details:",e),i("Failed to load details. Using search result data instead."),a(n)}finally{o(!1)}},[n]);return(0,t.useEffect)(()=>{c()},[c]),s?(0,Gr.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,Gr.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading details..."})]}):l?(0,Gr.jsxs)("div",{className:"p-4",children:[(0,Gr.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:(0,Gr.jsxs)("div",{className:"flex",children:[(0,Gr.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Gr.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,Gr.jsx)("div",{className:"ml-3",children:(0,Gr.jsx)("p",{className:"text-sm text-yellow-800",children:l})})]})}),(0,Gr.jsx)(Zo,{result:n})]}):"contact"===n.type||"contacts"===n.type?(0,Gr.jsx)(qo,{contactId:n.id}):"lead"===n.type||"leads"===n.type?(0,Gr.jsx)($o,{leadId:n.id}):"opportunity"===n.type||"opportunities"===n.type?(0,Gr.jsx)(Xo,{opportunityId:n.id}):(0,Gr.jsx)(Zo,{result:r||n})}),Zo=(0,t.memo)(e=>{let{result:n}=e;const r=(0,t.useCallback)(e=>{switch(null===e||void 0===e?void 0:e.replace(/s$/,"")){case"contact":return(0,Gr.jsx)("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})});case"lead":return(0,Gr.jsx)("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});case"opportunity":return(0,Gr.jsx)("svg",{className:"w-6 h-6 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"company":return(0,Gr.jsx)("svg",{className:"w-6 h-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});case"user":return(0,Gr.jsx)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,Gr.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}},[]),a=(0,t.useCallback)(e=>{if(!e)return null;return(0,Gr.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium ".concat({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",prospect:"bg-blue-100 text-blue-800",new:"bg-yellow-100 text-yellow-800",contacted:"bg-blue-100 text-blue-800",qualified:"bg-green-100 text-green-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800",prospecting:"bg-yellow-100 text-yellow-800"}[e]||"bg-gray-100 text-gray-800"),children:e.replace("_"," ")})},[]);return(0,Gr.jsx)("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:(()=>{var e;switch(null===(e=n.type)||void 0===e?void 0:e.replace(/s$/,"")){case"contact":return(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-3",children:[r("contact"),(0,Gr.jsxs)("div",{children:[(0,Gr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[n.firstName," ",n.lastName]}),(0,Gr.jsx)("p",{className:"text-sm text-gray-600",children:n.jobTitle})]}),a(n.status)]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.email&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Email"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:n.email})]}),n.phone&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Phone"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:n.phone})]}),n.company&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Company"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:n.company.name})]}),n.department&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Department"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:n.department})]})]}),n.notes&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Notes"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:n.notes})]})]});case"lead":return(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-3",children:[r("lead"),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n.title}),(0,Gr.jsx)("p",{className:"text-sm text-gray-600",children:n.contact?"".concat(n.contact.firstName," ").concat(n.contact.lastName):"No contact"})]}),a(n.status)]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.estimatedValue&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Estimated Value"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:n.currency||"USD"}).format(n.estimatedValue)})]}),n.priority&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Priority"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 capitalize",children:n.priority})]}),n.source&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Source"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:n.source})]}),n.expectedCloseDate&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Expected Close Date"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:new Date(n.expectedCloseDate).toLocaleDateString()})]})]}),n.description&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Description"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:n.description})]})]});case"opportunity":return(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-3",children:[r("opportunity"),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n.name}),(0,Gr.jsx)("p",{className:"text-sm text-gray-600",children:n.contact?"".concat(n.contact.firstName," ").concat(n.contact.lastName):"No contact"})]}),a(n.stage)]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.amount&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:n.currency||"USD"}).format(n.amount)})]}),n.probability&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Probability"}),(0,Gr.jsxs)("p",{className:"text-sm text-gray-900",children:[n.probability,"%"]})]}),n.expectedCloseDate&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Expected Close Date"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:new Date(n.expectedCloseDate).toLocaleDateString()})]}),n.type&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:n.type})]})]}),n.description&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Description"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:n.description})]})]});case"company":return(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-3",children:[r("company"),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n.name}),(0,Gr.jsx)("p",{className:"text-sm text-gray-600",children:n.industry||"No industry specified"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.website&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Website"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:(0,Gr.jsx)("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:n.website})})]}),n.phone_number&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Phone"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:n.phone_number})]}),n.userCount&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Users"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:n.userCount})]})]})]});case"user":return(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-3",children:[r("user"),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n.email}),(0,Gr.jsx)("p",{className:"text-sm text-gray-600",children:n.role})]})]}),(0,Gr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.company&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Company"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:n.company.name})]})})]});default:return(0,Gr.jsxs)("div",{className:"p-4 text-center text-gray-500",children:["Unknown result type: ",n.type]})}})()})}),el=Jo,tl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,nl=e=>{let{onOpenContactProfile:n}=e;const{user:r}=(0,t.useContext)(Xr),[a,s]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[i,u]=(0,t.useState)(null),[d,m]=(0,t.useState)({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[p,f]=(0,t.useState)({status:"",assignedTo:"",source:"",department:"",city:"",state:"",country:""}),[h,g]=(0,t.useState)(""),x=(0,t.useRef)(null),b=(0,t.useRef)({firstName:(0,t.useRef)(null),lastName:(0,t.useRef)(null),email:(0,t.useRef)(null),phone:(0,t.useRef)(null),mobile:(0,t.useRef)(null),jobTitle:(0,t.useRef)(null),department:(0,t.useRef)(null),address:(0,t.useRef)(null),city:(0,t.useRef)(null),state:(0,t.useRef)(null),zipCode:(0,t.useRef)(null),country:(0,t.useRef)(null),notes:(0,t.useRef)(null),status:(0,t.useRef)(null),source:(0,t.useRef)(null),assignedTo:(0,t.useRef)(null),tagInput:(0,t.useRef)(null)}),[y,v]=(0,t.useState)(!1),[w,j]=(0,t.useState)({status:"",assignedTo:"",source:"",department:"",city:"",state:"",country:""}),[N,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(!1),[E,P]=(0,t.useState)(!1),[T,R]=(0,t.useState)(null),[O,D]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",mobile:"",jobTitle:"",department:"",address:"",city:"",state:"",zipCode:"",country:"",notes:"",status:"active",source:"",tags:[],assignedTo:""}),[L,_]=(0,t.useState)(null),[A,z]=(0,t.useState)(!1),[M,I]=(0,t.useState)([]),[F,U]=(0,t.useState)({sources:[],departments:[],cities:[],states:[],countries:[]}),W=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{l(!0);const t=new URLSearchParams(c({page:e,limit:d.itemsPerPage,search:h},p)),n=await Yr.get("".concat(tl,"/api/contacts?").concat(t),{withCredentials:!0});s(n.data.contacts),m(n.data.pagination)}catch(i){console.error("Error loading contacts:",i),u("Failed to load contacts")}finally{l(!1)}},[p,h,d.itemsPerPage]),B=(0,t.useCallback)(async()=>{try{k(!0);const[e,t]=await Promise.all([Yr.get("".concat(tl,"/api/users"),{withCredentials:!0}),Yr.get("".concat(tl,"/api/contacts/filter-options"),{withCredentials:!0})]);I(e.data),U(t.data)}catch(i){console.error("Error loading dropdown data:",i)}finally{k(!1)}},[]);(0,t.useEffect)(()=>((async()=>{try{await Promise.all([W(),B()])}catch(i){console.error("Error initializing ContactsWidget:",i),u("Failed to initialize contacts widget")}})(),()=>{window.searchTimeout&&clearTimeout(window.searchTimeout)}),[W,B]);const H=(0,t.useCallback)(()=>{window.searchTimeout&&clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{var e;const t=(null===(e=x.current)||void 0===e?void 0:e.value)||"";g(t),W(1)},300)},[W]),q=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;j(e=>c(c({},e),{},{[t]:n}))},[]),V=(0,t.useCallback)(()=>{f(e=>c(c({},e),w)),v(!1),W(1)},[w,W]),K=(0,t.useCallback)(()=>{f({status:"",assignedTo:"",source:"",department:"",city:"",state:"",country:""}),j({status:"",assignedTo:"",source:"",department:"",city:"",state:"",country:""}),W(1)},[W]),$=((0,t.useCallback)(e=>{const{name:t,value:n}=e.target;D(e=>c(c({},e),{},{[t]:n}))},[]),(0,t.useCallback)(e=>{if("Enter"===e.key&&e.target.value.trim()){e.preventDefault();const t=e.target.value.trim();D(e=>c(c({},e),{},{tags:[...e.tags,t]})),e.target.value=""}},[])),Y=(0,t.useCallback)(e=>{D(t=>c(c({},t),{},{tags:t.tags.filter(t=>t!==e)}))},[]),G=(0,t.useCallback)(()=>{D({firstName:"",lastName:"",email:"",phone:"",mobile:"",jobTitle:"",department:"",address:"",city:"",state:"",zipCode:"",country:"",notes:"",status:"active",source:"",tags:[],companyId:"",assignedTo:""}),Object.values(b.current).forEach(e=>{e.current&&(e.current.value="")}),b.current.status.current&&(b.current.status.current.value="active"),b.current.assignedTo.current&&(b.current.assignedTo.current.value="")},[]),X=(0,t.useCallback)(()=>{G(),C(!0)},[G]),Q=(0,t.useCallback)(()=>{j({status:p.status||"",assignedTo:p.assignedTo||"",source:p.source||"",department:p.department||"",city:p.city||"",state:p.state||"",country:p.country||""}),v(!0)},[p]),J=(0,t.useCallback)(e=>{R(e),D({firstName:e.firstName,lastName:e.lastName,email:e.email||"",phone:e.phone||"",mobile:e.mobile||"",jobTitle:e.jobTitle||"",department:e.department||"",address:e.address||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",country:e.country||"",notes:e.notes||"",status:e.status||"active",source:e.source||"",tags:e.tags||[],assignedTo:e.assignedTo||""}),setTimeout(()=>{b.current.firstName.current&&(b.current.firstName.current.value=e.firstName),b.current.lastName.current&&(b.current.lastName.current.value=e.lastName),b.current.email.current&&(b.current.email.current.value=e.email||""),b.current.phone.current&&(b.current.phone.current.value=e.phone||""),b.current.mobile.current&&(b.current.mobile.current.value=e.mobile||""),b.current.jobTitle.current&&(b.current.jobTitle.current.value=e.jobTitle||""),b.current.department.current&&(b.current.department.current.value=e.department||""),b.current.address.current&&(b.current.address.current.value=e.address||""),b.current.city.current&&(b.current.city.current.value=e.city||""),b.current.state.current&&(b.current.state.current.value=e.state||""),b.current.zipCode.current&&(b.current.zipCode.current.value=e.zipCode||""),b.current.country.current&&(b.current.country.current.value=e.country||""),b.current.notes.current&&(b.current.notes.current.value=e.notes||""),b.current.status.current&&(b.current.status.current.value=e.status||"active"),b.current.source.current&&(b.current.source.current.value=e.source||""),b.current.assignedTo.current&&(b.current.assignedTo.current.value=e.assignedTo||"")},0),P(!0)},[]),Z=(0,t.useCallback)(async e=>{var t,n,r,a,s,o,l,c,u,m,p,f,h,g,x,y;e.preventDefault();const v={firstName:(null===(t=b.current.firstName.current)||void 0===t?void 0:t.value)||"",lastName:(null===(n=b.current.lastName.current)||void 0===n?void 0:n.value)||"",email:(null===(r=b.current.email.current)||void 0===r?void 0:r.value)||"",phone:(null===(a=b.current.phone.current)||void 0===a?void 0:a.value)||"",mobile:(null===(s=b.current.mobile.current)||void 0===s?void 0:s.value)||"",jobTitle:(null===(o=b.current.jobTitle.current)||void 0===o?void 0:o.value)||"",department:(null===(l=b.current.department.current)||void 0===l?void 0:l.value)||"",address:(null===(c=b.current.address.current)||void 0===c?void 0:c.value)||"",city:(null===(u=b.current.city.current)||void 0===u?void 0:u.value)||"",state:(null===(m=b.current.state.current)||void 0===m?void 0:m.value)||"",zipCode:(null===(p=b.current.zipCode.current)||void 0===p?void 0:p.value)||"",country:(null===(f=b.current.country.current)||void 0===f?void 0:f.value)||"",notes:(null===(h=b.current.notes.current)||void 0===h?void 0:h.value)||"",status:(null===(g=b.current.status.current)||void 0===g?void 0:g.value)||"active",source:(null===(x=b.current.source.current)||void 0===x?void 0:x.value)||"",tags:O.tags,assignedTo:(null===(y=b.current.assignedTo.current)||void 0===y?void 0:y.value)||""};try{E?(await Yr.put("".concat(tl,"/api/contacts/").concat(T.id),v,{withCredentials:!0}),P(!1)):(await Yr.post("".concat(tl,"/api/contacts"),v,{withCredentials:!0}),C(!1)),G(),W(d.currentPage)}catch(i){var w,j;console.error("Error saving contact:",i),alert((null===(w=i.response)||void 0===w||null===(j=w.data)||void 0===j?void 0:j.message)||"Failed to save contact")}},[E,T,O.tags,G,W,d.currentPage]),ee=(0,t.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this contact?"))try{const t=await Yr.delete("".concat(tl,"/api/contacts/").concat(e),{withCredentials:!0});_(t.data.deletedContact),z(!0),setTimeout(()=>{z(!1),_(null)},1e4),W(d.currentPage)}catch(i){console.error("Error deleting contact:",i),alert("Failed to delete contact")}},[W,d.currentPage]),te=(0,t.useCallback)(async()=>{try{await Yr.post("".concat(tl,"/api/contacts/").concat(L.id,"/undo"),{deletedContact:L},{withCredentials:!0}),z(!1),_(null),W(d.currentPage)}catch(i){console.error("Error undoing deletion:",i),alert("Failed to restore contact")}},[L,W,d.currentPage]),ne=(0,t.useCallback)(e=>{console.log("Start Lead for:",e)},[]),re=(0,t.useCallback)(e=>{console.log("Start Opportunity for:",e)},[]),ae=(0,t.useCallback)(e=>{console.log("Start Sale for:",e)},[]),se=e=>{let{isOpen:t,onClose:n}=e;return t?(0,aa.createPortal)((0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold",children:"Filter Contacts"}),(0,Gr.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,Gr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N?(0,Gr.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Gr.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading filter options..."})]}):(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Gr.jsxs)("select",{name:"status",value:w.status,onChange:q,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All Statuses"}),(0,Gr.jsx)("option",{value:"active",children:"Active"}),(0,Gr.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Gr.jsx)("option",{value:"prospect",children:"Prospect"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),(0,Gr.jsxs)("select",{name:"assignedTo",value:w.assignedTo,onChange:q,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All Users"}),Array.isArray(M)&&M.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),(0,Gr.jsxs)("select",{name:"source",value:w.source,onChange:q,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All Sources"}),Array.isArray(F.sources)&&F.sources.map((e,t)=>(0,Gr.jsxs)("option",{value:e.value,children:[e.value," (",e.count,")"]},t))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,Gr.jsxs)("select",{name:"department",value:w.department,onChange:q,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All Departments"}),Array.isArray(F.departments)&&F.departments.map((e,t)=>(0,Gr.jsxs)("option",{value:e.value,children:[e.value," (",e.count,")"]},t))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,Gr.jsxs)("select",{name:"city",value:w.city,onChange:q,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All Cities"}),Array.isArray(F.cities)&&F.cities.map((e,t)=>(0,Gr.jsxs)("option",{value:e.value,children:[e.value," (",e.count,")"]},t))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,Gr.jsxs)("select",{name:"state",value:w.state,onChange:q,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All States"}),Array.isArray(F.states)&&F.states.map((e,t)=>(0,Gr.jsxs)("option",{value:e.value,children:[e.value," (",e.count,")"]},t))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,Gr.jsxs)("select",{name:"country",value:w.country,onChange:q,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All Countries"}),Array.isArray(F.countries)&&F.countries.map((e,t)=>(0,Gr.jsxs)("option",{value:e.value,children:[e.value," (",e.count,")"]},t))]})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Gr.jsx)("button",{type:"button",onClick:K,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Clear All"}),(0,Gr.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"button",onClick:V,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Apply Filters"})]})]})]})}),document.body):null},oe=e=>{let{isOpen:t,onClose:n,title:r,onSubmit:a}=e;return t?(0,aa.createPortal)((0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold",children:r}),(0,Gr.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,Gr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gr.jsxs)("form",{onSubmit:a,className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"First Name *"}),(0,Gr.jsx)("input",{ref:b.current.firstName,type:"text",name:"firstName",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name *"}),(0,Gr.jsx)("input",{ref:b.current.lastName,type:"text",name:"lastName",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Gr.jsx)("input",{ref:b.current.email,type:"email",name:"email",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,Gr.jsx)("input",{ref:b.current.phone,type:"tel",name:"phone",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),(0,Gr.jsx)("input",{ref:b.current.mobile,type:"tel",name:"mobile",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Job Title"}),(0,Gr.jsx)("input",{ref:b.current.jobTitle,type:"text",name:"jobTitle",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,Gr.jsx)("input",{ref:b.current.department,type:"text",name:"department",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Gr.jsxs)("select",{ref:b.current.status,name:"status",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"active",children:"Active"}),(0,Gr.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Gr.jsx)("option",{value:"prospect",children:"Prospect"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,Gr.jsx)("input",{ref:b.current.source,type:"text",name:"source",placeholder:"e.g., Website, Referral, Trade Show",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,Gr.jsx)("textarea",{ref:b.current.address,name:"address",rows:"2",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,Gr.jsx)("input",{ref:b.current.city,type:"text",name:"city",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,Gr.jsx)("input",{ref:b.current.state,type:"text",name:"state",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),(0,Gr.jsx)("input",{ref:b.current.zipCode,type:"text",name:"zipCode",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,Gr.jsx)("input",{ref:b.current.country,type:"text",name:"country",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,Gr.jsxs)("select",{ref:b.current.assignedTo,name:"assignedTo",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"Select User"}),Array.isArray(M)&&M.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),(0,Gr.jsx)("input",{ref:b.current.tagInput,type:"text",placeholder:"Press Enter to add a tag",onKeyPress:$,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),O.tags.length>0&&(0,Gr.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:O.tags.map((e,t)=>(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e,(0,Gr.jsx)("button",{type:"button",onClick:()=>Y(e),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:(0,Gr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,Gr.jsx)("textarea",{ref:b.current.notes,name:"notes",rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Gr.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:E?"Update Contact":"Create Contact"})]})]})]})}),document.body):null};if(o)return(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:i}),(0,Gr.jsx)("button",{onClick:()=>W(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]});const le=Object.values(p).some(e=>e&&""!==e)||""!==h.trim();return(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Contacts"}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsxs)("button",{onClick:Q,className:"px-3 py-1 text-sm rounded flex items-center space-x-1 ".concat(le?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300"," hover:bg-gray-200"),children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),(0,Gr.jsx)("span",{children:"Filter"}),le&&(0,Gr.jsx)("span",{className:"bg-blue-600 text-white text-xs rounded-full px-1.5 py-0.5",children:Object.values(p).filter(e=>e&&""!==e).length+(h.trim()?1:0)})]}),(0,Gr.jsxs)("button",{onClick:X,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Gr.jsx)("span",{children:"Add"})]})]})]}),(0,Gr.jsx)("div",{className:"mb-4",children:(0,Gr.jsx)("input",{ref:x,type:"text",placeholder:"Search contacts...",onChange:H,onKeyDown:e=>{e.stopPropagation()},className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})}),le&&(0,Gr.jsx)("div",{className:"mb-4 p-2 bg-blue-50 border border-blue-200 rounded-md",children:(0,Gr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[h.trim()&&(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Search: ",h,(0,Gr.jsx)("button",{onClick:()=>{g(""),x.current&&(x.current.value=""),W(1)},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:(0,Gr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Object.entries(p).map(e=>{let[t,n]=e;if(n&&""!==n){const e=e=>({status:"Status",assignedTo:"Assigned To",source:"Source",department:"Department",city:"City",state:"State",country:"Country"}[e]||e),r=(e,t)=>{if("assignedTo"===e){const e=M.find(e=>e.id.toString()===t);return e?"".concat(e.firstName," ").concat(e.lastName):t}const n=((e,t)=>{const n=F[e+"s"];if(n&&Array.isArray(n)){const e=n.find(e=>e.value===t);return e?e.count:null}return null})(e,t);return n?"".concat(t," (").concat(n,")"):t};return(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e(t),": ",r(t,n),(0,Gr.jsx)("button",{onClick:()=>{f(e=>c(c({},e),{},{[t]:""})),j(e=>c(c({},e),{},{[t]:""})),W(1)},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:(0,Gr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t)}return null})]}),(0,Gr.jsx)("button",{onClick:K,className:"text-xs text-blue-600 hover:text-blue-800",children:"Clear All"})]})}),(0,Gr.jsxs)("div",{className:"overflow-x-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[(0,Gr.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,Gr.jsx)("thead",{className:"bg-gray-50",children:(0,Gr.jsxs)("tr",{children:[(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Contact"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Email"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phone"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Job Title"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Department"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Status"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Actions"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Manage"})]})}),(0,Gr.jsx)("tbody",{className:"divide-y divide-gray-200",children:Array.isArray(a)&&a.map(e=>(0,Gr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsxs)("div",{className:"flex items-center",children:[(0,Gr.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:(0,Gr.jsxs)("span",{className:"text-xs font-medium text-blue-600",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsxs)("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline",onClick:()=>n&&n(e.id),children:[e.firstName," ",e.lastName]}),(0,Gr.jsx)("div",{className:"text-xs text-gray-500",children:e.companyName||"No Company"})]})]})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.email||"-"}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.phone||e.mobile||"-"}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.jobTitle||"-"}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.department||"-"}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"inactive"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsxs)("div",{className:"flex space-x-1",children:[(0,Gr.jsx)("button",{onClick:()=>ne(e.id),className:"px-2 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors",title:"Start Lead",children:"Lead"}),(0,Gr.jsx)("button",{onClick:()=>re(e.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",title:"Start Opportunity",children:"Opp"}),(0,Gr.jsx)("button",{onClick:()=>ae(e.id),className:"px-2 py-1 text-xs bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",title:"Start Sale",children:"Sale"})]})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>J(e),className:"text-blue-600 hover:text-blue-900 text-xs font-medium",children:"Edit"}),(0,Gr.jsx)("button",{onClick:()=>ee(e.id),className:"text-red-600 hover:text-red-900 text-xs font-medium",children:"Delete"})]})})]},e.id))})]}),d.totalPages>1&&(0,Gr.jsxs)("div",{className:"mt-4 flex justify-between items-center px-4",children:[(0,Gr.jsxs)("div",{className:"text-xs text-gray-500",children:["Page ",d.currentPage," of ",d.totalPages]}),(0,Gr.jsxs)("div",{className:"flex space-x-1",children:[(0,Gr.jsx)("button",{onClick:()=>W(d.currentPage-1),disabled:1===d.currentPage,className:"px-2 py-1 text-xs border border-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Gr.jsx)("button",{onClick:()=>W(d.currentPage+1),disabled:d.currentPage===d.totalPages,className:"px-2 py-1 text-xs border border-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]}),(0,Gr.jsx)(se,{isOpen:y,onClose:()=>v(!1)},"filter-modal"),(0,Gr.jsx)(oe,{isOpen:S,onClose:()=>C(!1),title:"Add New Contact",onSubmit:Z},"add-modal"),(0,Gr.jsx)(oe,{isOpen:E,onClose:()=>P(!1),title:"Edit Contact",onSubmit:Z},"edit-modal"),A&&L&&(0,aa.createPortal)((0,Gr.jsxs)("div",{className:"fixed bottom-4 right-4 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 z-50",children:[(0,Gr.jsx)("span",{className:"text-sm",children:"Contact deleted"}),(0,Gr.jsx)("button",{onClick:te,className:"bg-white text-red-600 px-2 py-1 rounded text-xs font-medium hover:bg-gray-100",children:"Undo"}),(0,Gr.jsx)("button",{onClick:()=>z(!1),className:"text-white hover:text-gray-200",children:(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),document.body)]})},rl=["search"],al={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,sl=e=>{let{onOpenLeadProfile:n}=e;const{user:r}=(0,t.useContext)(Xr),[s,o]=(0,t.useState)([]),[l,i]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),[m,p]=(0,t.useState)({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[f,h]=(0,t.useState)({search:"",status:"",priority:"",assignedTo:"",source:"",company:""}),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)({status:"",priority:"",assignedTo:"",source:"",company:""}),[j,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[C,E]=(0,t.useState)(null),[P,T]=(0,t.useState)({title:"",description:"",status:"new",priority:"medium",estimatedValue:"",currency:"USD",source:"",expectedCloseDate:"",notes:"",assignedTo:"",companyId:"",contactId:""}),[R,O]=(0,t.useState)([]),[D,L]=(0,t.useState)([]),[_,A]=(0,t.useState)([]),z=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{i(!0);const t=new URLSearchParams(c({page:e,limit:m.itemsPerPage},f)),n=await Yr.get("".concat(al,"/api/leads?").concat(t),{withCredentials:!0});o(n.data.leads),p(n.data.pagination)}catch(u){console.error("Error loading leads:",u),d("Failed to load leads")}finally{i(!1)}},[f,m.itemsPerPage]),M=(0,t.useCallback)(async()=>{try{const[e,t,n]=await Promise.all([Yr.get("".concat(al,"/api/users"),{withCredentials:!0}),Yr.get("".concat(al,"/api/companies"),{withCredentials:!0}),Yr.get("".concat(al,"/api/contacts"),{withCredentials:!0})]);O(e.data),L(t.data),A(n.data)}catch(u){console.error("Error loading dropdown data:",u)}},[]);(0,t.useEffect)(()=>((async()=>{try{await Promise.all([z(),M()])}catch(u){console.error("Error initializing LeadsWidget:",u),d("Failed to initialize leads widget")}})(),()=>{window.searchTimeout&&clearTimeout(window.searchTimeout)}),[z,M]);const I=(0,t.useCallback)(e=>{g!==e&&(x(e),window.searchTimeout&&clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{h(t=>{const n=c(c({},t),{},{search:e});if(!e.trim()){const{search:e}=n;return a(n,rl)}return n}),z(1)},300))},[g,z]),F=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;w(e=>c(c({},e),{},{[t]:n}))},[]),U=(0,t.useCallback)(()=>{h(e=>c(c({},e),v)),y(!1),z(1)},[v,z]),W=(0,t.useCallback)(()=>{h({search:g,status:"",priority:"",assignedTo:"",source:"",company:""}),w({status:"",priority:"",assignedTo:"",source:"",company:""}),z(1)},[g,z]),B=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;T(e=>c(c({},e),{},{[t]:n}))},[]),H=(0,t.useCallback)(async e=>{e.preventDefault();try{C?await Yr.put("".concat(al,"/api/leads/").concat(C.id),P,{withCredentials:!0}):await Yr.post("".concat(al,"/api/leads"),P,{withCredentials:!0}),N(!1),S(!1),E(null),T({title:"",description:"",status:"new",priority:"medium",estimatedValue:"",currency:"USD",source:"",expectedCloseDate:"",notes:"",assignedTo:"",companyId:"",contactId:""}),z()}catch(u){console.error("Error saving lead:",u),alert("Failed to save lead")}},[C,P,z]),q=(0,t.useCallback)(e=>{E(e),T({title:e.title||"",description:e.description||"",status:e.status||"new",priority:e.priority||"medium",estimatedValue:e.estimatedValue||"",currency:e.currency||"USD",source:e.source||"",expectedCloseDate:e.expectedCloseDate?e.expectedCloseDate.split("T")[0]:"",notes:e.notes||"",assignedTo:e.assignedTo||"",companyId:e.companyId||"",contactId:e.contactId||""}),S(!0)},[]),V=(0,t.useCallback)(e=>{n&&n(e.id,e.title)},[n]),K=(0,t.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this lead?"))try{await Yr.delete("".concat(al,"/api/leads/").concat(e),{withCredentials:!0}),z()}catch(u){console.error("Error deleting lead:",u),alert("Failed to delete lead")}},[z]),$=(0,t.useCallback)(e=>({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"),[]),Y=(0,t.useCallback)(e=>({low:"bg-gray-100 text-gray-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"),[]),G=e=>{let{isOpen:t,onClose:n}=e;return t?(0,aa.createPortal)((0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Filter Leads"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Gr.jsxs)("select",{name:"status",value:v.status,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Statuses"}),(0,Gr.jsx)("option",{value:"new",children:"New"}),(0,Gr.jsx)("option",{value:"contacted",children:"Contacted"}),(0,Gr.jsx)("option",{value:"qualified",children:"Qualified"}),(0,Gr.jsx)("option",{value:"proposal",children:"Proposal"}),(0,Gr.jsx)("option",{value:"negotiation",children:"Negotiation"}),(0,Gr.jsx)("option",{value:"closed_won",children:"Closed Won"}),(0,Gr.jsx)("option",{value:"closed_lost",children:"Closed Lost"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),(0,Gr.jsxs)("select",{name:"priority",value:v.priority,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Priorities"}),(0,Gr.jsx)("option",{value:"low",children:"Low"}),(0,Gr.jsx)("option",{value:"medium",children:"Medium"}),(0,Gr.jsx)("option",{value:"high",children:"High"}),(0,Gr.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,Gr.jsxs)("select",{name:"assignedTo",value:v.assignedTo,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Users"}),Array.isArray(R)&&R.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.username},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,Gr.jsx)("input",{type:"text",name:"source",value:v.source,onChange:F,placeholder:"Enter source to filter",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),(0,Gr.jsxs)("select",{name:"company",value:v.company,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Companies"}),Array.isArray(D)&&D.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Gr.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Apply Filters"})]})]})}),document.body):null},X=e=>{let{isOpen:t,onClose:n,title:r,onSubmit:a}=e;return t?(0,aa.createPortal)((0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:r}),(0,Gr.jsxs)("form",{onSubmit:a,className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title *"}),(0,Gr.jsx)("input",{type:"text",name:"title",value:P.title,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Gr.jsxs)("select",{name:"status",value:P.status,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"new",children:"New"}),(0,Gr.jsx)("option",{value:"contacted",children:"Contacted"}),(0,Gr.jsx)("option",{value:"qualified",children:"Qualified"}),(0,Gr.jsx)("option",{value:"proposal",children:"Proposal"}),(0,Gr.jsx)("option",{value:"negotiation",children:"Negotiation"}),(0,Gr.jsx)("option",{value:"closed_won",children:"Closed Won"}),(0,Gr.jsx)("option",{value:"closed_lost",children:"Closed Lost"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),(0,Gr.jsxs)("select",{name:"priority",value:P.priority,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"low",children:"Low"}),(0,Gr.jsx)("option",{value:"medium",children:"Medium"}),(0,Gr.jsx)("option",{value:"high",children:"High"}),(0,Gr.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Estimated Value"}),(0,Gr.jsx)("input",{type:"number",name:"estimatedValue",value:P.estimatedValue,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",step:"0.01"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,Gr.jsxs)("select",{name:"currency",value:P.currency,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"USD",children:"USD"}),(0,Gr.jsx)("option",{value:"EUR",children:"EUR"}),(0,Gr.jsx)("option",{value:"GBP",children:"GBP"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Close Date"}),(0,Gr.jsx)("input",{type:"date",name:"expectedCloseDate",value:P.expectedCloseDate,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,Gr.jsx)("input",{type:"text",name:"source",value:P.source,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,Gr.jsxs)("select",{name:"assignedTo",value:P.assignedTo,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"Unassigned"}),Array.isArray(R)&&R.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.username},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),(0,Gr.jsxs)("select",{name:"companyId",value:P.companyId,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"No Company"}),Array.isArray(D)&&D.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Contact"}),(0,Gr.jsxs)("select",{name:"contactId",value:P.contactId,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"No Contact"}),Array.isArray(_)&&_.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Gr.jsx)("textarea",{name:"description",value:P.description,onChange:B,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,Gr.jsx)("textarea",{name:"notes",value:P.notes,onChange:B,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Gr.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:C?"Update Lead":"Create Lead"})]})]})]})}),document.body):null};return u?(0,Gr.jsx)("div",{className:"p-4 text-red-500 border border-red-200 rounded-lg bg-red-50",children:(0,Gr.jsxs)("div",{className:"font-medium",children:["Error: ",u]})}):(0,Gr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 h-full",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Leads"}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>y(!0),className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Filter"}),(0,Gr.jsx)("button",{onClick:()=>N(!0),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Lead"})]})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("div",{className:"flex space-x-2 mb-2",children:(0,Gr.jsx)("input",{type:"text",placeholder:"Search leads...",value:g,onChange:e=>I(e.target.value),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm"})}),Object.entries(f).some(e=>{let[t,n]=e;return n&&"search"!==t})&&(0,Gr.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[Object.entries(f).map(e=>{let[t,n]=e;return n&&"search"!==t?(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[t,": ",n,(0,Gr.jsx)("button",{onClick:()=>{h(e=>c(c({},e),{},{[t]:""})),z(1)},className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},t):null}),(0,Gr.jsx)("button",{onClick:W,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear All"})]})]}),l?(0,Gr.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,Gr.jsx)("div",{className:"overflow-x-auto",children:(0,Gr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gr.jsx)("thead",{className:"bg-gray-50",children:(0,Gr.jsxs)("tr",{children:[(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(s)&&s.map(e=>(0,Gr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gr.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap",children:[(0,Gr.jsx)("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600",onClick:()=>V(e),children:e.title}),(0,Gr.jsx)("div",{className:"text-sm text-gray-500",children:e.source})]}),(0,Gr.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat($(e.status)),children:e.status.replace("_"," ")})}),(0,Gr.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(Y(e.priority)),children:e.priority})}),(0,Gr.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.estimatedValue?"".concat(e.currency," ").concat(parseFloat(e.estimatedValue).toLocaleString()):"-"}),(0,Gr.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.assignedUser?e.assignedUser.username:"Unassigned"}),(0,Gr.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium",children:[(0,Gr.jsx)("button",{onClick:()=>q(e),className:"text-blue-600 hover:text-blue-900 mr-2",children:"Edit"}),(0,Gr.jsx)("button",{onClick:()=>K(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})}),m.totalPages>1&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,Gr.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(m.currentPage-1)*m.itemsPerPage+1," to"," ",Math.min(m.currentPage*m.itemsPerPage,m.totalItems)," of"," ",m.totalItems," results"]}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>z(m.currentPage-1),disabled:1===m.currentPage,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,Gr.jsx)("button",{onClick:()=>z(m.currentPage+1),disabled:m.currentPage===m.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]}),(0,Gr.jsx)(G,{isOpen:b,onClose:()=>y(!1)}),(0,Gr.jsx)(X,{isOpen:j,onClose:()=>N(!1),title:"Add New Lead",onSubmit:H}),(0,Gr.jsx)(X,{isOpen:k,onClose:()=>S(!1),title:"Edit Lead",onSubmit:H})]})},ol=["search"],ll={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,il=e=>{let{onOpenOpportunityProfile:n}=e;const{user:r}=(0,t.useContext)(Xr),[s,o]=(0,t.useState)([]),[l,i]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),[m,p]=(0,t.useState)({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[f,h]=(0,t.useState)({search:"",stage:"",probability:"",assignedTo:"",type:"",company:""}),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)({stage:"",probability:"",assignedTo:"",type:"",company:""}),[j,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[C,E]=(0,t.useState)(null),[P,T]=(0,t.useState)({name:"",description:"",stage:"prospecting",probability:10,amount:"",currency:"USD",expectedCloseDate:"",actualCloseDate:"",type:"",source:"",notes:"",assignedTo:"",companyId:"",contactId:""}),[R,O]=(0,t.useState)([]),[D,L]=(0,t.useState)([]),[_,A]=(0,t.useState)([]),z=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{i(!0);const t=new URLSearchParams(c({page:e,limit:m.itemsPerPage},f)),n=await Yr.get("".concat(ll,"/api/opportunities?").concat(t),{withCredentials:!0});o(n.data.opportunities),p(n.data.pagination)}catch(u){console.error("Error loading opportunities:",u),d("Failed to load opportunities")}finally{i(!1)}},[f,m.itemsPerPage]),M=(0,t.useCallback)(async()=>{try{const[e,t,n]=await Promise.all([Yr.get("".concat(ll,"/api/users"),{withCredentials:!0}),Yr.get("".concat(ll,"/api/companies"),{withCredentials:!0}),Yr.get("".concat(ll,"/api/contacts"),{withCredentials:!0})]);O(e.data),L(t.data),A(n.data)}catch(u){console.error("Error loading dropdown data:",u)}},[]);(0,t.useEffect)(()=>((async()=>{try{await Promise.all([z(),M()])}catch(u){console.error("Error initializing OpportunitiesWidget:",u),d("Failed to initialize opportunities widget")}})(),()=>{window.searchTimeout&&clearTimeout(window.searchTimeout)}),[z,M]);const I=(0,t.useCallback)(e=>{g!==e&&(x(e),window.searchTimeout&&clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{h(t=>{const n=c(c({},t),{},{search:e});if(!e.trim()){const{search:e}=n;return a(n,ol)}return n}),z(1)},300))},[g,z]),F=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;w(e=>c(c({},e),{},{[t]:n}))},[]),U=(0,t.useCallback)(()=>{h(e=>c(c({},e),v)),y(!1),z(1)},[v,z]),W=(0,t.useCallback)(()=>{h({search:g,stage:"",probability:"",assignedTo:"",type:"",company:""}),w({stage:"",probability:"",assignedTo:"",type:"",company:""}),z(1)},[g,z]),B=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;T(e=>c(c({},e),{},{[t]:n}))},[]),H=(0,t.useCallback)(async e=>{e.preventDefault();try{C?await Yr.put("".concat(ll,"/api/opportunities/").concat(C.id),P,{withCredentials:!0}):await Yr.post("".concat(ll,"/api/opportunities"),P,{withCredentials:!0}),N(!1),S(!1),E(null),T({name:"",description:"",stage:"prospecting",probability:10,amount:"",currency:"USD",expectedCloseDate:"",actualCloseDate:"",type:"",source:"",notes:"",assignedTo:"",companyId:"",contactId:""}),z()}catch(u){console.error("Error saving opportunity:",u),alert("Failed to save opportunity")}},[C,P,z]),q=(0,t.useCallback)(e=>{E(e),T({name:e.name||"",description:e.description||"",stage:e.stage||"prospecting",probability:e.probability||10,amount:e.amount||"",currency:e.currency||"USD",expectedCloseDate:e.expectedCloseDate?e.expectedCloseDate.split("T")[0]:"",actualCloseDate:e.actualCloseDate?e.actualCloseDate.split("T")[0]:"",type:e.type||"",source:e.source||"",notes:e.notes||"",assignedTo:e.assignedTo||"",companyId:e.companyId||"",contactId:e.contactId||""}),S(!0)},[]),V=(0,t.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this opportunity?"))try{await Yr.delete("".concat(ll,"/api/opportunities/").concat(e),{withCredentials:!0}),z()}catch(u){console.error("Error deleting opportunity:",u),alert("Failed to delete opportunity")}},[z]),K=(0,t.useCallback)(e=>({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"),[]),$=(0,t.useCallback)(e=>e>=80?"bg-green-100 text-green-800":e>=60?"bg-yellow-100 text-yellow-800":e>=40?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800",[]),Y=e=>{let{isOpen:t,onClose:n}=e;return t?(0,aa.createPortal)((0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Filter Opportunities"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Stage"}),(0,Gr.jsxs)("select",{name:"stage",value:v.stage,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Stages"}),(0,Gr.jsx)("option",{value:"prospecting",children:"Prospecting"}),(0,Gr.jsx)("option",{value:"qualification",children:"Qualification"}),(0,Gr.jsx)("option",{value:"proposal",children:"Proposal"}),(0,Gr.jsx)("option",{value:"negotiation",children:"Negotiation"}),(0,Gr.jsx)("option",{value:"closed_won",children:"Closed Won"}),(0,Gr.jsx)("option",{value:"closed_lost",children:"Closed Lost"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Probability"}),(0,Gr.jsxs)("select",{name:"probability",value:v.probability,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Probabilities"}),(0,Gr.jsx)("option",{value:"0-20",children:"0-20%"}),(0,Gr.jsx)("option",{value:"21-40",children:"21-40%"}),(0,Gr.jsx)("option",{value:"41-60",children:"41-60%"}),(0,Gr.jsx)("option",{value:"61-80",children:"61-80%"}),(0,Gr.jsx)("option",{value:"81-100",children:"81-100%"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,Gr.jsxs)("select",{name:"assignedTo",value:v.assignedTo,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Users"}),Array.isArray(R)&&R.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.username},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,Gr.jsx)("input",{type:"text",name:"type",value:v.type,onChange:F,placeholder:"Enter type to filter",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),(0,Gr.jsxs)("select",{name:"company",value:v.company,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Companies"}),Array.isArray(D)&&D.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Gr.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Apply Filters"})]})]})}),document.body):null},G=e=>{let{isOpen:t,onClose:n,title:r,onSubmit:a}=e;return t?(0,aa.createPortal)((0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:r}),(0,Gr.jsxs)("form",{onSubmit:a,className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),(0,Gr.jsx)("input",{type:"text",name:"name",value:P.name,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Stage"}),(0,Gr.jsxs)("select",{name:"stage",value:P.stage,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"prospecting",children:"Prospecting"}),(0,Gr.jsx)("option",{value:"qualification",children:"Qualification"}),(0,Gr.jsx)("option",{value:"proposal",children:"Proposal"}),(0,Gr.jsx)("option",{value:"negotiation",children:"Negotiation"}),(0,Gr.jsx)("option",{value:"closed_won",children:"Closed Won"}),(0,Gr.jsx)("option",{value:"closed_lost",children:"Closed Lost"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Probability (%)"}),(0,Gr.jsx)("input",{type:"number",name:"probability",value:P.probability,onChange:B,min:"0",max:"100",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,Gr.jsx)("input",{type:"number",name:"amount",value:P.amount,onChange:B,step:"0.01",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,Gr.jsxs)("select",{name:"currency",value:P.currency,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"USD",children:"USD"}),(0,Gr.jsx)("option",{value:"EUR",children:"EUR"}),(0,Gr.jsx)("option",{value:"GBP",children:"GBP"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Close Date"}),(0,Gr.jsx)("input",{type:"date",name:"expectedCloseDate",value:P.expectedCloseDate,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,Gr.jsx)("input",{type:"text",name:"type",value:P.type,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,Gr.jsx)("input",{type:"text",name:"source",value:P.source,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,Gr.jsxs)("select",{name:"assignedTo",value:P.assignedTo,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"Unassigned"}),Array.isArray(R)&&R.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.username},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),(0,Gr.jsxs)("select",{name:"companyId",value:P.companyId,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"No Company"}),Array.isArray(D)&&D.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Contact"}),(0,Gr.jsxs)("select",{name:"contactId",value:P.contactId,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"No Contact"}),Array.isArray(_)&&_.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Gr.jsx)("textarea",{name:"description",value:P.description,onChange:B,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,Gr.jsx)("textarea",{name:"notes",value:P.notes,onChange:B,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Gr.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:C?"Update Opportunity":"Create Opportunity"})]})]})]})}),document.body):null};return u?(0,Gr.jsx)("div",{className:"p-4 text-red-500 border border-red-200 rounded-lg bg-red-50",children:(0,Gr.jsxs)("div",{className:"font-medium",children:["Error: ",u]})}):(0,Gr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 h-full",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Opportunities"}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>y(!0),className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Filter"}),(0,Gr.jsx)("button",{onClick:()=>N(!0),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Opportunity"})]})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("div",{className:"flex space-x-2 mb-2",children:(0,Gr.jsx)("input",{type:"text",placeholder:"Search opportunities...",value:g,onChange:e=>I(e.target.value),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm"})}),Object.entries(f).some(e=>{let[t,n]=e;return n&&"search"!==t})&&(0,Gr.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[Object.entries(f).map(e=>{let[t,n]=e;return n&&"search"!==t?(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[t,": ",n,(0,Gr.jsx)("button",{onClick:()=>{h(e=>c(c({},e),{},{[t]:""})),z(1)},className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},t):null}),(0,Gr.jsx)("button",{onClick:W,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear All"})]})]}),l?(0,Gr.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,Gr.jsx)("div",{className:"overflow-x-auto",children:(0,Gr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gr.jsx)("thead",{className:"bg-gray-50",children:(0,Gr.jsxs)("tr",{children:[(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stage"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Probability"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),(0,Gr.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(s)&&s.map(e=>(0,Gr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gr.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap",children:[(0,Gr.jsx)("div",{className:"text-sm font-medium text-blue-600 hover:text-blue-800 cursor-pointer",onClick:()=>n&&n(e.id,e.name),children:e.name}),(0,Gr.jsx)("div",{className:"text-sm text-gray-500",children:e.type})]}),(0,Gr.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(K(e.stage)),children:e.stage.replace("_"," ")})}),(0,Gr.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Gr.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat($(e.probability)),children:[e.probability,"%"]})}),(0,Gr.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.amount?"".concat(e.currency," ").concat(parseFloat(e.amount).toLocaleString()):"-"}),(0,Gr.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.assignedUser?e.assignedUser.username:"Unassigned"}),(0,Gr.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium",children:[(0,Gr.jsx)("button",{onClick:()=>q(e),className:"text-blue-600 hover:text-blue-900 mr-2",children:"Edit"}),(0,Gr.jsx)("button",{onClick:()=>V(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})}),m.totalPages>1&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,Gr.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(m.currentPage-1)*m.itemsPerPage+1," to"," ",Math.min(m.currentPage*m.itemsPerPage,m.totalItems)," of"," ",m.totalItems," results"]}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>z(m.currentPage-1),disabled:1===m.currentPage,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,Gr.jsx)("button",{onClick:()=>z(m.currentPage+1),disabled:m.currentPage===m.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]}),(0,Gr.jsx)(Y,{isOpen:b,onClose:()=>y(!1)}),(0,Gr.jsx)(G,{isOpen:j,onClose:()=>N(!1),title:"Add New Opportunity",onSubmit:H}),(0,Gr.jsx)(G,{isOpen:k,onClose:()=>S(!1),title:"Edit Opportunity",onSubmit:H})]})},cl=["search"],ul={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,dl=e=>{let{onOpenBusinessProfile:n}=e;const{user:r}=(0,t.useContext)(Xr),[s,o]=(0,t.useState)([]),[l,i]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),[m,p]=(0,t.useState)({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[f,h]=(0,t.useState)({search:"",industry:"",size:"",status:""}),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)(null),[C,E]=(0,t.useState)({}),[P,T]=(0,t.useState)({name:"",industry:"",size:"",website:"",phoneNumber:"",email:"",address:"",city:"",state:"",zipCode:"",country:"",description:"",status:"active"}),[R,O]=(0,t.useState)({industries:[],sizes:[],statuses:[]}),D=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{i(!0);const t=new URLSearchParams(c({page:e,limit:m.itemsPerPage},f)),n=await Yr.get("".concat(ul,"/api/businesses?").concat(t),{withCredentials:!0});o(n.data.businesses),p(n.data.pagination)}catch(u){console.error("Error loading data:",u),d("Failed to load data")}finally{i(!1)}},[f,m.itemsPerPage]),L=(0,t.useCallback)(async()=>{try{const e=await Yr.get("".concat(ul,"/api/businesses/filter-options"),{withCredentials:!0});O(e.data)}catch(u){console.error("Error loading dropdown data:",u)}},[]);(0,t.useEffect)(()=>((async()=>{try{await Promise.all([D(),L()])}catch(u){console.error("Error initializing widget:",u),d("Failed to initialize widget")}})(),()=>{window.searchTimeout&&clearTimeout(window.searchTimeout)}),[D,L]);const _=(0,t.useCallback)(e=>{g!==e&&(x(e),window.searchTimeout&&clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{h(t=>{const n=c(c({},t),{},{search:e});if(!e.trim()){const{search:e}=n;return a(n,cl)}return n}),D(1)},300))},[g,D]),A=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;E(e=>c(c({},e),{},{[t]:n}))},[]),z=(0,t.useCallback)(()=>{h(e=>c(c({},e),C)),y(!1),D(1)},[C,D]),M=(0,t.useCallback)(()=>{h({search:g}),E({}),D(1)},[g,D]),I=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;T(e=>c(c({},e),{},{[t]:n}))},[]),F=(0,t.useCallback)(()=>{T({name:"",industry:"",size:"",website:"",phoneNumber:"",email:"",address:"",city:"",state:"",zipCode:"",country:"",description:"",status:"active"})},[]),U=(0,t.useCallback)(()=>{F(),w(!0)},[F]),W=(0,t.useCallback)(()=>{E(f),y(!0)},[f]),B=(0,t.useCallback)(e=>{S(e),T({name:e.name||"",industry:e.industry||"",size:e.size||"",website:e.website||"",phoneNumber:e.phoneNumber||"",email:e.email||"",address:e.address||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",country:e.country||"",description:e.description||"",status:e.status||"active"}),N(!0)},[]),H=(0,t.useCallback)(async e=>{e.preventDefault();try{j?(await Yr.put("".concat(ul,"/api/businesses/").concat(k.id),P,{withCredentials:!0}),N(!1)):(await Yr.post("".concat(ul,"/api/businesses"),P,{withCredentials:!0}),w(!1)),F(),D(m.currentPage)}catch(u){var t,n;console.error("Error saving item:",u),alert((null===(t=u.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to save item")}},[j,k,P,F,D,m.currentPage]),q=(0,t.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this business?"))try{await Yr.delete("".concat(ul,"/api/businesses/").concat(e),{withCredentials:!0}),D(m.currentPage)}catch(u){console.error("Error deleting item:",u),alert("Failed to delete item")}},[D,m.currentPage]);if(l)return(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(u)return(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:u}),(0,Gr.jsx)("button",{onClick:()=>D(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]});const V=Object.values(f).some(e=>e&&""!==e);return(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Businesses"}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsxs)("button",{onClick:W,className:"px-3 py-1 text-sm rounded flex items-center space-x-1 ".concat(V?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300"," hover:bg-gray-200"),children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),(0,Gr.jsx)("span",{children:"Filter"}),V&&(0,Gr.jsx)("span",{className:"bg-blue-600 text-white text-xs rounded-full px-1.5 py-0.5",children:Object.values(f).filter(e=>e&&""!==e).length})]}),(0,Gr.jsxs)("button",{onClick:U,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Gr.jsx)("span",{children:"Add"})]})]})]}),(0,Gr.jsx)("div",{className:"mb-4",children:(0,Gr.jsx)("input",{type:"text",placeholder:"Search businesses...",value:g,onChange:e=>_(e.target.value),onKeyDown:e=>e.stopPropagation(),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})}),V&&(0,Gr.jsx)("div",{className:"mb-4 p-2 bg-blue-50 border border-blue-200 rounded-md",children:(0,Gr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gr.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(f).map(e=>{let[t,n]=e;if(n&&""!==n&&"search"!==t){const e=e=>({industry:"Industry",size:"Size",status:"Status"}[e]||e);return(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e(t),": ",n,(0,Gr.jsx)("button",{onClick:()=>{h(e=>c(c({},e),{},{[t]:""})),E(e=>c(c({},e),{},{[t]:""})),D(1)},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:(0,Gr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t)}return null})}),(0,Gr.jsx)("button",{onClick:M,className:"text-xs text-blue-600 hover:text-blue-800",children:"Clear All"})]})}),(0,Gr.jsxs)("div",{className:"overflow-x-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[(0,Gr.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,Gr.jsx)("thead",{className:"bg-gray-50",children:(0,Gr.jsxs)("tr",{children:[(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Business"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Industry"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Size"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Status"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Contact"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Actions"})]})}),(0,Gr.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map(e=>(0,Gr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsxs)("div",{className:"flex items-center",children:[(0,Gr.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:(0,Gr.jsx)("span",{className:"text-xs font-medium text-blue-600",children:e.name.charAt(0)})}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600",onClick:()=>n&&n(e.id,e.name),children:e.name}),(0,Gr.jsx)("div",{className:"text-xs text-gray-500",children:e.website||"No Website"})]})]})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.industry||"-"}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.size||"-"}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"inactive"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,Gr.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:[(0,Gr.jsx)("div",{children:e.phoneNumber||"-"}),(0,Gr.jsx)("div",{className:"text-xs text-gray-500",children:e.email||"-"})]}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>B(e),className:"text-blue-600 hover:text-blue-900 text-xs font-medium",children:"Edit"}),(0,Gr.jsx)("button",{onClick:()=>q(e.id),className:"text-red-600 hover:text-red-900 text-xs font-medium",children:"Delete"})]})})]},e.id))})]}),m.totalPages>1&&(0,Gr.jsxs)("div",{className:"mt-4 flex justify-between items-center px-4",children:[(0,Gr.jsxs)("div",{className:"text-xs text-gray-500",children:["Page ",m.currentPage," of ",m.totalPages]}),(0,Gr.jsxs)("div",{className:"flex space-x-1",children:[(0,Gr.jsx)("button",{onClick:()=>D(m.currentPage-1),disabled:1===m.currentPage,className:"px-2 py-1 text-xs border border-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Gr.jsx)("button",{onClick:()=>D(m.currentPage+1),disabled:m.currentPage===m.totalPages,className:"px-2 py-1 text-xs border border-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]}),b&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Filter Businesses"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Industry"}),(0,Gr.jsxs)("select",{name:"industry",value:C.industry||"",onChange:A,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Industries"}),R.industries.map(e=>(0,Gr.jsx)("option",{value:e,children:e},e))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),(0,Gr.jsxs)("select",{name:"size",value:C.size||"",onChange:A,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Sizes"}),R.sizes.map(e=>(0,Gr.jsxs)("option",{value:e,children:[e," employees"]},e))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Gr.jsxs)("select",{name:"status",value:C.status||"",onChange:A,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Statuses"}),R.statuses.map(e=>(0,Gr.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Gr.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{onClick:z,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Apply Filters"})]})]})}),(v||j)&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:j?"Edit Business":"Add New Business"}),(0,Gr.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name *"}),(0,Gr.jsx)("input",{type:"text",name:"name",value:P.name,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Industry"}),(0,Gr.jsxs)("select",{name:"industry",value:P.industry,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"Select Industry"}),R.industries.map(e=>(0,Gr.jsx)("option",{value:e,children:e},e))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),(0,Gr.jsxs)("select",{name:"size",value:P.size,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"Select Size"}),R.sizes.map(e=>(0,Gr.jsxs)("option",{value:e,children:[e," employees"]},e))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,Gr.jsx)("input",{type:"url",name:"website",value:P.website,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,Gr.jsx)("input",{type:"tel",name:"phoneNumber",value:P.phoneNumber,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Gr.jsx)("input",{type:"email",name:"email",value:P.email,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Gr.jsx)("select",{name:"status",value:P.status,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:R.statuses.map(e=>(0,Gr.jsx)("option",{value:e,children:e},e))})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,Gr.jsx)("input",{type:"text",name:"country",value:P.country,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,Gr.jsx)("input",{type:"text",name:"address",value:P.address,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,Gr.jsx)("input",{type:"text",name:"city",value:P.city,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,Gr.jsx)("input",{type:"text",name:"state",value:P.state,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),(0,Gr.jsx)("input",{type:"text",name:"zipCode",value:P.zipCode,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Gr.jsx)("textarea",{name:"description",value:P.description,onChange:I,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>{w(!1),N(!1)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:j?"Update Business":"Create Business"})]})]})]})})]})},ml={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,pl=e=>{let{businessId:n}=e;const{user:r}=(0,t.useContext)(Xr),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[i,u]=(0,t.useState)(null),[d,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[h,g]=(0,t.useState)({}),[x,b]=(0,t.useState)({industries:[],sizes:[],statuses:[]}),[y,v]=(0,t.useState)({}),w=(0,t.useCallback)(async()=>{if(n)try{l(!0),u(null);const e=await Yr.get("".concat(ml,"/api/businesses/").concat(n),{withCredentials:!0});s(e.data)}catch(i){console.error("Error loading business:",i),u("Failed to load business details")}finally{l(!1)}},[n]),j=(0,t.useCallback)(async()=>{try{const e=await Yr.get("".concat(ml,"/api/businesses/filter-options"),{withCredentials:!0});b(e.data)}catch(i){console.error("Error loading additional data:",i)}},[]);(0,t.useEffect)(()=>{(async()=>{try{await Promise.all([w(),j()])}catch(i){console.error("Error initializing BusinessProfileWidget:",i),u("Failed to initialize business profile widget")}})()},[w,j]);const N=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;g(e=>c(c({},e),{},{[t]:n}))},[]),k=(0,t.useCallback)(()=>{a&&(f(a),g({name:a.name,industry:a.industry||"",size:a.size||"",website:a.website||"",phoneNumber:a.phoneNumber||"",email:a.email||"",address:a.address||"",city:a.city||"",state:a.state||"",zipCode:a.zipCode||"",country:a.country||"",description:a.description||"",status:a.status||"active"}),m(!0))},[a]),S=(0,t.useCallback)(async e=>{e.preventDefault();try{await Yr.put("".concat(ml,"/api/businesses/").concat(n),h,{withCredentials:!0}),m(!1),w()}catch(i){var t,r;console.error("Error updating business:",i),alert((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update business")}},[n,h,w]),C=(0,t.useCallback)(async()=>{if(window.confirm("Are you sure you want to delete this business?"))try{await Yr.delete("".concat(ml,"/api/businesses/").concat(n),{withCredentials:!0}),alert("Business deleted successfully")}catch(i){console.error("Error deleting business:",i),alert("Failed to delete business")}},[n]);if(o)return(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:i}),(0,Gr.jsx)("button",{onClick:()=>w(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]});if(!a)return(0,Gr.jsx)("div",{className:"text-center py-8",children:(0,Gr.jsx)("div",{className:"text-gray-600 text-sm",children:"Business not found"})});const E=()=>a.name||"Unknown Business";return(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gr.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Gr.jsx)("span",{className:"text-xl font-bold text-blue-600",children:E().charAt(0)})}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:E()}),(0,Gr.jsx)("p",{className:"text-sm text-gray-500",children:a.industry||"No industry"})]})]}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsxs)("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,Gr.jsx)("span",{children:"Edit"})]}),(0,Gr.jsxs)("button",{onClick:C,className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Gr.jsx)("span",{children:"Delete"})]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[a.status&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Status"}),(P=a.status,(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat({active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"}[P]||"bg-gray-100 text-gray-800"),children:P}))]}),a.industry&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Industry"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:a.industry})]}),a.size&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Size"}),(0,Gr.jsxs)("span",{className:"text-sm text-gray-900",children:[a.size," employees"]})]}),a.website&&(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Website"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:(0,Gr.jsx)("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:a.website})})]})]})]}),(a.email||a.phoneNumber)&&(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Details"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[a.email&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(0,Gr.jsx)("a",{href:"mailto:".concat(a.email),className:"text-blue-600 hover:text-blue-800",children:a.email})})]}),a.phoneNumber&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(0,Gr.jsx)("a",{href:"tel:".concat(a.phoneNumber),className:"text-blue-600 hover:text-blue-800",children:a.phoneNumber})})]})]})]}),(a.address||a.city||a.state||a.country)&&(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address"}),(0,Gr.jsxs)("div",{className:"space-y-2",children:[a.address&&(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:a.address}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:[a.city,a.state,a.zipCode].filter(Boolean).join(", ")}),a.country&&(0,Gr.jsx)("p",{className:"text-sm text-gray-900",children:a.country})]})]})]}),a.description&&(0,Gr.jsxs)("div",{className:"mt-6 bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),(0,Gr.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:a.description})]}),d&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold",children:"Edit Business"}),(0,Gr.jsx)("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Gr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gr.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name *"}),(0,Gr.jsx)("input",{type:"text",name:"name",value:h.name,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Industry"}),(0,Gr.jsxs)("select",{name:"industry",value:h.industry,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"Select Industry"}),x.industries.map(e=>(0,Gr.jsx)("option",{value:e,children:e},e))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),(0,Gr.jsxs)("select",{name:"size",value:h.size,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"Select Size"}),x.sizes.map(e=>(0,Gr.jsxs)("option",{value:e,children:[e," employees"]},e))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Gr.jsx)("select",{name:"status",value:h.status,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:x.statuses.map(e=>(0,Gr.jsx)("option",{value:e,children:e},e))})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,Gr.jsx)("input",{type:"url",name:"website",value:h.website,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,Gr.jsx)("input",{type:"tel",name:"phoneNumber",value:h.phoneNumber,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Gr.jsx)("input",{type:"email",name:"email",value:h.email,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,Gr.jsx)("input",{type:"text",name:"country",value:h.country,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,Gr.jsx)("input",{type:"text",name:"address",value:h.address,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,Gr.jsx)("input",{type:"text",name:"city",value:h.city,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,Gr.jsx)("input",{type:"text",name:"state",value:h.state,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),(0,Gr.jsx)("input",{type:"text",name:"zipCode",value:h.zipCode,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Gr.jsx)("textarea",{name:"description",value:h.description,onChange:N,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Update Business"})]})]})]})})]});var P},fl=["search"],hl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,gl=e=>{let{onOpenUserProfile:n}=e;const{user:r}=(0,t.useContext)(Xr),[s,o]=(0,t.useState)([]),[l,i]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),[m,p]=(0,t.useState)({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[f,h]=(0,t.useState)({search:"",role:""}),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[C,E]=(0,t.useState)(null),[P,T]=(0,t.useState)({}),[R,O]=(0,t.useState)({username:"",email:"",password:"",role:"Sales Representative"}),[D,L]=(0,t.useState)({email:"",role:"Sales Representative"}),[_,A]=(0,t.useState)(null),z=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{i(!0);const t=new URLSearchParams(c({page:e,limit:m.itemsPerPage},f)),n=await Yr.get("".concat(hl,"/api/users?").concat(t),{withCredentials:!0});o(n.data.users),p(n.data.pagination)}catch(u){var t;console.error("Error loading data:",u),403===(null===(t=u.response)||void 0===t?void 0:t.status)?d("Access denied. Admin role required."):d("Failed to load data")}finally{i(!1)}},[f,m.itemsPerPage]);(0,t.useEffect)(()=>((async()=>{try{await z()}catch(u){console.error("Error initializing widget:",u),d("Failed to initialize widget")}})(),()=>{window.searchTimeout&&clearTimeout(window.searchTimeout)}),[z]);const M=(0,t.useCallback)(e=>{g!==e&&(x(e),window.searchTimeout&&clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{h(t=>{const n=c(c({},t),{},{search:e});if(!e.trim()){const{search:e}=n;return a(n,fl)}return n}),z(1)},300))},[g,z]),I=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;T(e=>c(c({},e),{},{[t]:n}))},[]),F=(0,t.useCallback)(()=>{h(e=>c(c({},e),P)),y(!1),z(1)},[P,z]),U=(0,t.useCallback)(()=>{h({search:g}),T({}),z(1)},[g,z]),W=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;O(e=>c(c({},e),{},{[t]:n}))},[]),B=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;L(e=>c(c({},e),{},{[t]:n}))},[]),H=(0,t.useCallback)(()=>{O({username:"",email:"",password:"",role:"Sales Representative"})},[]),q=(0,t.useCallback)(()=>{H(),w(!0)},[H]),V=(0,t.useCallback)(()=>{L({email:"",role:"Sales Representative"}),A(null),S(!0)},[]),K=(0,t.useCallback)(()=>{T(f),y(!0)},[f]),$=(0,t.useCallback)(e=>{E(e),O({username:e.username||"",email:e.email||"",password:"",role:e.role||"Sales Representative"}),N(!0)},[]),Y=(0,t.useCallback)(async e=>{e.preventDefault();try{if(j){const e=c({},R);e.password||delete e.password,await Yr.put("".concat(hl,"/api/users/").concat(C.id),e,{withCredentials:!0}),N(!1)}else await Yr.post("".concat(hl,"/api/users"),R,{withCredentials:!0}),w(!1);H(),z(m.currentPage)}catch(u){var t,n;console.error("Error saving item:",u),alert((null===(t=u.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to save item")}},[j,C,R,H,z,m.currentPage]),G=(0,t.useCallback)(async e=>{e.preventDefault();try{const e=await Yr.post("".concat(hl,"/api/invitations"),D,{withCredentials:!0});A(e.data.invitation)}catch(u){var t,n;console.error("Error generating invitation:",u),alert((null===(t=u.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to generate invitation")}},[D]),X=(0,t.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await Yr.delete("".concat(hl,"/api/users/").concat(e),{withCredentials:!0}),z(m.currentPage)}catch(u){var t,n;console.error("Error deleting item:",u),alert((null===(t=u.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete item")}},[z,m.currentPage]),Q=(0,t.useCallback)(e=>({Administrator:"bg-red-100 text-red-800","Sales Manager":"bg-blue-100 text-blue-800","Sales Representative":"bg-green-100 text-green-800","Marketing Manager":"bg-purple-100 text-purple-800","Support Representative":"bg-yellow-100 text-yellow-800"}[e]||"bg-gray-100 text-gray-800"),[]);if("Administrator"!==r.role)return(0,Gr.jsx)("div",{className:"text-center py-8",children:(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:"Access denied. Admin role required."})});if(l)return(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(u)return(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:u}),(0,Gr.jsx)("button",{onClick:()=>z(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]});const J=Object.values(f).some(e=>e&&""!==e);return(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Users"}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsxs)("button",{onClick:K,className:"px-3 py-1 text-sm rounded flex items-center space-x-1 ".concat(J?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300"," hover:bg-gray-200"),children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),(0,Gr.jsx)("span",{children:"Filter"}),J&&(0,Gr.jsx)("span",{className:"bg-blue-600 text-white text-xs rounded-full px-1.5 py-0.5",children:Object.values(f).filter(e=>e&&""!==e).length})]}),(0,Gr.jsxs)("button",{onClick:V,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 flex items-center space-x-1 mr-2",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,Gr.jsx)("span",{children:"Invite"})]}),(0,Gr.jsxs)("button",{onClick:q,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Gr.jsx)("span",{children:"Add"})]})]})]}),(0,Gr.jsx)("div",{className:"mb-4",children:(0,Gr.jsx)("input",{type:"text",placeholder:"Search users...",value:g,onChange:e=>M(e.target.value),onKeyDown:e=>e.stopPropagation(),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})}),J&&(0,Gr.jsx)("div",{className:"mb-4 p-2 bg-blue-50 border border-blue-200 rounded-md",children:(0,Gr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gr.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(f).map(e=>{let[t,n]=e;if(n&&""!==n&&"search"!==t){const e=e=>({role:"Role"}[e]||e);return(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e(t),": ",n,(0,Gr.jsx)("button",{onClick:()=>{h(e=>c(c({},e),{},{[t]:""})),T(e=>c(c({},e),{},{[t]:""})),z(1)},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:(0,Gr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t)}return null})}),(0,Gr.jsx)("button",{onClick:U,className:"text-xs text-blue-600 hover:text-blue-800",children:"Clear All"})]})}),(0,Gr.jsxs)("div",{className:"overflow-x-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[(0,Gr.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,Gr.jsx)("thead",{className:"bg-gray-50",children:(0,Gr.jsxs)("tr",{children:[(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"User"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Role"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Company"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Actions"})]})}),(0,Gr.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map(e=>(0,Gr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsxs)("div",{className:"flex items-center",children:[(0,Gr.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Gr.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center",children:(0,Gr.jsx)("span",{className:"text-sm font-medium text-white",children:e.username.charAt(0).toUpperCase()})})}),(0,Gr.jsxs)("div",{className:"ml-4",children:[(0,Gr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.username}),(0,Gr.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]})]})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(Q(e.role)),children:e.role})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.Company?e.Company.name:"No Company"}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>n&&n(e.id,e.username),className:"text-green-600 hover:text-green-900 text-xs font-medium",children:"View Profile"}),(0,Gr.jsx)("button",{onClick:()=>$(e),className:"text-blue-600 hover:text-blue-900 text-xs font-medium",children:"Edit"}),(0,Gr.jsx)("button",{onClick:()=>X(e.id),className:"text-red-600 hover:text-red-900 text-xs font-medium",children:"Delete"})]})})]},e.id))})]}),m.totalPages>1&&(0,Gr.jsxs)("div",{className:"mt-4 flex justify-between items-center px-4",children:[(0,Gr.jsxs)("div",{className:"text-xs text-gray-500",children:["Page ",m.currentPage," of ",m.totalPages]}),(0,Gr.jsxs)("div",{className:"flex space-x-1",children:[(0,Gr.jsx)("button",{onClick:()=>z(m.currentPage-1),disabled:1===m.currentPage,className:"px-2 py-1 text-xs border border-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Gr.jsx)("button",{onClick:()=>z(m.currentPage+1),disabled:m.currentPage===m.totalPages,className:"px-2 py-1 text-xs border border-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]}),b&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Filter Users"}),(0,Gr.jsx)("div",{className:"space-y-4",children:(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,Gr.jsxs)("select",{name:"role",value:P.role||"",onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"",children:"All Roles"}),(0,Gr.jsx)("option",{value:"Sales Representative",children:"Sales Representative"}),(0,Gr.jsx)("option",{value:"Sales Manager",children:"Sales Manager"}),(0,Gr.jsx)("option",{value:"Marketing Manager",children:"Marketing Manager"}),(0,Gr.jsx)("option",{value:"Support Representative",children:"Support Representative"}),(0,Gr.jsx)("option",{value:"Administrator",children:"Administrator"})]})]})}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Gr.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Apply Filters"})]})]})}),(v||j)&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:j?"Edit User":"Add New User"}),(0,Gr.jsxs)("form",{onSubmit:Y,className:"space-y-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username *"}),(0,Gr.jsx)("input",{type:"text",name:"username",value:R.username,onChange:W,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),(0,Gr.jsx)("input",{type:"email",name:"email",value:R.email,onChange:W,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:j?"Password (leave blank to keep current)":"Password *"}),(0,Gr.jsx)("input",{type:"password",name:"password",value:R.password,onChange:W,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!j})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,Gr.jsxs)("select",{name:"role",value:R.role,onChange:W,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"Sales Representative",children:"Sales Representative"}),(0,Gr.jsx)("option",{value:"Sales Manager",children:"Sales Manager"}),(0,Gr.jsx)("option",{value:"Marketing Manager",children:"Marketing Manager"}),(0,Gr.jsx)("option",{value:"Support Representative",children:"Support Representative"}),(0,Gr.jsx)("option",{value:"Administrator",children:"Administrator"})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>{w(!1),N(!1)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:j?"Update User":"Create User"})]})]})]})}),k&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Invite New User"}),_?(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-md",children:[(0,Gr.jsx)("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Invitation Generated Successfully!"}),(0,Gr.jsxs)("p",{className:"text-sm text-green-700 mb-3",children:["Send this link to ",(0,Gr.jsx)("strong",{children:_.email})," to complete their registration."]}),(0,Gr.jsxs)("div",{className:"bg-white p-3 border border-green-300 rounded",children:[(0,Gr.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Invitation URL:"}),(0,Gr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gr.jsx)("input",{type:"text",value:_.invitationUrl,readOnly:!0,className:"flex-1 text-xs p-2 border border-gray-300 rounded bg-gray-50"}),(0,Gr.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(_.invitationUrl),alert("URL copied to clipboard!")},className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Copy"})]})]}),(0,Gr.jsxs)("p",{className:"text-xs text-green-600 mt-2",children:["Expires: ",new Date(_.expiresAt).toLocaleDateString()]})]}),(0,Gr.jsx)("div",{className:"flex justify-end space-x-3",children:(0,Gr.jsx)("button",{onClick:()=>{S(!1),A(null)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Done"})})]}):(0,Gr.jsxs)("form",{onSubmit:G,className:"space-y-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),(0,Gr.jsx)("input",{type:"email",name:"email",value:D.email,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,Gr.jsxs)("select",{name:"role",value:D.role,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"Sales Representative",children:"Sales Representative"}),(0,Gr.jsx)("option",{value:"Sales Manager",children:"Sales Manager"}),(0,Gr.jsx)("option",{value:"Marketing Manager",children:"Marketing Manager"}),(0,Gr.jsx)("option",{value:"Support Representative",children:"Support Representative"}),(0,Gr.jsx)("option",{value:"Administrator",children:"Administrator"})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Generate Invitation"})]})]})]})})]})},xl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,bl=e=>{let{userId:n}=e;const{user:r}=(0,t.useContext)(Xr),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[i,u]=(0,t.useState)(null),[d,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[h,g]=(0,t.useState)({}),[x,b]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),w=(0,t.useCallback)(async()=>{if(n)try{l(!0),u(null);const e=await Yr.get("".concat(xl,"/api/users/").concat(n),{withCredentials:!0});s(e.data)}catch(i){var e,t;console.error("Error loading user:",i),403===(null===(e=i.response)||void 0===e?void 0:e.status)?u("Access denied. Admin role required."):404===(null===(t=i.response)||void 0===t?void 0:t.status)?u("User not found"):u("Failed to load user details")}finally{l(!1)}},[n]),j=(0,t.useCallback)(async()=>{try{await Promise.all([])}catch(i){console.error("Error loading additional data:",i)}},[]);(0,t.useEffect)(()=>{(async()=>{try{await Promise.all([w(),j()])}catch(i){console.error("Error initializing UserProfileWidget:",i),u("Failed to initialize user profile widget")}})()},[w,j]);const N=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;g(e=>c(c({},e),{},{[t]:n}))},[]),k=(0,t.useCallback)(()=>{a&&(f(a),g({username:a.username||"",email:a.email||"",role:a.role||"Sales Representative"}),m(!0))},[a]),S=(0,t.useCallback)(async e=>{e.preventDefault();try{await Yr.put("".concat(xl,"/api/users/").concat(n),h,{withCredentials:!0}),m(!1),w()}catch(i){var t,r;console.error("Error updating user:",i),alert((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update user")}},[n,h,w]),C=(0,t.useCallback)(async()=>{if(window.confirm("Are you sure you want to delete this user?"))try{await Yr.delete("".concat(xl,"/api/users/").concat(n),{withCredentials:!0}),alert("User deleted successfully")}catch(i){console.error("Error deleting user:",i),alert("Failed to delete user")}},[n]);if(o)return(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:i}),(0,Gr.jsx)("button",{onClick:()=>w(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]});if(!a)return(0,Gr.jsx)("div",{className:"text-center py-8",children:(0,Gr.jsx)("div",{className:"text-gray-600 text-sm",children:"User not found"})});const E=()=>a.username||a.email||"Unknown User";return(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gr.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Gr.jsx)("span",{className:"text-xl font-bold text-blue-600",children:E().charAt(0).toUpperCase()})}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:E()}),(0,Gr.jsx)("p",{className:"text-gray-600",children:a.email})]})]}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsxs)("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,Gr.jsx)("span",{children:"Edit"})]}),(0,Gr.jsxs)("button",{onClick:C,className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Gr.jsx)("span",{children:"Delete"})]})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Username"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:a.username})]}),(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:(0,Gr.jsx)("a",{href:"mailto:".concat(a.email),className:"text-blue-600 hover:text-blue-800",children:a.email})})]}),(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((P=a.role,{Administrator:"bg-red-100 text-red-800","Sales Manager":"bg-blue-100 text-blue-800","Sales Representative":"bg-green-100 text-green-800","Marketing Manager":"bg-purple-100 text-purple-800","Support Representative":"bg-yellow-100 text-yellow-800"}[P]||"bg-gray-100 text-gray-800")),children:a.role})]}),(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Company"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:a.Company?a.Company.name:"No Company"})]})]})]}),(0,Gr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Information"}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"User ID"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:a.id})]}),(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:new Date(a.created_at).toLocaleDateString()})]}),(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,Gr.jsx)("span",{className:"text-sm text-gray-900",children:new Date(a.updated_at).toLocaleDateString()})]})]})]})]}),d&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold",children:"Edit User"}),(0,Gr.jsx)("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Gr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gr.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,Gr.jsx)("input",{type:"text",name:"username",value:h.username,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Gr.jsx)("input",{type:"email",name:"email",value:h.email,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,Gr.jsxs)("select",{name:"role",value:h.role,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"Sales Representative",children:"Sales Representative"}),(0,Gr.jsx)("option",{value:"Sales Manager",children:"Sales Manager"}),(0,Gr.jsx)("option",{value:"Marketing Manager",children:"Marketing Manager"}),(0,Gr.jsx)("option",{value:"Support Representative",children:"Support Representative"}),(0,Gr.jsx)("option",{value:"Administrator",children:"Administrator"})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Update User"})]})]})]})})]});var P},yl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,vl=()=>{const{user:e}=(0,t.useContext)(Xr),[n,r]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[i,u]=(0,t.useState)(!1),[d,m]=(0,t.useState)(null),[p,f]=(0,t.useState)({email:"",role:"Sales Representative"}),h=(0,t.useCallback)(async()=>{try{s(!0);const e=await Yr.get("".concat(yl,"/api/invitations"),{withCredentials:!0});r(e.data.invitations)}catch(o){var e;console.error("Error loading invitations:",o),403===(null===(e=o.response)||void 0===e?void 0:e.status)?l("Access denied. Admin role required."):l("Failed to load invitations")}finally{s(!1)}},[]);(0,t.useEffect)(()=>{(async()=>{try{await h()}catch(o){console.error("Error initializing widget:",o),l("Failed to initialize widget")}})()},[h]);const g=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;f(e=>c(c({},e),{},{[t]:n}))},[]),x=(0,t.useCallback)(()=>{f({email:"",role:"Sales Representative"}),m(null),u(!0)},[]),b=(0,t.useCallback)(async e=>{e.preventDefault();try{const e=await Yr.post("".concat(yl,"/api/invitations"),p,{withCredentials:!0});m(e.data.invitation),h()}catch(o){var t,n;console.error("Error generating invitation:",o),alert((null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to generate invitation")}},[p,h]),y=(0,t.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this invitation?"))try{await Yr.delete("".concat(yl,"/api/invitations/").concat(e),{withCredentials:!0}),h()}catch(o){var t,n;console.error("Error deleting invitation:",o),alert((null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete invitation")}},[h]),v=(0,t.useCallback)(e=>e.isUsed?"bg-gray-100 text-gray-800":new Date>new Date(e.expiresAt)?"bg-red-100 text-red-800":"bg-green-100 text-green-800",[]),w=(0,t.useCallback)(e=>e.isUsed?"Used":new Date>new Date(e.expiresAt)?"Expired":"Active",[]);return"Administrator"!==e.role?(0,Gr.jsx)("div",{className:"text-center py-8",children:(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:"Access denied. Admin role required."})}):a?(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:o}),(0,Gr.jsx)("button",{onClick:()=>h(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]}):(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"User Invitations"}),(0,Gr.jsxs)("button",{onClick:x,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,Gr.jsx)("span",{children:"New Invitation"})]})]}),(0,Gr.jsxs)("div",{className:"overflow-x-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[(0,Gr.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,Gr.jsx)("thead",{className:"bg-gray-50",children:(0,Gr.jsxs)("tr",{children:[(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Email"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Role"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Status"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Expires"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Actions"})]})}),(0,Gr.jsx)("tbody",{className:"divide-y divide-gray-200",children:n.map(e=>(0,Gr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.email}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.role})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(v(e)),children:w(e)})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:new Date(e.expiresAt).toLocaleDateString()}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[!e.isUsed&&new Date<=new Date(e.expiresAt)&&(0,Gr.jsx)("button",{onClick:()=>{const t=window.location.origin,n="".concat(t,"/invite/").concat(e.token);navigator.clipboard.writeText(n),alert("Invitation URL copied to clipboard!")},className:"text-blue-600 hover:text-blue-900 text-xs font-medium",children:"Copy URL"}),(0,Gr.jsx)("button",{onClick:()=>y(e.id),className:"text-red-600 hover:text-red-900 text-xs font-medium",children:"Delete"})]})})]},e.id))})]}),0===n.length&&(0,Gr.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No invitations found. Create your first invitation to get started."})]}),i&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New Invitation"}),d?(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-md",children:[(0,Gr.jsx)("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Invitation Generated Successfully!"}),(0,Gr.jsxs)("p",{className:"text-sm text-green-700 mb-3",children:["Send this link to ",(0,Gr.jsx)("strong",{children:d.email})," to complete their registration."]}),(0,Gr.jsxs)("div",{className:"bg-white p-3 border border-green-300 rounded",children:[(0,Gr.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Invitation URL:"}),(0,Gr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gr.jsx)("input",{type:"text",value:d.invitationUrl,readOnly:!0,className:"flex-1 text-xs p-2 border border-gray-300 rounded bg-gray-50"}),(0,Gr.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(d.invitationUrl),alert("URL copied to clipboard!")},className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Copy"})]})]}),(0,Gr.jsxs)("p",{className:"text-xs text-green-600 mt-2",children:["Expires: ",new Date(d.expiresAt).toLocaleDateString()]})]}),(0,Gr.jsx)("div",{className:"flex justify-end space-x-3",children:(0,Gr.jsx)("button",{onClick:()=>{u(!1),m(null)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Done"})})]}):(0,Gr.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),(0,Gr.jsx)("input",{type:"email",name:"email",value:p.email,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,Gr.jsxs)("select",{name:"role",value:p.role,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,Gr.jsx)("option",{value:"Sales Representative",children:"Sales Representative"}),(0,Gr.jsx)("option",{value:"Sales Manager",children:"Sales Manager"}),(0,Gr.jsx)("option",{value:"Marketing Manager",children:"Marketing Manager"}),(0,Gr.jsx)("option",{value:"Support Representative",children:"Support Representative"}),(0,Gr.jsx)("option",{value:"Administrator",children:"Administrator"})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Generate Invitation"})]})]})]})})]})},wl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,jl=()=>{const{user:e}=(0,t.useContext)(Xr),[n,r]=(0,t.useState)({totalLeads:0,convertedLeads:0,conversionRate:0,averageConversionTime:0,leadsByStage:{},conversionTrend:[]}),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[i,c]=(0,t.useState)("30"),u=(0,t.useCallback)(async()=>{try{s(!0);const e=await Yr.get("".concat(wl,"/api/leads/conversion-metrics?days=").concat(i),{withCredentials:!0});r(e.data)}catch(o){console.error("Error loading conversion metrics:",o),l("Failed to load conversion metrics")}finally{s(!1)}},[i]);(0,t.useEffect)(()=>{u()},[u]);const d=(0,t.useCallback)(e=>{c(e.target.value)},[]),m=(0,t.useMemo)(()=>0===n.totalLeads?0:(n.convertedLeads/n.totalLeads*100).toFixed(1),[n.convertedLeads,n.totalLeads]),p=(0,t.useCallback)(e=>({new:"bg-blue-500",contacted:"bg-yellow-500",qualified:"bg-green-500",proposal:"bg-purple-500",negotiation:"bg-orange-500",closed_won:"bg-green-600",closed_lost:"bg-red-500"}[e]||"bg-gray-500"),[]),f=(0,t.useCallback)(e=>e<1?"< 1 day":1===e?"1 day":"".concat(Math.round(e)," days"),[]);return o?(0,Gr.jsx)("div",{className:"p-4 text-red-500 border border-red-200 rounded-lg bg-red-50",children:(0,Gr.jsxs)("div",{className:"font-medium",children:["Error: ",o]})}):(0,Gr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 h-full",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Lead Conversion Analytics"}),(0,Gr.jsxs)("select",{value:i,onChange:d,className:"px-3 py-1 text-sm border border-gray-300 rounded-md",children:[(0,Gr.jsx)("option",{value:"7",children:"Last 7 days"}),(0,Gr.jsx)("option",{value:"30",children:"Last 30 days"}),(0,Gr.jsx)("option",{value:"90",children:"Last 90 days"}),(0,Gr.jsx)("option",{value:"365",children:"Last year"})]})]}),a?(0,Gr.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,Gr.jsxs)("div",{className:"space-y-6",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Gr.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.totalLeads}),(0,Gr.jsx)("div",{className:"text-sm text-blue-800",children:"Total Leads"})]}),(0,Gr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,Gr.jsx)("div",{className:"text-2xl font-bold text-green-600",children:n.convertedLeads}),(0,Gr.jsx)("div",{className:"text-sm text-green-800",children:"Converted Leads"})]}),(0,Gr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,Gr.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[m,"%"]}),(0,Gr.jsx)("div",{className:"text-sm text-purple-800",children:"Conversion Rate"})]})]}),(0,Gr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Gr.jsx)("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Average Conversion Time"}),(0,Gr.jsx)("div",{className:"text-3xl font-bold text-gray-700",children:f(n.averageConversionTime)})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Leads by Stage"}),(0,Gr.jsx)("div",{className:"space-y-3",children:Object.entries(n.leadsByStage||{}).map(e=>{let[t,n]=e;return(0,Gr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gr.jsxs)("div",{className:"flex items-center",children:[(0,Gr.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(p(t)," mr-3")}),(0,Gr.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t.replace("_"," ")})]}),(0,Gr.jsx)("div",{className:"text-sm font-bold text-gray-900",children:n})]},t)})})]}),n.conversionTrend&&n.conversionTrend.length>0&&(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversion Trend"}),(0,Gr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Gr.jsx)("div",{className:"flex items-end justify-between h-32",children:n.conversionTrend.map((e,t)=>(0,Gr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Gr.jsx)("div",{className:"bg-blue-500 rounded-t w-8 mb-2",style:{height:"".concat(e.conversions/Math.max(...n.conversionTrend.map(e=>e.conversions))*80,"px")}}),(0,Gr.jsx)("div",{className:"text-xs text-gray-600",children:e.date})]},t))}),(0,Gr.jsx)("div",{className:"text-center text-sm text-gray-600 mt-2",children:"Daily conversions over the selected period"})]})]}),(0,Gr.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Insights"}),(0,Gr.jsxs)("div",{className:"space-y-2 text-sm text-yellow-700",children:[m>20?(0,Gr.jsx)("div",{children:"\u2705 Excellent conversion rate! Keep up the great work."}):m>10?(0,Gr.jsx)("div",{children:"\u26a0\ufe0f Good conversion rate, but there's room for improvement."}):(0,Gr.jsx)("div",{children:"\u274c Low conversion rate. Consider reviewing your lead qualification process."}),n.averageConversionTime>30?(0,Gr.jsx)("div",{children:"\u23f1\ufe0f Long conversion cycle. Consider optimizing your sales process."}):(0,Gr.jsx)("div",{children:"\u26a1 Fast conversion cycle. Your sales process is efficient!"})]})]})]})]})},Nl=["widgetKey","widgetPath","type","resultData","widgetData","onLoad","onError","widgetState","showLoadingSpinner","loadingSpinnerSize","onOpenContactProfile","onOpenLeadProfile","onOpenOpportunityProfile","onOpenBusinessProfile","onOpenUserProfile"],kl={"contacts-widget":(0,t.memo)(nl),"contact-profile-widget":qo,"lead-profile-widget":$o,"search-result-widget":el,"leads-widget":(0,t.memo)(sl),"opportunities-widget":(0,t.memo)(il),"opportunity-profile-widget":Xo,"business-widget":(0,t.memo)(dl),"business-profile-widget":(0,t.memo)(pl),"users-widget":(0,t.memo)(gl),"user-profile-widget":(0,t.memo)(bl),"invitations-widget":(0,t.memo)(vl),"lead-conversion":(0,t.memo)(jl)},Sl=(0,t.memo)(e=>{let{widgetKey:r,widgetPath:a,type:s,onLoad:o,onError:l}=e;const[i,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!0),[m,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=!0;return(async()=>{try{d(!0),p(null),"uploaded"===s?await f(r,a):"builtin"===s&&await h(r,a),e&&(d(!1),o&&o())}catch(t){console.error("Error loading widget:",t),e&&(p(t.message),d(!1),l&&l(t.message))}})(),()=>{e=!1}},[r,a,s,o,l]);const f=(e,t)=>new Promise((n,r)=>{window.UploadedWidgets||(window.UploadedWidgets={});const a=document.createElement("script");a.src=t,a.async=!0,a.onload=()=>{window.UploadedWidgets&&window.UploadedWidgets[e]?(c(()=>window.UploadedWidgets[e]),n()):r(new Error("Widget ".concat(e," not found in global scope")))},a.onerror=()=>{r(new Error("Failed to load widget script: ".concat(t)))},document.body.appendChild(a)}),h=async(e,t)=>{try{const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch widget: ".concat(e.status));const r=await e.text(),a=new Blob([r],{type:"application/javascript"}),s=URL.createObjectURL(a),o=await n(868)(s);URL.revokeObjectURL(s),c(()=>o.default)}catch(m){throw new Error("Failed to load builtin widget: ".concat(m.message))}};return u?null:m?(0,Gr.jsxs)("div",{className:"p-4 text-red-500 border border-red-200 rounded-lg bg-red-50",children:[(0,Gr.jsx)("div",{className:"font-medium",children:"Widget Error"}),(0,Gr.jsx)("div",{className:"text-sm",children:m})]}):i?(0,Gr.jsx)(i,{}):(0,Gr.jsxs)("div",{className:"p-4 text-yellow-500 border border-yellow-200 rounded-lg bg-yellow-50",children:[(0,Gr.jsx)("div",{className:"font-medium",children:"Widget Not Found"}),(0,Gr.jsx)("div",{className:"text-sm",children:"Widget component could not be loaded"})]})}),Cl=(0,t.memo)(e=>{let{widgetKey:n,widgetPath:r,type:s,resultData:o,widgetData:l,onLoad:i,onError:u,widgetState:d,showLoadingSpinner:m,loadingSpinnerSize:p,onOpenContactProfile:f,onOpenLeadProfile:h,onOpenOpportunityProfile:g,onOpenBusinessProfile:x,onOpenUserProfile:b}=e,y=a(e,Nl);const v=(0,t.useMemo)(()=>n,[n]);if(("uploaded"===s||"builtin"===s)&&"loading"===d&&m){const e="small"===p?"h-4 w-4":"large"===p?"h-12 w-12":"h-8 w-8";return(0,Gr.jsx)("div",{className:"widget-loading",children:(0,Gr.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,Gr.jsx)("div",{className:"animate-spin rounded-full ".concat(e," border-b-2 border-blue-600")}),(0,Gr.jsxs)("span",{className:"ml-2 text-gray-600",children:["Loading ",n,"..."]})]})})}if(v.startsWith("search-result-")){const e=()=>((0,t.useEffect)(()=>{if(i){const e=setTimeout(()=>{i()},10);return()=>clearTimeout(e)}},[]),(0,Gr.jsx)(el,{resultData:o}));return(0,Gr.jsx)(e,{})}if("builtin-react"!==s){const e=kl[v];if(e){const n=()=>((0,t.useEffect)(()=>{if(i){const e=setTimeout(()=>{i()},10);return()=>clearTimeout(e)}},[]),(0,Gr.jsx)(e,c({},y)));return(0,Gr.jsx)(n,{})}}if("uploaded"===s||"builtin"===s)return(0,Gr.jsx)(Sl,{widgetKey:v,widgetPath:r,type:s,onLoad:i,onError:u});if("builtin-react"===s){const e=kl[v];if(e){const n=()=>((0,t.useEffect)(()=>{if(i){const e=setTimeout(()=>{i()},10);return()=>clearTimeout(e)}},[]),"contacts-widget"===v?(0,Gr.jsx)(e,{onOpenContactProfile:f}):"leads-widget"===v?(0,Gr.jsx)(e,{onOpenLeadProfile:h}):"opportunities-widget"===v?(0,Gr.jsx)(e,{onOpenOpportunityProfile:g}):"business-widget"===v?(0,Gr.jsx)(e,{onOpenBusinessProfile:x}):"users-widget"===v?(0,Gr.jsx)(e,{onOpenUserProfile:b}):"contact-profile-widget"===v&&l?(0,Gr.jsx)(e,{contactId:l.contactId}):"lead-profile-widget"===v&&l?(0,Gr.jsx)(e,{leadId:l.leadId}):"opportunity-profile-widget"===v&&l?(0,Gr.jsx)(e,{opportunityId:l.opportunityId}):"business-profile-widget"===v&&l?(0,Gr.jsx)(e,{businessId:l.businessId}):"user-profile-widget"===v&&l?(0,Gr.jsx)(e,{userId:l.userId}):(0,Gr.jsx)(e,c({},y)));return(0,Gr.jsx)(n,{})}return(0,Gr.jsxs)("div",{className:"p-4 text-red-500 border border-red-200 rounded-lg bg-red-50",children:[(0,Gr.jsx)("div",{className:"font-medium",children:"Built-in React Widget Not Found"}),(0,Gr.jsxs)("div",{className:"text-sm",children:["Widget key: ",v]}),(0,Gr.jsxs)("div",{className:"text-sm",children:["Available keys: ",Object.keys(kl).join(", ")]})]})}const w=()=>((0,t.useEffect)(()=>{if(i){const e=setTimeout(()=>{i()},10);return()=>clearTimeout(e)}},[]),(0,Gr.jsxs)("div",{className:"p-4 text-yellow-500 border border-yellow-200 rounded-lg bg-yellow-50",children:[(0,Gr.jsx)("div",{className:"font-medium",children:"Unknown Widget"}),(0,Gr.jsxs)("div",{className:"text-sm",children:["Widget type: ",s]}),(0,Gr.jsxs)("div",{className:"text-sm",children:["Widget key: ",v]}),(0,Gr.jsxs)("div",{className:"text-sm",children:["Widget path: ",r]})]}));return(0,Gr.jsx)(w,{})});Cl.displayName="DynamicWidget",Sl.displayName="ExternalWidgetLoader";const El=Cl,Pl={renderMode:"lazy",preloadThreshold:100,debounceDelay:300,throttleDelay:100,maxRetries:3,autoReload:!1,reloadInterval:3e4,cacheTimeout:3e5,showErrors:!0,retryOnError:!0,errorDisplayDuration:5e3,showLoadingSpinner:!0,loadingSpinnerSize:"medium",skeletonLoading:!1,responsiveBreakpoints:{xs:480,sm:768,md:1024,lg:1280,xl:1536},enableAnimations:!0,animationDuration:200,animationEasing:"ease-out"},Tl={"contacts-widget":c(c({},Pl),{},{renderMode:"eager",debounceDelay:300,autoReload:!1,showLoadingSpinner:!0,skeletonLoading:!0,cacheTimeout:6e4}),"builtin-react":c(c({},Pl),{},{renderMode:"eager",showLoadingSpinner:!0,autoReload:!1}),"leads-widget":c(c({},Pl),{},{renderMode:"lazy",autoReload:!1,showLoadingSpinner:!0}),"opportunities-widget":c(c({},Pl),{},{renderMode:"lazy",autoReload:!1,showLoadingSpinner:!0}),"business-widget":c(c({},Pl),{},{renderMode:"lazy",autoReload:!1,showLoadingSpinner:!0}),"users-widget":c(c({},Pl),{},{renderMode:"lazy",autoReload:!1,showLoadingSpinner:!0}),"invitations-widget":c(c({},Pl),{},{renderMode:"lazy",autoReload:!1,showLoadingSpinner:!0}),"search-result-widget":c(c({},Pl),{},{renderMode:"eager",debounceDelay:0,autoReload:!1,showLoadingSpinner:!1,cacheTimeout:3e5}),"contact-profile-widget":c(c({},Pl),{},{renderMode:"eager",debounceDelay:0,autoReload:!1,showLoadingSpinner:!0,cacheTimeout:6e4}),"lead-profile-widget":c(c({},Pl),{},{renderMode:"eager",debounceDelay:0,autoReload:!1,showLoadingSpinner:!0,cacheTimeout:6e4}),"sample-chart":c(c({},Pl),{},{renderMode:"lazy",autoReload:!0,reloadInterval:6e4,showLoadingSpinner:!0,cacheTimeout:3e4}),default:c(c({},Pl),{},{renderMode:"lazy",autoReload:!1,showLoadingSpinner:!0})},Rl=e=>Tl[e]?Tl[e]:e.endsWith("-widget")&&["contacts","leads","opportunities","companies","users"].some(t=>e.startsWith(t))?Tl["builtin-react"]:Tl.default,Ol=["widgetKey","widgetPath","type","resultData","widgetData","isVisible","onWidgetReady","onWidgetError","onOpenContactProfile","onOpenLeadProfile","onOpenOpportunityProfile","onOpenBusinessProfile","onOpenUserProfile"],Dl="loading",Ll="ready",_l="error",Al="unmounted",zl=(0,t.memo)(e=>{let{widgetKey:n,widgetPath:r,type:s,resultData:o,widgetData:l,isVisible:i=!0,onWidgetReady:u,onWidgetError:d,onOpenContactProfile:m,onOpenLeadProfile:p,onOpenOpportunityProfile:f,onOpenBusinessProfile:h,onOpenUserProfile:g}=e,x=a(e,Ol);const b=(0,t.useMemo)(()=>{const e=Rl(n);return console.log("Widget ".concat(n," config:"),e),e},[n]),[y,v]=(0,t.useState)(Dl),[w,j]=(0,t.useState)(null),[N,k]=(0,t.useState)(0),S=(0,t.useRef)(Date.now()),C=(0,t.useRef)(0),E=(0,t.useMemo)(()=>c({widgetKey:n,widgetPath:r,type:s,resultData:o,widgetData:l,onOpenContactProfile:m,onOpenLeadProfile:p,onOpenOpportunityProfile:f,onOpenBusinessProfile:h,onOpenUserProfile:g},x),[n,r,s,o,l,m,p,f,h,g,x]),P=(0,t.useCallback)(()=>{const e=Date.now(),t=e-S.current;console.log("Widget ".concat(n," ready in ").concat(t,"ms")),v(Ll),C.current=e,u&&u(n,t)},[n,u]);console.log("WidgetRenderer for ".concat(n," - onLoad callback:"),!!P);const T=(0,t.useCallback)(e=>{console.error("Widget ".concat(n," error:"),e),v(_l),j(e),d&&d(n,e)},[n,d]);return(0,t.useEffect)(()=>{v(Dl),j(null),S.current=Date.now(),k(e=>e+1)},[n]),(0,t.useEffect)(()=>{"eager"!==b.renderMode&&(i||y!==Ll?i&&y===Al&&v(Ll):v(Al))},[i,y,b.renderMode]),y===Al?(0,Gr.jsx)("div",{className:"widget-placeholder",children:(0,Gr.jsx)("div",{className:"flex items-center justify-center p-8 text-gray-400",children:(0,Gr.jsxs)("div",{className:"animate-pulse",children:[(0,Gr.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full mb-2"}),(0,Gr.jsx)("div",{className:"text-sm",children:"Widget hidden"})]})})}):y===_l?b.showErrors?(0,Gr.jsx)("div",{className:"widget-error",children:(0,Gr.jsxs)("div",{className:"p-4 text-red-500 border border-red-200 rounded-lg bg-red-50",children:[(0,Gr.jsxs)("div",{className:"font-medium",children:["Widget Error: ",n]}),(0,Gr.jsx)("div",{className:"text-sm",children:w}),b.retryOnError&&(0,Gr.jsx)("button",{onClick:()=>{v(Dl),j(null),S.current=Date.now(),k(e=>e+1)},className:"mt-2 px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Retry"})]})}):null:(0,Gr.jsx)("div",{className:"widget-container","data-widget-key":n,"data-widget-state":y,"data-render-key":N,children:(0,Gr.jsx)(El,c(c({},E),{},{onLoad:P,onError:T,widgetState:y,showLoadingSpinner:b.showLoadingSpinner,loadingSpinnerSize:b.loadingSpinnerSize}),"".concat(n,"-").concat(N))})}),Ml=(0,t.memo)(e=>{let{widgets:n,activeTabId:r,onWidgetEvent:a}=e;const s=(0,t.useCallback)((e,t)=>{a&&a("ready",{widgetKey:e,loadTime:t})},[a]),o=(0,t.useCallback)((e,t)=>{a&&a("error",{widgetKey:e,error:t})},[a]),l=(0,t.useMemo)(()=>n,[n]);return(0,Gr.jsx)("div",{className:"widget-manager",children:l.map(e=>(0,Gr.jsx)(zl,c({widgetKey:e.i,widgetPath:e.path,type:e.type,resultData:e.resultData,isVisible:r===e.tabId,onWidgetReady:s,onWidgetError:o},e.props),e.i))})});zl.displayName="WidgetRenderer",Ml.displayName="WidgetManager";const Il=(0,Wo.WidthProvider)(Wo.Responsive),Fl=e=>{let{layout:t,widgetLibrary:n,isVisible:r=!0,onWidgetReady:a,onWidgetError:s,onOpenContactProfile:o,onOpenLeadProfile:l,onOpenOpportunityProfile:i,onOpenBusinessProfile:c,onOpenUserProfile:u}=e;return t&&n&&0!==t.length?(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("style",{children:"\n                   /* Clean grid layout styles - extracted from EditLayout */\n                   .react-grid-layout {\n                       position: relative;\n                       transition: height 200ms ease;\n                   }\n                   .react-grid-item {\n                       transition: all 200ms ease;\n                       transition-property: left, top, width, height;\n                       position: absolute;\n                       box-sizing: border-box;\n                   }\n                   .react-grid-item.cssTransforms {\n                       transition-property: transform, width, height;\n                   }\n                   .react-grid-item.resizing {\n                       z-index: 1;\n                       will-change: width, height;\n                   }\n                   .react-grid-item.react-draggable-dragging {\n                       transition: none !important;\n                       z-index: 3 !important;\n                       will-change: transform;\n                   }\n                   .react-grid-item.react-grid-placeholder {\n                       background: #cbd5e0 !important;\n                       border: 2px dashed #718096 !important;\n                       border-radius: 8px !important;\n                       transition-duration: 100ms;\n                       z-index: 2;\n                       -webkit-user-select: none;\n                       -moz-user-select: none;\n                       -ms-user-select: none;\n                       -o-user-select: none;\n                       user-select: none;\n                   }\n                   .react-grid-item.react-grid-item.react-draggable.react-resizable {\n                       transition: all 200ms ease;\n                   }\n                   .react-grid-item.react-grid-item.react-draggable.react-resizable.react-resizable-handle {\n                       transition: none;\n                   }\n               "}),(0,Gr.jsx)(Il,{layouts:{lg:t},className:"layout",cols:{lg:12,md:12,sm:12,xs:12,xxs:12},rowHeight:100,isDraggable:!1,isResizable:!1,margin:[10,10],containerPadding:[10,10],style:{minHeight:"400px"},useCSSTransforms:!0,compactType:"vertical",preventCollision:!1,isBounded:!1,autoSize:!0,verticalCompact:!0,allowOverlap:!1,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},onBreakpointChange:e=>{console.log("DashboardGrid breakpoint changed to:",e)},children:t.map(e=>{console.log("Rendering layout item:",e);const t=e.widgetKey||e.i;console.log("Looking for widget:",t,"in library:",n);const d=n.find(e=>e.key===t);return console.log("Found widget:",d),0===n.length?(0,Gr.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-4",children:(0,Gr.jsx)("div",{className:"text-gray-500",children:"Loading widget library..."})},e.i):d?(0,Gr.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-2 overflow-hidden transition-all duration-200 relative","data-widget-key":e.i,"data-grid-x":e.x,"data-grid-y":e.y,"data-grid-w":e.w,"data-grid-h":e.h,children:(0,Gr.jsx)("div",{children:(0,Gr.jsx)(zl,{widgetKey:t,widgetPath:null===d||void 0===d?void 0:d.path,type:null===d||void 0===d?void 0:d.type,resultData:e.i.startsWith("search-result-")?e.resultData:void 0,widgetData:e.widgetData,isVisible:r,onWidgetReady:a,onWidgetError:s,onOpenContactProfile:o,onOpenLeadProfile:l,onOpenOpportunityProfile:i,onOpenBusinessProfile:c,onOpenUserProfile:u})})},e.i):(0,Gr.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-4 overflow-hidden transition-all duration-200 relative","data-widget-key":e.i,children:(0,Gr.jsxs)("div",{className:"text-center",children:[(0,Gr.jsxs)("div",{className:"text-red-600 text-sm font-medium",children:["Widget not found: ",e.i]}),(0,Gr.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"This widget may have been removed or renamed."}),(0,Gr.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Size: ",e.w,"x",e.h," | Position: (",e.x,", ",e.y,")"]})]})},e.i)})})]}):(0,Gr.jsx)("div",{className:"text-center py-12",children:(0,Gr.jsx)("div",{className:"text-gray-500 text-lg",children:"No widgets in this layout."})})},Ul="dashboard_tab_session",Wl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,Bl=()=>{const{user:e}=(0,t.useContext)(Xr),n=ue(),[r,a]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[l,i]=(0,t.useState)([]),[u,d]=(0,t.useState)(null),[m,p]=(0,t.useState)(!0),[f,h]=(0,t.useState)(!1),[g,x]=(0,t.useState)(!1),{openTabs:b,setOpenTabs:y,activeTabId:v,setActiveTabId:w,tabLayouts:j,setTabLayouts:N,loadSession:k,saveSession:S,clearSession:C,hasSession:E,getSessionInfo:P,isSessionLoading:T}=(e=>{const[n,r]=(0,t.useState)([]),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)({}),[i,c]=(0,t.useState)({}),[u,d]=(0,t.useState)(!0),m=(0,t.useCallback)(()=>{try{d(!0);const t="".concat(Ul,"_").concat(e),n=localStorage.getItem(t);if(n){const e=JSON.parse(n);if(console.log("Loaded session data:",e),e.openTabs&&Array.isArray(e.openTabs)){r(e.openTabs);const t=e.activeTabId;return console.log("Loading activeTabId:",t,"Type:",typeof t),s(t||null),l(e.tabLayouts||{}),c(e.tabEditModes||{}),d(!1),!0}}d(!1)}catch(t){console.error("Failed to load session data:",t),d(!1)}return!1},[e]),p=(0,t.useCallback)(()=>{try{const t="".concat(Ul,"_").concat(e),n=localStorage.getItem(t);if(n){const e=JSON.parse(n);if(e.timestamp){if(Date.now()-e.timestamp>864e5)return console.log("Session expired, clearing..."),localStorage.removeItem(t),!1}return e.openTabs&&Array.isArray(e.openTabs)&&e.openTabs.length>0}}catch(t){console.error("Failed to check session data:",t)}return!1},[e]),f=(0,t.useCallback)((t,n,r,a)=>{try{const s="".concat(Ul,"_").concat(e),o={openTabs:t||[],activeTabId:n,tabLayouts:r||{},tabEditModes:a||{},timestamp:Date.now()};localStorage.setItem(s,JSON.stringify(o)),console.log("Saved session data:",o),console.log("Active tab being saved:",n,"Type:",typeof n)}catch(s){console.error("Failed to save session data:",s)}},[e]),h=(0,t.useCallback)(()=>{try{const t="".concat(Ul,"_").concat(e);localStorage.removeItem(t),console.log("Cleared session data for user:",e)}catch(t){console.error("Failed to clear session data:",t)}},[e]),g=(0,t.useCallback)(()=>{try{const n="".concat(Ul,"_").concat(e),r=localStorage.getItem(n);if(r){var t;const e=JSON.parse(r),n=e.timestamp?Date.now()-e.timestamp:0,a=864e5,s=n>a;return{exists:!0,tabCount:(null===(t=e.openTabs)||void 0===t?void 0:t.length)||0,activeTab:e.activeTabId,age:n,maxAge:a,isExpired:s,expiresIn:a-n}}return{exists:!1}}catch(n){return console.error("Failed to get session info:",n),{exists:!1,error:n.message}}},[e]);return(0,t.useEffect)(()=>{e&&(n.length>0||a)&&f(n,a,o,i)},[n,a,o,i,f,e]),(0,t.useEffect)(()=>{e?m():d(!1)},[e,m]),(0,t.useEffect)(()=>{const e=()=>{};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[]),{openTabs:n,setOpenTabs:r,activeTabId:a,setActiveTabId:s,tabLayouts:o,setTabLayouts:l,tabEditModes:i,setTabEditModes:c,loadSession:m,saveSession:f,clearSession:h,hasSession:p,getSessionInfo:g,isSessionLoading:u}})(null===e||void 0===e?void 0:e.id),[R,O]=(0,t.useState)(!1),D=(0,t.useRef)(null),L=(0,t.useRef)(b.length),_=(0,t.useRef)(n.pathname),A=(0,t.useRef)(0),z=(0,t.useRef)(!1);(0,t.useEffect)(()=>{console.log("Current layout:",r),console.log("Open tabs:",b),console.log("Active tab:",v)},[r,b,v]);const M=(0,t.useCallback)(async()=>{if(!v||String(v).includes("-page")||String(v).includes("search-"))console.log("Skipping refresh for non-view tab:",v);else try{x(!0),console.log("Refreshing current view from backend:",v);const{data:e}=await Yr.get("".concat(Wl,"/api/dashboard/views/").concat(v),{withCredentials:!0});let t=[];e.widgets&&e.widgets.length>0&&(t=e.widgets.map(e=>({i:e.widgetKey,x:e.x||0,y:e.y||0,w:e.w||6,h:e.h||2}))),N(e=>c(c({},e),{},{[v]:t})),a(t),console.log("Current layout updated with refreshed data:",t);const n=b.find(e=>e.id===v);n&&n.name!==e.name&&(y(t=>t.map(t=>t.id===v?c(c({},t),{},{name:e.name}):t)),console.log("Tab name updated:",e.name)),z.current&&(console.log("Clearing EditLayout return flag after successful refresh"),z.current=!1),console.log("View refreshed successfully:",e.name,"Layout:",t)}catch(s){var e,t,n,r;console.error("Failed to refresh view",s),console.error("Error details:",null===(e=s.response)||void 0===e?void 0:e.data),console.error("Error status:",null===(t=s.response)||void 0===t?void 0:t.status),404===(null===(n=s.response)||void 0===n?void 0:n.status)?console.log("View not found, it may have been deleted"):403===(null===(r=s.response)||void 0===r?void 0:r.status)?console.log("Access denied to view"):console.log("Network or server error occurred")}finally{x(!1)}},[v,b,N,y]);(0,t.useEffect)(()=>{const e=n.pathname,t=_.current,r=Date.now();console.log("Location changed from:",t,"to:",e),console.log("Time since last navigation:",r-A.current,"ms"),A.current=r,t.includes("/edit-layout/")&&"/dashboard"===e&&(console.log("Returning from EditLayout - triggering refresh"),z.current=!0,setTimeout(()=>{!v||String(v).includes("-page")||String(v).includes("search-")||(console.log("Refreshing view after returning from EditLayout"),M())},1e3)),_.current=e},[n.pathname,v,M]),(0,t.useEffect)(()=>{z.current&&!T&&v&&(console.log("Session loaded after returning from EditLayout - triggering refresh"),z.current=!1,setTimeout(()=>{!v||String(v).includes("-page")||String(v).includes("search-")||(console.log("Refreshing view after session load"),M())},500))},[T,v,M]),(0,t.useEffect)(()=>{if(!T&&!m&&v&&!String(v).includes("-page")&&!String(v).includes("search-")){const e=Date.now()-A.current;e<3e4&&e>2e3&&z.current&&(console.log("Fallback refresh mechanism - returning from EditLayout"),setTimeout(()=>{console.log("Performing EditLayout return refresh"),M()},1e3))}},[T,m,v,M]),(0,t.useEffect)(()=>{if(r.length>0&&v&&!String(v).includes("-page")&&!String(v).includes("search-")){const e=Date.now()-A.current;e<3e4&&e>1e3&&z.current&&(console.log("Layout loaded from session - returning from EditLayout"),setTimeout(()=>{console.log("Performing EditLayout return layout-based refresh"),M()},1500))}},[r,v,M]),(0,t.useEffect)(()=>{const e=localStorage.getItem("returningFromEditLayout");if(e&&!T&&v){const t=parseInt(e);Date.now()-t<3e4&&!String(v).includes("-page")&&!String(v).includes("search-")?(console.log("EditLayout return flag detected - triggering refresh"),localStorage.removeItem("returningFromEditLayout"),setTimeout(()=>{console.log("Performing EditLayout return refresh"),M()},1e3)):localStorage.removeItem("returningFromEditLayout")}},[T,v,M]),(0,t.useEffect)(()=>{!v||String(v).includes("-page")||String(v).includes("search-")||(console.log("Dashboard mounted with active view tab - checking if refresh is needed"),z.current&&(console.log("Returning from EditLayout detected on mount, refreshing view"),setTimeout(()=>{M()},1e3)))},[v,M]),(0,t.useEffect)(()=>{e&&!T&&(async()=>{try{if(console.log("Loading initial data..."),console.log("API_URL:",Wl),console.log("User:",e),T)return void console.log("Waiting for session to load...");console.log("Fetching widget library...");const t=await Yr.get("".concat(Wl,"/api/widgets/manifest"),{withCredentials:!0});console.log("Backend widget library:",t.data);const n=[{key:"contacts-widget",name:"Contacts Widget",description:"Manage and view contacts",type:"builtin-react",path:null},{key:"contact-profile-widget",name:"Contact Profile Widget",description:"Display detailed contact information",type:"builtin-react",path:null},{key:"search-result-widget",name:"Search Result Widget",description:"Display search results",type:"builtin-react",path:null},{key:"leads-widget",name:"Leads Widget",description:"Manage and view leads",type:"builtin-react",path:null},{key:"opportunities-widget",name:"Opportunities Widget",description:"Manage and view opportunities",type:"builtin-react",path:null},{key:"opportunity-profile-widget",name:"Opportunity Profile Widget",description:"Display detailed opportunity information",type:"builtin-react",path:null},{key:"business-widget",name:"Business Widget",description:"Manage and view businesses",type:"builtin-react",path:null},{key:"users-widget",name:"Users Widget",description:"Manage and view users",type:"builtin-react",path:null},{key:"lead-conversion",name:"Lead Conversion Analytics",description:"Track lead conversion rates and metrics",type:"builtin-react",path:null},...t.data];console.log("Hybrid widget library:",n),console.log("Widget library keys:",n.map(e=>e.key)),o(n),console.log("Widget library loaded:",n),console.log("Widget library length:",n.length),console.log("Fetching views...");const r=await Yr.get("".concat(Wl,"/api/dashboard/views"),{withCredentials:!0});console.log("Views response:",r),i(r.data),console.log("Views loaded:",r.data);const a=E();if(console.log("Has saved session:",a),a){console.log("Session exists, validating tabs..."),console.log("Current openTabs from hook:",b),console.log("Current activeTabId from hook:",v);const e=(b||[]).filter(e=>!(!String(e.id).startsWith("search-")&&!String(e.id).includes("-page"))||r.data.some(t=>String(t.id)===String(e.id)));if(e.length>0){console.log("Valid tabs found:",e);const t=v;console.log("Saved active tab:",t,"Type:",typeof t),console.log("Valid tab IDs:",e.map(e=>({id:e.id,type:typeof e.id}))),t&&e.some(e=>String(e.id)===String(t))?(console.log("Switching to saved active tab:",t),await U(t)):(console.log("Saved active tab not found, switching to first valid tab:",e[0].id),await U(e[0].id))}else console.log("No valid tabs in session, creating default view"),await I()}else if(r.data&&0!==r.data.length){const e=r.data.find(e=>e.isDefault)||r.data[0];console.log("Loading default view as first tab:",e),await F(e)}else console.log("No views found, creating default view..."),await I()}catch(r){var t,n;console.error("Failed to load initial data",r),console.error("Error details:",null===(t=r.response)||void 0===t?void 0:t.data),console.error("Error status:",null===(n=r.response)||void 0===n?void 0:n.status),console.log("Creating fallback default view due to error"),await I()}finally{p(!1)}})()},[e,T]);const I=async()=>{try{console.log("Creating default view...");const e=s.slice(0,4),t={name:"My Dashboard",widgets:e.map((e,t)=>({widgetKey:e.key,x:t%2*6,y:2*Math.floor(t/2),w:6,h:2})),isDefault:!0};console.log("Creating default view with data:",t);const n=await Yr.post("".concat(Wl,"/api/dashboard/views"),t,{withCredentials:!0});console.log("Default view created:",n.data);const r=[n.data];i(r),await F(n.data)}catch(e){console.error("Failed to create default view:",e);const t={id:"fallback-default",name:"My Dashboard",widgets:[],isDefault:!0},n=[];i([t]),await F(t,n)}},F=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{console.log("Opening view as tab:",e);let n=[];t?n=t:e.widgets&&e.widgets.length>0&&(n=e.widgets.map(e=>({i:e.widgetKey,x:e.x||0,y:e.y||0,w:e.w||6,h:e.h||2})));if(b.find(t=>t.id===e.id))await U(e.id);else{const t={id:e.id,name:e.name,isDefault:e.isDefault};y(e=>[...e,t]),N(t=>c(c({},t),{},{[e.id]:n})),h(!0),w(e.id),d(e.id),a(n),console.log("Opened new tab:",e.id,"with layout:",n),setTimeout(()=>h(!1),50)}}catch(n){console.error("Failed to open view as tab:",n)}};(0,t.useEffect)(()=>{console.log("Tab count changed:",b.length,"Previous:",L.current),L.current=b.length},[b]);const U=async e=>{console.log("Switching to tab:",e,"Type:",typeof e),console.log("Available tab layouts:",Object.keys(j)),h(!0);try{w(e),d(e);const t=j[e]||[];console.log("Loading layout for tab:",e,"Layout:",t),a(t),console.log("Switched to tab:",e,"with layout:",t)}finally{setTimeout(()=>h(!1),50)}},W=async(e,t)=>{console.log("Opening user profile as tab:",e,t);const n="user-profile-".concat(e);if(b.find(e=>e.id===n))return void U(n);let r=t||"User Profile";if(!t)try{const t=await Yr.get("".concat(Wl,"/api/users/").concat(e),{withCredentials:!0});r=t.data.username||t.data.email}catch(l){console.error("Failed to fetch user details for tab name:",l)}const s={id:n,name:r,isDefault:!1},o=[{i:"user-profile-".concat(e),x:0,y:0,w:12,h:8,widgetKey:"user-profile-widget",widgetData:{userId:e}}];y(e=>[...e,s]),N(e=>c(c({},e),{},{[n]:o})),h(!0),w(n),d(n),a(o),console.log("Opened user profile tab:",n,"with layout:",o),setTimeout(()=>h(!1),50)};return(0,t.useEffect)(()=>()=>{D.current&&clearTimeout(D.current)},[]),(0,t.useEffect)(()=>{let e=0;const t=()=>{(Date.now()-e<2e3?(console.log("Skipping refresh due to debounce"),0):!v||String(v).includes("-page")||String(v).includes("search-")?(console.log("Skipping refresh - no valid active view tab"),0):z.current&&(console.log("Triggering refresh - returning from EditLayout"),1))&&(console.log("Performing EditLayout return refresh"),e=Date.now(),setTimeout(()=>{M()},100))},n=()=>{console.log("Dashboard focused - checking if refresh is needed"),t()},r=()=>{document.hidden||(console.log("Dashboard became visible - checking if refresh is needed"),t())};return window.addEventListener("focus",n),document.addEventListener("visibilitychange",r),()=>{window.removeEventListener("focus",n),document.removeEventListener("visibilitychange",r)}},[v,u,M]),e?m||T?(0,Gr.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:"Loading dashboard..."}):(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("style",{children:"\n                   .tab-close-button {\n                       opacity: 0;\n                       transition: opacity 0.2s;\n                   }\n                   .tab:hover .tab-close-button {\n                       opacity: 1;\n                   }\n                   \n\n                   \n\n               "}),(0,Gr.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Gr.jsx)("div",{className:"bg-yellow-100 p-2 text-xs",children:(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("strong",{children:"Debug:"}),"ViewID: ",u||"None"," | Layout items: ",r.length," | Widgets: ",s.length," | Open tabs: ",b.length," | Active tab: ",v||"None"," | Session: ",b.length>0?"Saved":"None"," | Session Loading: ",T?"Yes":"No"," | Refreshing: ",g?"Yes":"No"," | Nav Time: ",Math.round((Date.now()-A.current)/1e3),"s | EditLayout Flag: ",localStorage.getItem("returningFromEditLayout")?"Yes":"No"," | Grid: 12 cols (Responsive) | Layout: ",r.length>0?"".concat(r.length," items"):"Empty"]}),"Administrator"===e.role&&(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("button",{onClick:async()=>{try{const e=await Yr.post("".concat(Wl,"/api/search/sample-data"),{},{withCredentials:!0});alert("Sample data created successfully! Created ".concat(e.data.created.contacts," contacts, ").concat(e.data.created.leads," leads, and ").concat(e.data.created.opportunities," opportunities."))}catch(e){console.error("Failed to create sample data:",e),alert("Failed to create sample data. Please check the console for details.")}},className:"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 mr-2",children:"Create Sample Data"}),(0,Gr.jsx)("button",{onClick:async()=>{try{const e=await Yr.get("".concat(Wl,"/api/search/test-tables"),{withCredentials:!0});console.log("Table test results:",e.data),alert("Table test completed! Check console for details.")}catch(e){console.error("Failed to test tables:",e),alert("Failed to test tables. Please check the console for details.")}},className:"px-2 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600 mr-2",children:"Test Tables"})]}),(0,Gr.jsx)("button",{onClick:C,className:"px-2 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600 mr-2",title:"Clear saved tab session",children:"Clear Session"}),(0,Gr.jsx)("button",{onClick:()=>{const t=P();console.log("Session info:",t),console.log("Current state - openTabs:",b),console.log("Current state - activeTabId:",v,"Type:",typeof v),console.log("Current state - tabLayouts keys:",Object.keys(j)),console.log("Session loading state:",T);const n="dashboard_tab_session_".concat(null===e||void 0===e?void 0:e.id),r=localStorage.getItem(n);console.log("Raw localStorage session:",r?JSON.parse(r):"None"),alert("Session Info:\nExists: ".concat(t.exists,"\nTab Count: ").concat(t.tabCount||0,"\nActive Tab: ").concat(t.activeTab||"None"," (").concat(typeof t.activeTab,")\nCurrent Active Tab: ").concat(v||"None"," (").concat(typeof v,")\nSession Loading: ").concat(T,"\nAge: ").concat(t.age?Math.round(t.age/1e3/60)+" minutes":"N/A","\nExpires In: ").concat(t.expiresIn?Math.round(t.expiresIn/1e3/60)+" minutes":"N/A"))},className:"px-2 py-1 bg-purple-500 text-white text-xs rounded hover:bg-purple-600 mr-2",title:"Show session debug info",children:"Session Info"}),(0,Gr.jsx)("button",{onClick:M,className:"px-2 py-1 bg-orange-500 text-white text-xs rounded hover:bg-orange-600 mr-2",title:"Refresh current view from backend",children:"Refresh View"}),(0,Gr.jsx)("button",{onClick:async()=>{try{console.log("Refreshing views list from backend");const{data:e}=await Yr.get("".concat(Wl,"/api/dashboard/views"),{withCredentials:!0});i(e),console.log("Views list refreshed successfully:",e.length,"views");const t=b.filter(t=>!(!String(t.id).startsWith("search-")&&!String(t.id).includes("-page"))||e.some(e=>String(e.id)===String(t.id)));t.length!==b.length&&(console.log("Some tabs are no longer valid, updating tab list"),y(t),v&&!t.some(e=>String(e.id)===String(v))&&(t.length>0?(console.log("Active tab no longer valid, switching to first valid tab"),await U(t[0].id)):(console.log("No valid tabs remaining"),w(null),d(null),a([]))))}catch(n){var e,t;console.error("Failed to refresh views list",n),console.error("Error details:",null===(e=n.response)||void 0===e?void 0:e.data),console.error("Error status:",null===(t=n.response)||void 0===t?void 0:t.status)}},className:"px-2 py-1 bg-teal-500 text-white text-xs rounded hover:bg-teal-600 mr-2",title:"Refresh views list from backend",children:"Refresh Views"}),(0,Gr.jsx)("button",{onClick:()=>{console.log("Manual refresh trigger - navigation time:",Date.now()-A.current),M()},className:"px-2 py-1 bg-pink-500 text-white text-xs rounded hover:bg-pink-600",title:"Force refresh current view",children:"Force Refresh"})]})}),r.length>0&&(0,Gr.jsxs)("div",{className:"bg-blue-100 p-2 text-xs",children:[(0,Gr.jsx)("strong",{children:"Layout Debug:"})," ",r.map(e=>"".concat(e.i,": ").concat(e.w,"x").concat(e.h,"@(").concat(e.x,",").concat(e.y,")")).join(" | ")]}),g&&(0,Gr.jsx)("div",{className:"bg-green-100 border border-green-300 rounded-lg p-3 mx-4 mb-4",children:(0,Gr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}),(0,Gr.jsx)("span",{className:"text-green-800 font-medium",children:"Refreshing dashboard view..."})]})}),(0,Gr.jsx)(Mo,{views:l,onLoadView:async e=>{try{console.log("Loading view:",e);const{data:t}=await Yr.get("".concat(Wl,"/api/dashboard/views/").concat(e),{withCredentials:!0});await F(t)}catch(t){console.error("Failed to load view",t)}},onOpenSearchResult:e=>{console.log("Opening search result as tab:",e);const t="search-".concat(e.type,"-").concat(e.id);if(b.find(e=>e.id===t))return void U(t);const n={id:t,name:"contact"===e.type||"contacts"===e.type?e.title:"".concat(e.title," (").concat(e.type,")"),isDefault:!1};let r;r="contact"===e.type||"contacts"===e.type?[{i:"contact-profile-".concat(e.id),x:0,y:0,w:12,h:8,widgetKey:"contact-profile-widget",widgetData:{contactId:e.id}}]:"lead"===e.type||"leads"===e.type?[{i:"lead-profile-".concat(e.id),x:0,y:0,w:12,h:8,widgetKey:"lead-profile-widget",widgetData:{leadId:e.id}}]:"opportunity"===e.type||"opportunities"===e.type?[{i:"opportunity-profile-".concat(e.id),x:0,y:0,w:12,h:8,widgetKey:"opportunity-profile-widget",widgetData:{opportunityId:e.id}}]:"user"===e.type||"users"===e.type?[{i:"user-profile-".concat(e.id),x:0,y:0,w:12,h:8,widgetKey:"user-profile-widget",widgetData:{userId:e.id}}]:[{i:"search-result-".concat(e.id),x:0,y:0,w:12,h:4,widgetKey:"search-result-widget",resultData:e}],y(e=>[...e,n]),N(e=>c(c({},e),{},{[t]:r})),h(!0),w(t),d(t),a(r),console.log("Opened search result tab:",t,"with layout:",r),setTimeout(()=>h(!1),50)},onOpenPageTab:(e,t,n)=>{console.log("Opening ".concat(t," tab"));const r="".concat(e,"-page");if(b.find(e=>e.id===r))return void U(r);const s={id:r,name:t,isDefault:!1},o=[{i:n,x:0,y:0,w:12,h:8}];y(e=>[...e,s]),N(e=>c(c({},e),{},{[r]:o})),h(!0),w(r),d(r),a(o),console.log("Opened new page tab:",r,"with layout:",o),setTimeout(()=>h(!1),50)},onOpenUserProfile:W,currentViewId:u}),(0,Gr.jsx)(Uo,{openTabs:b,activeTabId:v,onSwitchTab:U,onCloseTab:async e=>{if(console.log("Closing tab:",e),b.length<=1)return void alert("Cannot close the last tab. Please open another view first.");const t=b.filter(t=>t.id!==e);if(y(t),v===e){const e=t[0];await U(e.id)}},onTabDragEnd:e=>{const{active:t,over:n}=e;if(D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{O(!1)},100),t&&n&&t.id!==n.id){const e=b.findIndex(e=>e.id===t.id),r=b.findIndex(e=>e.id===n.id);if(-1!==e&&-1!==r){const t=xo(b,e,r);y(t)}}},onTabDragStart:()=>{O(!0)},isDraggingTab:R,onRefreshTab:M,isRefreshing:g}),(0,Gr.jsxs)("main",{className:"p-4",children:[!v&&(0,Gr.jsx)("div",{className:"text-center py-12",children:(0,Gr.jsx)("div",{className:"text-gray-500 text-lg",children:"No views open. Use the dropdown above to open a view."})}),v&&r&&(0,Gr.jsx)(Gr.Fragment,{children:(0,Gr.jsxs)("div",{className:"mb-4 p-2 bg-green-100 rounded text-xs",children:[(0,Gr.jsx)("strong",{children:"Grid Layout Debug:"}),(0,Gr.jsxs)("div",{children:["Layout length: ",r.length]}),(0,Gr.jsxs)("div",{children:["Layout data: ",JSON.stringify(r)]}),(0,Gr.jsxs)("div",{children:["Active tab: ",v]}),(0,Gr.jsxs)("div",{children:["Current view ID: ",u]})]})}),v&&r&&(0,Gr.jsx)(Fl,{layout:r,widgetLibrary:s,isVisible:!f,onWidgetReady:(e,t)=>{console.log("Widget ".concat(e," ready in ").concat(t,"ms"))},onWidgetError:(e,t)=>{console.error("Widget ".concat(e," error:"),t)},onOpenContactProfile:async e=>{console.log("Dashboard handleOpenContactProfile called with contactId:",e);const t="contact-profile-".concat(e);if(b.find(e=>e.id===t))return void U(t);let n="Contact Profile";try{const t=await Yr.get("".concat(Wl,"/api/contacts/").concat(e),{withCredentials:!0});n="".concat(t.data.firstName," ").concat(t.data.lastName)}catch(o){console.error("Failed to fetch contact details for tab name:",o)}const r={id:t,name:n,isDefault:!1},s=[{i:"contact-profile-".concat(e),x:0,y:0,w:12,h:8,widgetKey:"contact-profile-widget",widgetData:{contactId:e}}];y(e=>[...e,r]),N(e=>c(c({},e),{},{[t]:s})),h(!0),w(t),d(t),a(s),console.log("Opened contact profile tab:",t,"with layout:",s),setTimeout(()=>h(!1),50)},onOpenLeadProfile:async(e,t)=>{console.log("Opening lead profile as tab:",e,t);const n="lead-profile-".concat(e);if(b.find(e=>e.id===n))return void U(n);let r=t||"Lead Profile";if(!t)try{r=(await Yr.get("".concat(Wl,"/api/leads/").concat(e),{withCredentials:!0})).data.title}catch(l){console.error("Failed to fetch lead details for tab name:",l)}const s={id:n,name:r,isDefault:!1},o=[{i:"lead-profile-".concat(e),x:0,y:0,w:12,h:8,widgetKey:"lead-profile-widget",widgetData:{leadId:e}}];y(e=>[...e,s]),N(e=>c(c({},e),{},{[n]:o})),h(!0),w(n),d(n),a(o),console.log("Opened lead profile tab:",n,"with layout:",o),setTimeout(()=>h(!1),50)},onOpenOpportunityProfile:async(e,t)=>{console.log("Opening opportunity profile as tab:",e,t);const n="opportunity-profile-".concat(e);if(b.find(e=>e.id===n))return void U(n);let r=t||"Opportunity Profile";if(!t)try{r=(await Yr.get("".concat(Wl,"/api/opportunities/").concat(e),{withCredentials:!0})).data.name}catch(l){console.error("Failed to fetch opportunity details for tab name:",l)}const s={id:n,name:r,isDefault:!1},o=[{i:"opportunity-profile-".concat(e),x:0,y:0,w:12,h:8,widgetKey:"opportunity-profile-widget",widgetData:{opportunityId:e}}];y(e=>[...e,s]),N(e=>c(c({},e),{},{[n]:o})),h(!0),w(n),d(n),a(o),console.log("Opened opportunity profile tab:",n,"with layout:",o),setTimeout(()=>h(!1),50)},onOpenBusinessProfile:async(e,t)=>{console.log("Opening business profile as tab:",e,t);const n="business-profile-".concat(e);if(b.find(e=>e.id===n))return void U(n);let r=t||"Business Profile";if(!t)try{r=(await Yr.get("".concat(Wl,"/api/businesses/").concat(e),{withCredentials:!0})).data.name}catch(l){console.error("Failed to fetch business details for tab name:",l)}const s={id:n,name:r,isDefault:!1},o=[{i:"business-profile-".concat(e),x:0,y:0,w:12,h:8,widgetKey:"business-profile-widget",widgetData:{businessId:e}}];y(e=>[...e,s]),N(e=>c(c({},e),{},{[n]:o})),h(!0),w(n),d(n),a(o),console.log("Opened business profile tab:",n,"with layout:",o),setTimeout(()=>h(!1),50)},onOpenUserProfile:W}),v&&(!r||f)&&(0,Gr.jsx)("div",{className:"text-center py-12",children:(0,Gr.jsx)("div",{className:"text-gray-500 text-lg",children:f?"Switching tabs...":"Loading tab content..."})})]})]})]}):(0,Gr.jsx)("div",{children:"Loading..."})},Hl=e=>{let{onSave:n,onClose:r}=e;const[a,s]=(0,t.useState)("");return(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Save Dashboard View"}),(0,Gr.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Enter view name...",className:"w-full px-3 py-2 border rounded-md"}),(0,Gr.jsxs)("div",{className:"flex justify-end mt-4",children:[(0,Gr.jsx)("button",{onClick:r,className:"mr-2 px-4 py-2 rounded text-gray-700 bg-gray-200",children:"Cancel"}),(0,Gr.jsx)("button",{onClick:()=>{a&&n(a)},className:"px-4 py-2 rounded text-white bg-blue-600",children:"Save"})]})]})})},ql=e=>{let{availableWidgets:t,onAddWidget:n,onClose:r}=e;return(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-sm",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Add a Widget"}),t.length>0?(0,Gr.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,Gr.jsx)("button",{onClick:()=>n(e.key),className:"w-full text-left px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md",children:e.name},e.key))}):(0,Gr.jsx)("p",{className:"text-gray-500",children:"All available widgets have been added."}),(0,Gr.jsx)("div",{className:"flex justify-end mt-6",children:(0,Gr.jsx)("button",{onClick:r,className:"px-4 py-2 rounded text-gray-700 bg-gray-200",children:"Close"})})]})})},Vl=(0,Wo.WidthProvider)(Wo.Responsive),Kl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,$l=()=>{const{user:e}=(0,t.useContext)(Xr),n=pe(),{viewId:r}=he(),[a,s]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[i,u]=(0,t.useState)([]),[d,m]=(0,t.useState)(null),[p,f]=(0,t.useState)(!0),[h,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)("lg"),[y,v]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!1);(0,t.useEffect)(()=>{e&&(async()=>{try{console.log("Loading initial data for EditLayout..."),console.log("View ID:",r),console.log("Fetching widget library...");const e=await Yr.get("".concat(Kl,"/api/widgets/manifest?includeInactive=false"),{withCredentials:!0});if(console.log("Widget library response:",e),u(e.data),!r)return console.log("No view ID provided, redirecting to dashboard"),void n("/dashboard");{console.log("Loading view:",r);const e=await Yr.get("".concat(Kl,"/api/dashboard/views/").concat(r),{withCredentials:!0});if(console.log("View response:",e.data),m(e.data),e.data.widgets&&e.data.widgets.length>0){const t=e.data.widgets.map(e=>({i:e.widgetKey,x:e.x||0,y:e.y||0,w:e.w||6,h:e.h||2,minW:2,minH:1,maxW:12,maxH:12}));s(t),l([...t])}else s([]),l([])}}catch(o){var e,t,a;if(console.error("Failed to load initial data",o),console.error("Error details:",null===(e=o.response)||void 0===e?void 0:e.data),console.error("Error status:",null===(t=o.response)||void 0===t?void 0:t.status),404===(null===(a=o.response)||void 0===a?void 0:a.status))return alert("View not found. Redirecting to dashboard."),void n("/dashboard");alert("Failed to load view data. Please try again."),n("/dashboard")}finally{f(!1)}})()},[e,r,n]),(0,t.useEffect)(()=>{const e=e=>{if(JSON.stringify(a)!==JSON.stringify(o)){console.log("Unsaved changes detected");const t="You have unsaved changes. Are you sure you want to leave?";return e.preventDefault(),e.returnValue=t,t}};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[a,o]);const N=(0,t.useMemo)(()=>a.map(e=>e.i),[a]),k=(0,t.useMemo)(()=>{const e=i.filter(e=>!N.includes(e.key));return console.log("Available widgets:",e),console.log("Current widget keys:",N),console.log("Widget library:",i),e},[i,N]);return e?p?(0,Gr.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:"Loading edit layout..."}):(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("style",{children:"\n                   .react-grid-item.react-grid-placeholder {\n                       background: #cbd5e0 !important;\n                       border: 2px dashed #718096 !important;\n                       border-radius: 8px !important;\n                   }\n                   .react-resizable-handle {\n                       background-image: none !important;\n                       background-color: #3b82f6 !important;\n                       border-radius: 2px !important;\n                       width: 8px !important;\n                       height: 8px !important;\n                   }\n                   .react-resizable-handle:hover {\n                       background-color: #2563eb !important;\n                   }\n                   .react-resizable-handle.react-resizable-handle-se {\n                       bottom: 2px !important;\n                       right: 2px !important;\n                   }\n                   .react-grid-item {\n                       transition: all 200ms ease;\n                       transition-property: left, top, width, height;\n                   }\n                   .react-grid-item.react-draggable-dragging {\n                       transition: none !important;\n                       z-index: 3 !important;\n                       will-change: transform;\n                   }\n                   .react-grid-item.react-grid-item.resizing {\n                       z-index: 1 !important;\n                       will-change: width, height;\n                   }\n                   .react-grid-item.react-grid-item.react-draggable.react-resizable {\n                       transition: all 200ms ease;\n                   }\n                   .react-grid-item.react-grid-item.react-draggable.react-resizable.react-resizable-handle {\n                       transition: none;\n                   }\n                   .react-grid-layout {\n                       position: relative;\n                       transition: height 200ms ease;\n                   }\n                   .react-grid-item {\n                       transition: all 200ms ease;\n                       transition-property: left, top, width, height;\n                       position: absolute;\n                       box-sizing: border-box;\n                   }\n                   .react-grid-item.cssTransforms {\n                       transition-property: transform, width, height;\n                   }\n                   .react-grid-item.resizing {\n                       z-index: 1;\n                       will-change: width, height;\n                   }\n                   .react-grid-item.react-draggable-dragging {\n                       transition: none !important;\n                       z-index: 3 !important;\n                       will-change: transform;\n                   }\n                   .react-grid-item.react-grid-placeholder {\n                       background: #cbd5e0 !important;\n                       border: 2px dashed #718096 !important;\n                       border-radius: 8px !important;\n                       transition-duration: 100ms;\n                       z-index: 2;\n                       -webkit-user-select: none;\n                       -moz-user-select: none;\n                       -ms-user-select: none;\n                       -o-user-select: none;\n                       user-select: none;\n                   }\n               "}),(0,Gr.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Gr.jsx)("header",{className:"bg-white shadow-md",children:(0,Gr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Gr.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,Gr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Layout"}),d&&(0,Gr.jsxs)("span",{className:"text-gray-600",children:["- ",d.name]})]}),(0,Gr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gr.jsxs)("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center space-x-2",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Gr.jsx)("span",{children:"Add Widget"})]}),(0,Gr.jsx)("button",{onClick:async()=>{try{if(g(!0),console.log("Saving view:",null===d||void 0===d?void 0:d.id),!d)return void console.error("No current view selected");const e=a.map(e=>({widgetKey:e.i,x:e.x,y:e.y,w:e.w,h:e.h})),t=await Yr.put("".concat(Kl,"/api/dashboard/views/").concat(d.id),{name:d.name,widgets:e},{withCredentials:!0});console.log("View updated successfully:",t.data),l([...a]),localStorage.setItem("returningFromEditLayout",Date.now().toString()),alert("View saved successfully!")}catch(t){var e;console.error("Failed to update view",t),console.error("Error details:",null===(e=t.response)||void 0===e?void 0:e.data),alert("Failed to save view. Please try again.")}finally{g(!1)}},disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-400",children:h?"Saving...":"Save Changes"}),(0,Gr.jsx)("button",{onClick:()=>{console.log("Canceling edit, reverting to original layout"),console.log("Original layout:",o),s([...o])},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Reset"}),(0,Gr.jsx)("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Save as New View"}),(0,Gr.jsx)("button",{onClick:()=>{if(JSON.stringify(a)!==JSON.stringify(o)){if(!window.confirm("You have unsaved changes. Are you sure you want to leave? Your changes will be lost."))return;console.log("User confirmed leaving with unsaved changes")}console.log("Navigating back to Dashboard"),localStorage.setItem("returningFromEditLayout",Date.now().toString()),n("/dashboard")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Back to Dashboard"})]})]})})}),(0,Gr.jsx)("div",{className:"mb-4 p-3 bg-blue-100 border border-blue-300 rounded-lg mx-4 mt-4",children:(0,Gr.jsx)("p",{className:"text-blue-800 font-medium",children:"\ud83c\udfaf Edit Mode Active - You can now drag, resize, and remove widgets. Click the red X to remove widgets."})}),y&&(0,Gr.jsx)(Hl,{onSave:async e=>{try{console.log("Saving new view:",e);const t=a.map(e=>({widgetKey:e.i,x:e.x,y:e.y,w:e.w,h:e.h})),n=await Yr.post("".concat(Kl,"/api/dashboard/views"),{name:e,widgets:t},{withCredentials:!0});console.log("New view saved successfully:",n.data),v(!1),alert("New view saved successfully!")}catch(n){var t;console.error("Failed to save new view",n),console.error("Error details:",null===(t=n.response)||void 0===t?void 0:t.data),alert("Failed to save new view. Please try again.")}},onClose:()=>v(!1)}),w&&(0,Gr.jsx)(ql,{availableWidgets:k,onAddWidget:e=>{console.log("Adding widget:",e);if(!i.find(t=>t.key===e))return void console.log("Widget not found in library");const t={i:e,x:3*a.length%12,y:1/0,w:6,h:2,minW:2,minH:1,maxW:12,maxH:12};console.log("Adding new layout item:",t);const n=[...a,t];s(n),j(!1)},onClose:()=>j(!1)}),(0,Gr.jsxs)("main",{className:"p-4",children:[(0,Gr.jsxs)("div",{className:"mb-4 p-2 bg-gray-100 rounded text-xs",children:[(0,Gr.jsxs)("div",{children:["Layout items: ",a.length]}),(0,Gr.jsxs)("div",{children:["Widget library: ",i.length," widgets"]}),(0,Gr.jsxs)("div",{children:["Current view: ",(null===d||void 0===d?void 0:d.name)||"None"]}),(0,Gr.jsxs)("div",{children:["Current breakpoint: ",x]}),(0,Gr.jsx)("div",{children:"Grid: 12 cols (lg/md/sm/xs/xxs)"}),(0,Gr.jsxs)("div",{children:["Layout: ",JSON.stringify(a.map(e=>({i:e.i,x:e.x,y:e.y,w:e.w,h:e.h})))]})]}),(0,Gr.jsx)(Vl,{layouts:{lg:a},onLayoutChange:e=>{console.log("Layout changed:",e),console.log("Previous layout:",a),console.log("New layout:",e);const t=e.map(e=>c(c({},e),{},{minW:e.minW||2,minH:e.minH||1,maxW:e.maxW||12,maxH:e.maxH||12}));s(t)},className:"layout",cols:{lg:12,md:12,sm:12,xs:12,xxs:12},rowHeight:100,isDraggable:!0,isResizable:!0,margin:[10,10],containerPadding:[10,10],style:{minHeight:"400px"},useCSSTransforms:!0,compactType:"vertical",preventCollision:!1,isBounded:!1,autoSize:!0,verticalCompact:!0,allowOverlap:!1,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},onBreakpointChange:e=>{console.log("EditLayout breakpoint changed to:",e),b(e)},children:a.map(e=>{console.log("Looking for widget:",e.i,"in library:",i);const t=i.find(t=>t.key===e.i);return console.log("Found widget:",t,"for item:",e),0===i.length?(0,Gr.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-4",children:(0,Gr.jsx)("div",{className:"text-gray-500",children:"Loading widget library..."})},e.i):(0,Gr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-2 overflow-hidden transition-all duration-200 relative ring-2 ring-blue-500 ring-offset-2 cursor-move","data-widget-key":e.i,children:[(0,Gr.jsx)("button",{onClick:t=>((e,t)=>{t.preventDefault(),t.stopPropagation(),console.log("Removing widget:",e);const n=a.filter(t=>t.i!==e);s(n)})(e.i,t),className:"absolute top-2 right-2 z-50 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors duration-200 shadow-lg",style:{zIndex:9999},title:"Remove widget",children:(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Gr.jsxs)("div",{className:"pt-6",children:[console.log("Rendering widget:",e.i,"widget data:",t,"type:",null===t||void 0===t?void 0:t.type),t?(0,Gr.jsx)(zl,{widgetKey:e.i,widgetPath:null===t||void 0===t?void 0:t.path,type:null===t||void 0===t?void 0:t.type,isVisible:!0,onWidgetReady:(e,t)=>{console.log("Widget ".concat(e," ready in ").concat(t,"ms"))},onWidgetError:(e,t)=>{console.error("Widget ".concat(e," error:"),t)}}):(0,Gr.jsxs)("div",{className:"text-center p-4",children:[(0,Gr.jsxs)("div",{className:"text-red-600 text-sm font-medium",children:["Widget not found: ",e.i]}),(0,Gr.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"This widget may have been removed or renamed. You can remove it from the layout."}),(0,Gr.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Size: ",e.w,"x",e.h," | Position: (",e.x,", ",e.y,")"]})]})]}),(0,Gr.jsx)("div",{className:"absolute bottom-1 left-1 z-10",children:(0,Gr.jsxs)("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded opacity-75",children:[e.w,"\xd7",e.h]})})]},e.i)})}),0===a.length&&(0,Gr.jsx)("div",{className:"text-center py-12",children:(0,Gr.jsx)("div",{className:"text-gray-500 text-lg",children:'No widgets in this layout. Click "Add Widget" to get started.'})})]})]})]}):(0,Gr.jsx)("div",{children:"Loading..."})},Yl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,Gl=()=>{const[e,n]=(0,t.useState)(""),[r,a]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[l,i]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[f,h]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(""),[j,N]=(0,t.useState)(!1),k=pe(),{user:S,setUser:C}=Qr();return(0,Gr.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:(0,Gr.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md w-full max-w-2xl",children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-center mb-2",children:"Create Your Company"}),(0,Gr.jsx)("p",{className:"text-center text-gray-600 mb-6",children:"Welcome! Let's get your company set up in the CRM."}),(0,Gr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),w(""),N(!0),!e||!r)return w("Company name and industry are required."),void N(!1);try{const{data:t}=await Yr.post("".concat(Yl,"/api/companies"),{name:e,industry:r,website:s,phone_number:l,ms365ClientId:u,ms365ClientSecret:m,ms365TenantId:f,ms365EmailFrom:g,emailEnabled:b},{withCredentials:!0}),n=c(c({},S),{},{companyId:t.id,role:"Administrator"});C(n),k("/dashboard")}catch(o){var n,a;const e=(null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to create company.";w(e)}finally{N(!1)}},children:[v&&(0,Gr.jsx)("p",{className:"text-red-500 text-center mb-4",children:v}),(0,Gr.jsxs)("div",{className:"mb-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Basic Information"}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),(0,Gr.jsx)("input",{type:"text",id:"name",value:e,onChange:e=>n(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700",children:"Industry *"}),(0,Gr.jsx)("input",{type:"text",id:"industry",value:r,onChange:e=>a(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,Gr.jsx)("input",{type:"url",id:"website",placeholder:"https://example.com",value:s,onChange:e=>o(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,Gr.jsx)("input",{type:"tel",id:"phoneNumber",value:l,onChange:e=>i(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,Gr.jsxs)("div",{className:"mb-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Microsoft 365 Email Configuration (Optional)"}),(0,Gr.jsx)("div",{className:"mb-4",children:(0,Gr.jsxs)("label",{className:"flex items-center",children:[(0,Gr.jsx)("input",{type:"checkbox",checked:b,onChange:e=>y(e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,Gr.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Enable Email Functionality"})]})}),b&&(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"ms365ClientId",className:"block text-sm font-medium text-gray-700",children:"Client ID"}),(0,Gr.jsx)("input",{type:"text",id:"ms365ClientId",value:u,onChange:e=>d(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Application (client) ID from Azure App Registration"})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"ms365ClientSecret",className:"block text-sm font-medium text-gray-700",children:"Client Secret"}),(0,Gr.jsx)("input",{type:"password",id:"ms365ClientSecret",value:m,onChange:e=>p(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Client Secret from Azure App Registration"})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"ms365TenantId",className:"block text-sm font-medium text-gray-700",children:"Tenant ID"}),(0,Gr.jsx)("input",{type:"text",id:"ms365TenantId",value:f,onChange:e=>h(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Directory (tenant) ID from Azure App Registration"})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"ms365EmailFrom",className:"block text-sm font-medium text-gray-700",children:"From Email Address"}),(0,Gr.jsx)("input",{type:"email",id:"ms365EmailFrom",value:g,onChange:e=>x(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"email@yourdomain.com"})]}),(0,Gr.jsx)("div",{className:"mb-4 p-3 bg-blue-50 rounded-md",children:(0,Gr.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Gr.jsx)("strong",{children:"Note:"})," You can configure email settings later in the Company Settings. This will allow you to send emails directly from your CRM using Microsoft 365."]})})]})]}),(0,Gr.jsx)("div",{children:(0,Gr.jsx)("button",{type:"submit",disabled:j,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400",children:j?"Creating...":"Create Company & Go to Dashboard"})})]})]})})},Xl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,Ql=()=>{const e=pe(),{user:n}=Qr(),[r,a]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[l,i]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[h,g]=(0,t.useState)(""),[x,b]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!0),[N,k]=(0,t.useState)(""),[S,C]=(0,t.useState)(!1),[E,P]=(0,t.useState)(!1),[T,R]=(0,t.useState)(!1),[O,D]=(0,t.useState)(null),[L,_]=(0,t.useState)(""),[A,z]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{if(null===n||void 0===n||!n.companyId)return k("No company associated with this user."),void j(!1);try{const e=(await Yr.get("".concat(Xl,"/api/companies/").concat(n.companyId),{withCredentials:!0})).data;a(e.name),o(e.industry),i(e.website||""),u(e.phone_number||""),m(e.ms365ClientId||""),f(e.ms365ClientSecret||""),g(e.ms365TenantId||""),b(e.ms365EmailFrom||""),v(e.emailEnabled||!1)}catch(r){var e,t;k((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch company details.")}finally{j(!1)}})()},[n]);return w?(0,Gr.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Gr.jsx)("p",{children:"Loading Company Details..."})}):(0,Gr.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:(0,Gr.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md w-full max-w-2xl",children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Edit Company Details"}),(0,Gr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),k(""),C(!0),!r||!s)return k("Company name and industry are required."),void C(!1);try{await Yr.put("".concat(Xl,"/api/companies/").concat(n.companyId),{name:r,industry:s,website:l,phone_number:c,ms365ClientId:d,ms365ClientSecret:p,ms365TenantId:h,ms365EmailFrom:x,emailEnabled:y},{withCredentials:!0}),e("/dashboard")}catch(i){var a,o;k((null===(a=i.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"Failed to update company.")}finally{C(!1)}},children:[N&&(0,Gr.jsx)("p",{className:"text-red-500 text-center mb-4",children:N}),(0,Gr.jsxs)("div",{className:"mb-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Basic Information"}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),(0,Gr.jsx)("input",{type:"text",id:"name",value:r,onChange:e=>a(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700",children:"Industry *"}),(0,Gr.jsx)("input",{type:"text",id:"industry",value:s,onChange:e=>o(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,Gr.jsx)("input",{type:"url",id:"website",placeholder:"https://example.com",value:l,onChange:e=>i(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,Gr.jsx)("input",{type:"tel",id:"phoneNumber",value:c,onChange:e=>u(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]})]}),(0,Gr.jsxs)("div",{className:"mb-6",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Microsoft 365 Email Configuration"}),(0,Gr.jsx)("div",{className:"mb-4",children:(0,Gr.jsxs)("label",{className:"flex items-center",children:[(0,Gr.jsx)("input",{type:"checkbox",checked:y,onChange:e=>v(e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,Gr.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Enable Email Functionality"})]})}),y&&(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"ms365ClientId",className:"block text-sm font-medium text-gray-700",children:"Client ID *"}),(0,Gr.jsx)("input",{type:"text",id:"ms365ClientId",value:d,onChange:e=>m(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",placeholder:"Application (client) ID from Azure App Registration"})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"ms365ClientSecret",className:"block text-sm font-medium text-gray-700",children:"Client Secret *"}),(0,Gr.jsx)("input",{type:"password",id:"ms365ClientSecret",value:p,onChange:e=>f(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",placeholder:"Client Secret from Azure App Registration"})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"ms365TenantId",className:"block text-sm font-medium text-gray-700",children:"Tenant ID *"}),(0,Gr.jsx)("input",{type:"text",id:"ms365TenantId",value:h,onChange:e=>g(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",placeholder:"Directory (tenant) ID from Azure App Registration"})]}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"ms365EmailFrom",className:"block text-sm font-medium text-gray-700",children:"From Email Address *"}),(0,Gr.jsx)("input",{type:"email",id:"ms365EmailFrom",value:x,onChange:e=>b(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",placeholder:"email@yourdomain.com"})]}),(0,Gr.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,Gr.jsx)("h3",{className:"text-md font-semibold mb-3 text-gray-700",children:"Test Email Configuration"}),(0,Gr.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,Gr.jsx)("button",{type:"button",onClick:async()=>{R(!0),D(null),k("");try{const e=await Yr.post("".concat(Xl,"/api/companies/").concat(n.companyId,"/test-token"),{},{withCredentials:!0});D(e.data)}catch(r){var e,t;k((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to test token acquisition.")}finally{R(!1)}},disabled:T,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-400",children:T?"Testing Token...":"Test Token Acquisition"}),(0,Gr.jsx)("p",{className:"text-xs text-gray-600",children:"This tests if your credentials are valid (minimal permissions required)"}),(0,Gr.jsx)("button",{type:"button",onClick:async()=>{P(!0),D(null),k("");try{const e=await Yr.post("".concat(Xl,"/api/companies/").concat(n.companyId,"/test-email-config"),{},{withCredentials:!0});D(e.data)}catch(r){var e,t;k((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to test email configuration.")}finally{P(!1)}},disabled:E,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-400",children:E?"Testing...":"Test Full Configuration"}),(0,Gr.jsx)("p",{className:"text-xs text-gray-600",children:"This tests full email functionality (requires Mail.Send permission)"})]}),O&&(0,Gr.jsx)("div",{className:"mb-4 p-3 rounded-md ".concat(O.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:(0,Gr.jsx)("p",{className:"text-sm",children:O.message})}),(0,Gr.jsxs)("div",{className:"mb-4",children:[(0,Gr.jsx)("label",{htmlFor:"testEmailAddress",className:"block text-sm font-medium text-gray-700",children:"Test Email Address"}),(0,Gr.jsxs)("div",{className:"flex gap-2",children:[(0,Gr.jsx)("input",{type:"email",id:"testEmailAddress",value:L,onChange:e=>_(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm",placeholder:"test@example.com"}),(0,Gr.jsx)("button",{type:"button",onClick:async()=>{if(L){z(!0),k("");try{const e=await Yr.post("".concat(Xl,"/api/companies/").concat(n.companyId,"/send-test-email"),{testEmailAddress:L},{withCredentials:!0});D(e.data),e.data.success&&_("")}catch(r){var e,t;k((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to send test email.")}finally{z(!1)}}else k("Please enter a test email address.")},disabled:A||!L,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-400",children:A?"Sending...":"Send Test"})]})]})]})]})]}),(0,Gr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gr.jsx)("button",{type:"button",onClick:()=>e("/dashboard"),className:"w-auto inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",disabled:S,className:"w-auto inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400",children:S?"Saving...":"Save Changes"})]})]})]})})},Jl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,Zl=()=>{const{user:e}=(0,t.useContext)(Xr),[n,r]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[i,u]=(0,t.useState)({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:20}),[d,m]=(0,t.useState)({search:"",status:"",companyId:"",assignedTo:""}),[p,f]=(0,t.useState)(!1),[h,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[y,v]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",mobile:"",jobTitle:"",department:"",address:"",city:"",state:"",zipCode:"",country:"",notes:"",status:"active",source:"",tags:[],companyId:"",assignedTo:""}),[w,j]=(0,t.useState)(null),[N,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)([]),[E,P]=(0,t.useState)([]),T=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{s(!0);const t=new URLSearchParams(c({page:e,limit:i.itemsPerPage},d)),n=await Yr.get("".concat(Jl,"/api/contacts?").concat(t),{withCredentials:!0});r(n.data.contacts),u(n.data.pagination)}catch(o){console.error("Error loading contacts:",o),l("Failed to load contacts")}finally{s(!1)}};(0,t.useEffect)(()=>{T(),(async()=>{try{const[e,t]=await Promise.all([Yr.get("".concat(Jl,"/api/companies"),{withCredentials:!0}),Yr.get("".concat(Jl,"/api/users"),{withCredentials:!0})]);C(e.data),P(t.data)}catch(o){console.error("Error loading dropdown data:",o)}})()},[]),(0,t.useEffect)(()=>{T(1)},[d]);const R=(e,t)=>{m(n=>c(c({},n),{},{[e]:t}))},O=e=>{const{name:t,value:n}=e.target;v(e=>c(c({},e),{},{[t]:n}))},D=e=>{if("Enter"===e.key&&e.target.value.trim()){e.preventDefault();const t=e.target.value.trim();v(e=>c(c({},e),{},{tags:[...e.tags,t]})),e.target.value=""}},L=()=>{v({firstName:"",lastName:"",email:"",phone:"",mobile:"",jobTitle:"",department:"",address:"",city:"",state:"",zipCode:"",country:"",notes:"",status:"active",source:"",tags:[],companyId:"",assignedTo:""})},_=async e=>{e.preventDefault();try{h?(await Yr.put("".concat(Jl,"/api/contacts/").concat(x.id),y,{withCredentials:!0}),g(!1)):(await Yr.post("".concat(Jl,"/api/contacts"),y,{withCredentials:!0}),f(!1)),L(),T(i.currentPage)}catch(o){var t,n;console.error("Error saving contact:",o),alert((null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to save contact")}},A=e=>{let{isOpen:t,onClose:n,title:r,onSubmit:a}=e;return t?(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-xl font-bold",children:r}),(0,Gr.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,Gr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gr.jsxs)("form",{onSubmit:a,className:"space-y-4",children:[(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsx)("h3",{className:"font-semibold text-gray-700",children:"Basic Information"}),(0,Gr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"First Name *"}),(0,Gr.jsx)("input",{type:"text",name:"firstName",value:y.firstName,onChange:O,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name *"}),(0,Gr.jsx)("input",{type:"text",name:"lastName",value:y.lastName,onChange:O,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Gr.jsx)("input",{type:"email",name:"email",value:y.email,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,Gr.jsx)("input",{type:"tel",name:"phone",value:y.phone,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),(0,Gr.jsx)("input",{type:"tel",name:"mobile",value:y.mobile,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Job Title"}),(0,Gr.jsx)("input",{type:"text",name:"jobTitle",value:y.jobTitle,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,Gr.jsx)("input",{type:"text",name:"department",value:y.department,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsx)("h3",{className:"font-semibold text-gray-700",children:"Address Information"}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,Gr.jsx)("textarea",{name:"address",value:y.address,onChange:O,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,Gr.jsx)("input",{type:"text",name:"city",value:y.city,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,Gr.jsx)("input",{type:"text",name:"state",value:y.state,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),(0,Gr.jsx)("input",{type:"text",name:"zipCode",value:y.zipCode,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,Gr.jsx)("input",{type:"text",name:"country",value:y.country,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),(0,Gr.jsxs)("div",{className:"space-y-4",children:[(0,Gr.jsx)("h3",{className:"font-semibold text-gray-700",children:"Additional Information"}),(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Gr.jsxs)("select",{name:"status",value:y.status,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"active",children:"Active"}),(0,Gr.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Gr.jsx)("option",{value:"prospect",children:"Prospect"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,Gr.jsx)("input",{type:"text",name:"source",value:y.source,onChange:O,placeholder:"e.g., Website, Referral, Trade Show",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),(0,Gr.jsxs)("select",{name:"companyId",value:y.companyId,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"Select Company"}),S.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,Gr.jsxs)("select",{name:"assignedTo",value:y.assignedTo,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"Select User"}),E.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),(0,Gr.jsx)("input",{type:"text",placeholder:"Press Enter to add a tag",onKeyPress:D,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),y.tags.length>0&&(0,Gr.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:y.tags.map((e,t)=>(0,Gr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e,(0,Gr.jsx)("button",{type:"button",onClick:()=>{return t=e,void v(e=>c(c({},e),{},{tags:e.tags.filter(e=>e!==t)}));var t},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:(0,Gr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,Gr.jsx)("textarea",{name:"notes",value:y.notes,onChange:O,rows:"4",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Gr.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:h?"Update Contact":"Create Contact"})]})]})]})}):null};return a?(0,Gr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?(0,Gr.jsxs)("div",{className:"text-center py-12",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-lg",children:o}),(0,Gr.jsx)("button",{onClick:()=>T(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]}):(0,Gr.jsxs)("div",{className:"p-6",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Contacts"}),(0,Gr.jsxs)("button",{onClick:()=>{L(),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[(0,Gr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Gr.jsx)("span",{children:"Add Contact"})]})]}),(0,Gr.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,Gr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,Gr.jsx)("input",{type:"text",placeholder:"Search contacts...",value:d.search,onChange:e=>R("search",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Gr.jsxs)("select",{value:d.status,onChange:e=>R("status",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All Statuses"}),(0,Gr.jsx)("option",{value:"active",children:"Active"}),(0,Gr.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Gr.jsx)("option",{value:"prospect",children:"Prospect"})]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),(0,Gr.jsxs)("select",{value:d.companyId,onChange:e=>R("companyId",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All Companies"}),S.map(e=>(0,Gr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),(0,Gr.jsxs)("select",{value:d.assignedTo,onChange:e=>R("assignedTo",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Gr.jsx)("option",{value:"",children:"All Users"}),E.map(e=>(0,Gr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]})]})}),(0,Gr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Gr.jsx)("div",{className:"overflow-x-auto",children:(0,Gr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gr.jsx)("thead",{className:"bg-gray-50",children:(0,Gr.jsxs)("tr",{children:[(0,Gr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Gr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),(0,Gr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),(0,Gr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Gr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),(0,Gr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Gr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>{var t;return(0,Gr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Gr.jsxs)("div",{className:"flex items-center",children:[(0,Gr.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Gr.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Gr.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})})}),(0,Gr.jsxs)("div",{className:"ml-4",children:[(0,Gr.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,Gr.jsx)("div",{className:"text-sm text-gray-500",children:e.jobTitle})]})]})}),(0,Gr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Gr.jsx)("div",{className:"text-sm text-gray-900",children:e.email}),(0,Gr.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,Gr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Gr.jsx)("div",{className:"text-sm text-gray-900",children:(null===(t=e.company)||void 0===t?void 0:t.name)||"-"})}),(0,Gr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Gr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"inactive"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,Gr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.assignedUser?"".concat(e.assignedUser.firstName," ").concat(e.assignedUser.lastName):"-"}),(0,Gr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,Gr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Gr.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>(e=>{b(e),v({firstName:e.firstName,lastName:e.lastName,email:e.email||"",phone:e.phone||"",mobile:e.mobile||"",jobTitle:e.jobTitle||"",department:e.department||"",address:e.address||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",country:e.country||"",notes:e.notes||"",status:e.status||"active",source:e.source||"",tags:e.tags||[],companyId:e.companyId||"",assignedTo:e.assignedTo||""}),g(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),(0,Gr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this contact?"))try{const t=await Yr.delete("".concat(Jl,"/api/contacts/").concat(e),{withCredentials:!0});j(t.data.deletedContact),k(!0),setTimeout(()=>{k(!1),j(null)},1e4),T(i.currentPage)}catch(o){console.error("Error deleting contact:",o),alert("Failed to delete contact")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e.id)})})]})}),i.totalPages>1&&(0,Gr.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,Gr.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Gr.jsx)("button",{onClick:()=>T(i.currentPage-1),disabled:1===i.currentPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,Gr.jsx)("button",{onClick:()=>T(i.currentPage+1),disabled:i.currentPage===i.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),(0,Gr.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Gr.jsx)("div",{children:(0,Gr.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing"," ",(0,Gr.jsx)("span",{className:"font-medium",children:(i.currentPage-1)*i.itemsPerPage+1})," ","to"," ",(0,Gr.jsx)("span",{className:"font-medium",children:Math.min(i.currentPage*i.itemsPerPage,i.totalItems)})," ","of"," ",(0,Gr.jsx)("span",{className:"font-medium",children:i.totalItems})," ","results"]})}),(0,Gr.jsx)("div",{children:(0,Gr.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Gr.jsx)("button",{onClick:()=>T(i.currentPage-1),disabled:1===i.currentPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:i.totalPages},(e,t)=>t+1).map(e=>(0,Gr.jsx)("button",{onClick:()=>T(e),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(e===i.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:e},e)),(0,Gr.jsx)("button",{onClick:()=>T(i.currentPage+1),disabled:i.currentPage===i.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]}),(0,Gr.jsx)(A,{isOpen:p,onClose:()=>f(!1),title:"Add New Contact",onSubmit:_}),(0,Gr.jsx)(A,{isOpen:h,onClose:()=>g(!1),title:"Edit Contact",onSubmit:_}),N&&w&&(0,Gr.jsxs)("div",{className:"fixed bottom-4 right-4 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-3 z-50",children:[(0,Gr.jsx)("span",{children:"Contact deleted successfully"}),(0,Gr.jsx)("button",{onClick:async()=>{try{await Yr.post("".concat(Jl,"/api/contacts/").concat(w.id,"/undo"),{deletedContact:w},{withCredentials:!0}),k(!1),j(null),T(i.currentPage)}catch(o){console.error("Error undoing deletion:",o),alert("Failed to restore contact")}},className:"bg-white text-red-600 px-3 py-1 rounded text-sm font-medium hover:bg-gray-100",children:"Undo"}),(0,Gr.jsx)("button",{onClick:()=>k(!1),className:"text-white hover:text-gray-200",children:(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},ei=["search"],ti={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,ni=()=>{const{user:e}=(0,t.useContext)(Xr),n=pe(),[r,s]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[i,u]=(0,t.useState)(null),[d,m]=(0,t.useState)({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[p,f]=(0,t.useState)({search:""}),[h,g]=(0,t.useState)(""),[x,b]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(null),[E,P]=(0,t.useState)({}),[T,R]=(0,t.useState)({}),[O,D]=(0,t.useState)({}),L=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{l(!0);const t=new URLSearchParams(c({page:e,limit:d.itemsPerPage},p)),n=await Yr.get("".concat(ti,"/api/dashboard/views?").concat(t),{withCredentials:!0});s(n.data.items),m(n.data.pagination)}catch(i){console.error("Error loading views:",i),u("Failed to load views")}finally{l(!1)}},[p,d.itemsPerPage]);(0,t.useEffect)(()=>((async()=>{try{await L()}catch(i){console.error("Error initializing widget:",i),u("Failed to initialize widget")}})(),()=>{window.searchTimeout&&clearTimeout(window.searchTimeout)}),[L]);const _=(0,t.useCallback)(e=>{h!==e&&(g(e),window.searchTimeout&&clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{f(t=>{const n=c(c({},t),{},{search:e});if(!e.trim()){const{search:e}=n;return a(n,ei)}return n}),L(1)},300))},[h,L]),A=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;P(e=>c(c({},e),{},{[t]:n}))},[]),z=(0,t.useCallback)(()=>{f(e=>c(c({},e),E)),b(!1),L(1)},[E,L]),M=(0,t.useCallback)(()=>{f({search:h}),P({}),L(1)},[h,L]),I=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;R(e=>c(c({},e),{},{[t]:n}))},[]),F=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;D(e=>c(c({},e),{},{[t]:n}))},[]),U=(0,t.useCallback)(()=>{R({}),D({})},[]),W=(0,t.useCallback)(()=>{U(),v(!0)},[U]),B=(0,t.useCallback)(()=>{P(p),b(!0)},[p]),H=((0,t.useCallback)(e=>{C(e),R(e),j(!0)},[]),(0,t.useCallback)(e=>{C(e),D({name:e.name}),k(!0)},[])),q=(0,t.useCallback)(async e=>{e.preventDefault();try{await Yr.post("".concat(ti,"/api/dashboard/views"),T,{withCredentials:!0}),v(!1),U(),L(d.currentPage)}catch(i){var t,n;console.error("Error creating view:",i),alert((null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to create view")}},[T,U,L,d.currentPage]),V=(0,t.useCallback)(async e=>{e.preventDefault();try{await Yr.put("".concat(ti,"/api/dashboard/views/").concat(S.id),O,{withCredentials:!0}),k(!1),U(),L(d.currentPage)}catch(i){var t,n;console.error("Error renaming view:",i),alert((null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to rename view")}},[O,S,U,L,d.currentPage]),K=(0,t.useCallback)(e=>{n("/edit-layout/".concat(e.id))},[n]),$=(0,t.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this view? This action cannot be undone."))try{await Yr.delete("".concat(ti,"/api/dashboard/views/").concat(e),{withCredentials:!0}),L(d.currentPage)}catch(i){console.error("Error deleting view:",i),alert("Failed to delete view")}},[L,d.currentPage]),Y=(0,t.useCallback)(async e=>{try{await Yr.post("".concat(ti,"/api/dashboard/views/").concat(e,"/set-default"),{},{withCredentials:!0}),L(d.currentPage)}catch(i){console.error("Error setting default view:",i),alert("Failed to set default view")}},[L,d.currentPage]);if(o)return(0,Gr.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return(0,Gr.jsxs)("div",{className:"text-center py-8",children:[(0,Gr.jsx)("div",{className:"text-red-600 text-sm",children:i}),(0,Gr.jsx)("button",{onClick:()=>L(),className:"mt-2 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Retry"})]});const G=Object.values(p).some(e=>e&&""!==e);return(0,Gr.jsxs)("div",{className:"h-full overflow-hidden",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"My Dashboard Views"}),(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsxs)("button",{onClick:B,className:"px-3 py-1 text-sm rounded flex items-center space-x-1 ".concat(G?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300"," hover:bg-gray-200"),children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),(0,Gr.jsx)("span",{children:"Filter"}),G&&(0,Gr.jsx)("span",{className:"bg-blue-600 text-white text-xs rounded-full px-1.5 py-0.5",children:Object.values(p).filter(e=>e&&""!==e).length})]}),(0,Gr.jsxs)("button",{onClick:W,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center space-x-1",children:[(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Gr.jsx)("span",{children:"Add View"})]})]})]}),(0,Gr.jsx)("div",{className:"mb-4",children:(0,Gr.jsx)("input",{type:"text",placeholder:"Search views...",value:h,onChange:e=>_(e.target.value),onKeyDown:e=>e.stopPropagation(),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})}),G&&(0,Gr.jsx)("div",{className:"mb-4 p-2 bg-blue-50 border border-blue-200 rounded-md",children:(0,Gr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gr.jsx)("div",{className:"flex flex-wrap gap-2",children:p.search&&(0,Gr.jsxs)("span",{className:"bg-blue-200 text-blue-800 px-2 py-1 rounded text-xs",children:["Search: ",p.search]})}),(0,Gr.jsx)("button",{onClick:M,className:"text-xs text-blue-600 hover:text-blue-800",children:"Clear All"})]})}),(0,Gr.jsxs)("div",{className:"overflow-x-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[(0,Gr.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,Gr.jsx)("thead",{className:"bg-gray-50",children:(0,Gr.jsxs)("tr",{children:[(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Widgets"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Default"}),(0,Gr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gr.jsx)("tbody",{className:"divide-y divide-gray-200",children:r.map(e=>(0,Gr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsxs)("div",{className:"text-sm text-gray-500",children:[e.widgets?e.widgets.length:0," widgets"]})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Gr.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.is_default?(0,Gr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Default"}):(0,Gr.jsx)("span",{className:"text-gray-400 text-xs",children:"-"})}),(0,Gr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:(0,Gr.jsxs)("div",{className:"flex space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>K(e),className:"text-blue-600 hover:text-blue-900",title:"Edit Layout",children:(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Gr.jsx)("button",{onClick:()=>H(e),className:"text-green-600 hover:text-green-900",title:"Rename",children:(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),!e.is_default&&(0,Gr.jsx)("button",{onClick:()=>Y(e.id),className:"text-purple-600 hover:text-purple-900",title:"Set as Default",children:(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Gr.jsx)("button",{onClick:()=>$(e.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:(0,Gr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id))})]}),d.totalPages>1&&(0,Gr.jsxs)("div",{className:"mt-4 flex justify-between items-center px-4",children:[(0,Gr.jsxs)("div",{className:"text-xs text-gray-500",children:["Page ",d.currentPage," of ",d.totalPages]}),(0,Gr.jsxs)("div",{className:"flex space-x-1",children:[(0,Gr.jsx)("button",{onClick:()=>L(d.currentPage-1),disabled:1===d.currentPage,className:"px-2 py-1 text-xs border border-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Gr.jsx)("button",{onClick:()=>L(d.currentPage+1),disabled:d.currentPage===d.totalPages,className:"px-2 py-1 text-xs border border-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]}),x&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Filter Views"}),(0,Gr.jsx)("div",{className:"space-y-4",children:(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,Gr.jsx)("input",{type:"text",name:"search",value:E.search||"",onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",placeholder:"Search views..."})]})}),(0,Gr.jsxs)("div",{className:"flex justify-end mt-6 space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{onClick:z,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Apply Filters"})]})]})}),y&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New View"}),(0,Gr.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View Name"}),(0,Gr.jsx)("input",{type:"text",name:"name",value:T.name||"",onChange:I,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",placeholder:"Enter view name...",required:!0})]}),(0,Gr.jsxs)("div",{className:"flex items-center",children:[(0,Gr.jsx)("input",{type:"checkbox",name:"isDefault",checked:T.isDefault||!1,onChange:e=>R(t=>c(c({},t),{},{isDefault:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Gr.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Set as default view"})]})]}),(0,Gr.jsxs)("div",{className:"flex justify-end mt-6 space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>v(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{onClick:q,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create View"})]})]})}),N&&(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[(0,Gr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Rename View"}),(0,Gr.jsx)("form",{onSubmit:V,className:"space-y-4",children:(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View Name"}),(0,Gr.jsx)("input",{type:"text",name:"name",value:O.name||"",onChange:F,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",placeholder:"Enter new view name...",required:!0})]})}),(0,Gr.jsxs)("div",{className:"flex justify-end mt-6 space-x-2",children:[(0,Gr.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gr.jsx)("button",{onClick:V,className:"px-4 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700",children:"Rename"})]})]})})]})},ri=(0,t.memo)(ni),ai=()=>{const{user:e}=(0,t.useContext)(Xr);return e?(0,Gr.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,Gr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Gr.jsxs)("div",{className:"mb-6",children:[(0,Gr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Views"}),(0,Gr.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your dashboard views"})]}),(0,Gr.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,Gr.jsx)(ri,{})})]})}):(0,Gr.jsx)("div",{children:"Loading..."})},si={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,oi=()=>{const{token:e}=he(),n=pe(),[r,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(!0),[l,i]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[h,g]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const t=await Yr.get("".concat(si,"/api/invitations/").concat(e));a(t.data.invitation)}catch(l){var t,n;console.error("Error loading invitation:",l),i((null===(t=l.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load invitation")}finally{o(!1)}})()},[e]);return s?(0,Gr.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center",children:[(0,Gr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,Gr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading invitation..."})]}):l?(0,Gr.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center",children:(0,Gr.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md text-center",children:[(0,Gr.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,Gr.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Invitation Error"}),(0,Gr.jsx)("p",{className:"text-gray-600 mb-6",children:l}),(0,Gr.jsx)("button",{onClick:()=>n("/login"),className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:"Go to Login"})]})}):(0,Gr.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center",children:(0,Gr.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,Gr.jsxs)("div",{className:"text-center mb-6",children:[(0,Gr.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Complete Your Registration"}),(0,Gr.jsxs)("p",{className:"text-gray-600",children:["You've been invited to join ",(0,Gr.jsx)("strong",{children:r.company.name})]}),(0,Gr.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Role: ",r.role]})]}),(0,Gr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i(""),d.trim())if(p.length<6)i("Password must be at least 6 characters long");else if(p===h){u(!0);try{await Yr.post("".concat(si,"/api/invitations/").concat(e,"/complete"),{username:d,password:p}),n("/login",{state:{message:"Registration successful! Please log in with your new account."}})}catch(l){var r,a;console.error("Error completing registration:",l),i((null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to complete registration")}finally{u(!1)}}else i("Passwords do not match");else i("Username is required")},className:"space-y-4",children:[(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Gr.jsx)("input",{type:"email",value:r.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),(0,Gr.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),(0,Gr.jsx)("input",{type:"password",value:p,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,minLength:6}),(0,Gr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters"})]}),(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),(0,Gr.jsx)("input",{type:"password",value:h,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),l&&(0,Gr.jsx)("div",{className:"text-red-500 text-sm text-center",children:l}),(0,Gr.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-blue-400 disabled:cursor-not-allowed",children:c?"Creating Account...":"Create Account"})]}),(0,Gr.jsx)("div",{className:"mt-6 text-center",children:(0,Gr.jsxs)("p",{className:"text-xs text-gray-500",children:["This invitation expires on ",new Date(r.expiresAt).toLocaleDateString()]})})]})})},li=e=>{let{children:t}=e;const{user:n,loading:r}=Qr();return r?(0,Gr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Gr.jsx)("p",{children:"Loading session..."})}):n?t:(0,Gr.jsx)(Re,{to:"/login"})},ii=()=>{const{user:e,loading:n}=(0,t.useContext)(Xr);return n?(0,Gr.jsx)("div",{children:"Loading..."}):e&&"Administrator"===e.role?(0,Gr.jsx)(Oe,{}):(0,Gr.jsx)(Re,{to:"/dashboard"})};const ci=function(){return(0,Gr.jsx)(Jr,{children:(0,Gr.jsx)(ht,{children:(0,Gr.jsxs)(_e,{children:[(0,Gr.jsx)(De,{path:"/login",element:(0,Gr.jsx)(ta,{})}),(0,Gr.jsx)(De,{path:"/login/success",element:(0,Gr.jsx)(ra,{})}),(0,Gr.jsx)(De,{path:"/invite/:token",element:(0,Gr.jsx)(oi,{})}),(0,Gr.jsx)(De,{path:"/dashboard",element:(0,Gr.jsx)(li,{children:(0,Gr.jsx)(Bl,{})})}),(0,Gr.jsx)(De,{path:"/edit-layout/:viewId",element:(0,Gr.jsx)(li,{children:(0,Gr.jsx)($l,{})})}),(0,Gr.jsx)(De,{path:"/create-company",element:(0,Gr.jsx)(li,{children:(0,Gr.jsx)(Gl,{})})}),(0,Gr.jsx)(De,{path:"/contacts",element:(0,Gr.jsx)(li,{children:(0,Gr.jsx)(Zl,{})})}),(0,Gr.jsx)(De,{path:"/my-views",element:(0,Gr.jsx)(li,{children:(0,Gr.jsx)(ai,{})})}),(0,Gr.jsx)(De,{element:(0,Gr.jsx)(ii,{}),children:(0,Gr.jsx)(De,{path:"/edit-company",element:(0,Gr.jsx)(Ql,{})})}),(0,Gr.jsx)(De,{path:"/",element:(0,Gr.jsx)(li,{children:(0,Gr.jsx)(Bl,{})})})]})})})};r.createRoot(document.getElementById("root")).render((0,Gr.jsx)(t.StrictMode,{children:(0,Gr.jsx)(Jr,{children:(0,Gr.jsx)(ci,{})})}))})()})();
//# sourceMappingURL=main.d727bf1b.js.map